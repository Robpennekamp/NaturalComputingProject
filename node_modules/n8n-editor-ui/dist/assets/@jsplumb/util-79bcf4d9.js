function J(t,e,n){return t==="*"?!0:t.length>0?t.indexOf(e)!==-1:!n}function K(t,e,n){var r;t=t||{},e=e||{};var f=t,i=e;if(n)for(r=0;r<n.length;r++)f[n[r]]=i[n[r]];else for(r in i)f[r]=i[r];return t}function T(t){return Object.prototype.toString.call(t)==="[object Number]"}function M(t){return typeof t=="string"}function E(t){return typeof t=="boolean"}function p(t){return t==null?!1:Object.prototype.toString.call(t)==="[object Object]"}function I(t){return Object.prototype.toString.call(t)==="[object Date]"}function b(t){return Object.prototype.toString.call(t)==="[object Function]"}function d(t){if(M(t))return""+t;if(E(t))return!!t;if(I(t))return new Date(t.getTime());if(b(t))return t;if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(d(t[n]));return e}else if(p(t)){var r={};for(var f in t)r[f]=d(t[f]);return r}else return t}function L(t,e,n,r){var f={},i,u,a={};for(n=n||[],r=r||[],u=0;u<n.length;u++)f[n[u]]=!0;for(u=0;u<r.length;u++)a[r[u]]=!0;var s=d(t);for(u in e)if(s[u]==null||a[u])s[u]=e[u];else if(f[u])i=[],i.push.apply(i,Array.isArray(s[u])?s[u]:[s[u]]),i.push(e[u]),s[u]=i;else if(M(e[u])||E(e[u])||b(e[u])||T(e[u]))s[u]=e[u];else if(Array.isArray(e[u]))i=[],Array.isArray(s[u])&&i.push.apply(i,s[u]),i.push.apply(i,e[u]),s[u]=i;else if(p(e[u])){p(s[u])||(s[u]={});for(var l in e[u])s[u][l]=e[u][l]}return s}function V(t,e,n){for(var r=0;r<n.length;r++){var f=n[r][0][n[r][1]].apply(n[r][0],n[r][2]);if(f===e)return f}return t}function $(t,e,n,r){var f=function(a){var s=a.match(/(\${.*?})/g);if(s!=null)for(var l=0;l<s.length;l++){var h=e[s[l].substring(2,s[l].length-1)]||"";h!=null&&(a=a.replace(s[l],h))}if(s=a.match(/({{.*?}})/g),s!=null)for(var c=0;c<s.length;c++){var O=e[s[c].substring(2,s[c].length-2)]||"";O!=null&&(a=a.replace(s[c],O))}return a},i=function u(a){if(a!=null){if(M(a))return f(a);if(b(a)&&!r&&(n==null||(a.name||"").indexOf(n)===0))return a(e);if(Array.isArray(a)){for(var s=[],l=0;l<a.length;l++)s.push(u(a[l]));return s}else if(p(a)){var h={};for(var c in a)h[c]=u(a[c]);return h}else return a}};return i(t)}function Q(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]);else return null}function P(t,e){if(t){for(var n=0;n<t.length;n++)if(e(t[n]))return n}return-1}function R(t,e){var n=[];if(t)for(var r=0;r<t.length;r++)e(t[r])&&n.push(r);return n}function U(t,e){var n=P(t,e);return n===-1?null:t[n]}function Z(t,e){var n=R(t,e);return n.map(function(r){return t[r]})}function X(t,e){var n=null;return t.forEach(function(r){e(r)&&(n=r)}),n}function Y(t){var e=[];return t.forEach(function(n){e.push(n)}),e}function tt(t,e){var n=P(t,e);return n>-1&&t.splice(n,1),n!==-1}function et(t){if(Array.fromArray!=null)return Array.from(t);var e=[];return Array.prototype.push.apply(e,t),e}function w(t,e){var n=t.indexOf(e);return n>-1&&t.splice(n,1),n!==-1}function D(t,e,n,r){var f=t[e];return f==null&&(f=[],t[e]=f),f[r?"unshift":"push"](n),f}function nt(t,e,n){return t.indexOf(e)===-1?(n?t.unshift(e):t.push(e),!0):!1}var o=[];for(var y=0;y<256;y++)o[y]=(y<16?"0":"")+y.toString(16);function W(){var t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return o[t&255]+o[t>>8&255]+o[t>>16&255]+o[t>>24&255]+"-"+o[e&255]+o[e>>8&255]+"-"+o[e>>16&15|64]+o[e>>24&255]+"-"+o[n&63|128]+o[n>>8&255]+"-"+o[n>>16&255]+o[n>>24&255]+o[r&255]+o[r>>8&255]+o[r>>16&255]+o[r>>24&255]}function rt(t,e,n){var r={x:t.x-e.x,y:t.y-e.y},f=Math.cos(n/360*Math.PI*2),i=Math.sin(n/360*Math.PI*2);return{x:r.x*f-r.y*i+e.x,y:r.y*f+r.x*i+e.y,cr:f,sr:i}}function ut(t){if(t==null)return null;for(var e=t.replace(/^\s\s*/,""),n=/\s/,r=e.length;n.test(e.charAt(--r)););return e.slice(0,r+1)}function ft(t,e){t=t.length==null||typeof t=="string"?[t]:t;for(var n=0;n<t.length;n++)e(t[n])}function it(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r]));return n}function x(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(typeof console<"u")try{var r=arguments[arguments.length-1];console.log(r)}catch(f){}}function at(t){return t<0?-1:t>0?1:0}function st(t,e,n){return function(){var r=null;try{e!=null&&(r=e.apply(this,arguments))}catch(f){x("jsPlumb function failed : "+f)}if(t!=null&&(n==null||r!==n))try{r=t.apply(this,arguments)}catch(f){x("wrapped function failed : "+f)}return r}}function lt(t,e,n){return t.has(e)||t.set(e,n()),t.get(e)}function ot(t,e){for(var n=t.__proto__;n!=null;){if(n instanceof e)return!0;n=n.__proto__}return!1}function ct(t,e,n,r){if(e.length===0)e.push(t);else{for(var f=r?-1:1,i=0,u=e.length,a=Math.floor((i+u)/2);u>i;){var s=n(t,e[a])*f;s<0?u=a:i=a+1,a=Math.floor((i+u)/2)}e.splice(a,0,t)}}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e,n){return e&&A(t.prototype,e),n&&A(t,n),t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},g(t)}function m(t,e){return m=Object.setPrototypeOf||function(r,f){return r.__proto__=f,r},m(t,e)}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function G(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t,e){return e&&(typeof e=="object"||typeof e=="function")?e:G(t)}function B(t){var e=k();return function(){var r=g(t),f;if(e){var i=g(this).constructor;f=Reflect.construct(r,arguments,i)}else f=r.apply(this,arguments);return N(this,f)}}var z=function(){function t(){S(this,t),v(this,"_listeners",{}),v(this,"eventsSuspended",!1),v(this,"tick",!1),v(this,"eventsToDieOn",{ready:!0}),v(this,"queue",[])}return j(t,[{key:"fire",value:function(n,r,f){var i=null;if(this.tick)this.queue.unshift(arguments);else{if(this.tick=!0,!this.eventsSuspended&&this._listeners[n]){var u=this._listeners[n].length,a=0,s=!1;if(!this.shouldFireEvent||this.shouldFireEvent(n,r,f))for(;!s&&a<u&&i!==!1;){if(this.eventsToDieOn[n])this._listeners[n][a](r,f);else try{i=this._listeners[n][a](r,f)}catch(l){x("jsPlumb: fire failed for event "+n+" : "+(l.message||l))}a++,(this._listeners==null||this._listeners[n]==null)&&(s=!0)}}this.tick=!1,this._drain()}return i}},{key:"_drain",value:function(){var n=this.queue.pop();n&&this.fire.apply(this,n)}},{key:"unbind",value:function(n,r){if(arguments.length===0)this._listeners={};else if(arguments.length===1){if(typeof n=="string")delete this._listeners[n];else if(n.__jsPlumb){var f;for(var i in n.__jsPlumb)f=n.__jsPlumb[i],w(this._listeners[f]||[],n)}}else arguments.length===2&&w(this._listeners[n]||[],r);return this}},{key:"getListener",value:function(n){return this._listeners[n]||[]}},{key:"isSuspendEvents",value:function(){return this.eventsSuspended}},{key:"setSuspendEvents",value:function(n){this.eventsSuspended=n}},{key:"bind",value:function(n,r,f){var i=this,u=function(l){D(i._listeners,l,r,f),r.__jsPlumb=r.__jsPlumb||{},r.__jsPlumb[W()]=l};if(typeof n=="string")u(n);else if(n.length!=null)for(var a=0;a<n.length;a++)u(n[a]);return this}},{key:"silently",value:function(n){this.setSuspendEvents(!0);try{n()}catch(r){x("Cannot execute silent function "+r)}this.setSuspendEvents(!1)}}]),t}();(function(t){q(n,t);var e=B(n);function n(){return S(this,n),e.apply(this,arguments)}return j(n,[{key:"shouldFireEvent",value:function(f,i,u){return!0}}]),n})(z);var C=[null,[1,-1],[1,1],[-1,1],[-1,-1]],H=[null,[-1,-1],[-1,1],[1,1],[1,-1]],ht=2*Math.PI;function _(t,e){return e.x===t.x?e.y>t.y?1/0:-1/0:e.y===t.y?e.x>t.x?0:-0:(e.y-t.y)/(e.x-t.x)}function yt(t,e){return-1/_(t,e)}function vt(t,e){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function F(t,e){return e.x>t.x||e.x==t.x?e.y>t.y?2:1:e.y>t.y?3:4}function pt(t,e){var n=_(t,e),r=Math.atan(n),f=F(t,e);return(f==4||f==3)&&(r+=Math.PI),r<0&&(r+=2*Math.PI),r}function xt(t,e){var n=t.x,r=t.x+t.w,f=t.y,i=t.y+t.h,u=e.x,a=e.x+e.w,s=e.y,l=e.y+e.h;return n<=u&&u<=r&&f<=s&&s<=i||n<=a&&a<=r&&f<=s&&s<=i||n<=u&&u<=r&&f<=l&&l<=i||n<=a&&u<=r&&f<=l&&l<=i||u<=n&&n<=a&&s<=f&&f<=l||u<=r&&r<=a&&s<=f&&f<=l||u<=n&&n<=a&&s<=i&&i<=l||u<=r&&n<=a&&s<=i&&i<=l}function gt(t,e,n){var r=_(t,e),f=F(t,e),i=n>0?C[f]:H[f],u=Math.atan(r),a=Math.abs(n*Math.sin(u))*i[1],s=Math.abs(n*Math.cos(u))*i[0];return{x:t.x+s,y:t.y+a}}function _t(t,e,n){var r=_(t,e),f=Math.atan(-1/r),i=n/2*Math.sin(f),u=n/2*Math.cos(f);return[{x:e.x+u,y:e.y+i},{x:e.x-u,y:e.y-i}]}function dt(t,e,n,r){n=n==null?e.thresholdX==null?e.w/2:e.thresholdX:n,r=r==null?e.thresholdY==null?e.h/2:e.thresholdY:r;var f=Math.floor(t.x/e.w),i=e.w*f,u=i+e.w,a=Math.abs(t.x-i)<=n?i:Math.abs(u-t.x)<=n?u:t.x,s=Math.floor(t.y/e.h),l=e.h*s,h=l+e.h,c=Math.abs(t.y-l)<=r?l:Math.abs(h-t.y)<=r?h:t.y;return{x:a,y:c}}export{d as A,nt as B,lt as C,J as D,z as E,D as F,pt as G,yt as H,_t as I,Y as J,$ as K,it as L,ct as M,rt as N,T as O,ht as T,P as a,ft as b,Z as c,xt as d,K as e,Q as f,U as g,V as h,M as i,p as j,et as k,x as l,L as m,b as n,X as o,ot as p,ut as q,tt as r,dt as s,at as t,W as u,F as v,st as w,_ as x,gt as y,vt as z};
//# sourceMappingURL=util-79bcf4d9.js.map
