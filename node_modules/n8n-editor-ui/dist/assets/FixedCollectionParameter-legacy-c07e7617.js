System.register(["./ParameterInputList-legacy-fa43e42a.js","./vendor-legacy-a14d0497.js","./n8n-legacy-89800d3e.js","./pinia-legacy-89d6b0e5.js","./axios-legacy-36e4071c.js","./flatted-legacy-75212d83.js","./vue-i18n-legacy-805512d9.js","./en-legacy-6da8257d.js","./dateformat-legacy-2391c474.js","./lodash-es-legacy-4ad49555.js","./vue-typed-mixins-legacy-f24fdadd.js","./codemirror-lang-html-n8n-legacy-bbe58e16.js","./@jsplumb/browser-ui-legacy-dc4ca6ad.js","./@jsplumb/core-legacy-3789fada.js","./@jsplumb/util-legacy-b5c07987.js","./@jsplumb/common-legacy-1cf8cb8a.js","./@jsplumb/connector-bezier-legacy-d8332ba3.js","./uuid-legacy-07e4db56.js","./codemirror-lang-n8n-expression-legacy-c5cd8343.js","./luxon-legacy-31030795.js","./fast-json-stable-stringify-legacy-1697e93c.js","./esprima-next-legacy-de1b7587.js","./prettier-legacy-a7858f24.js","./@fortawesome/fontawesome-svg-core-legacy-3ab03321.js"],(function(e,t){"use strict";var a,l,s,i,n,o,r=document.createElement("style");return r.textContent="[data-v-a31e0198] .button{--button-background-color: var(--color-background-base);--button-border-color: var(--color-foreground-base)}.fixed-collection-parameter[data-v-a31e0198]{padding-left:var(--spacing-s)}.fixed-collection-parameter-property[data-v-a31e0198]{margin:var(--spacing-xs) 0}.delete-option[data-v-a31e0198]{display:none;position:absolute;z-index:999;color:#f56c6c;left:0;top:.5em;width:15px;height:100%}.parameter-item:hover>.parameter-item-wrapper>.delete-option[data-v-a31e0198]{display:block}.parameter-item[data-v-a31e0198]{position:relative;padding:0 0 0 1em}.parameter-item+.parameter-item .parameter-item-wrapper[data-v-a31e0198]{border-top:1px dashed #999}.parameter-item+.parameter-item .parameter-item-wrapper .delete-option[data-v-a31e0198]{top:14px}.no-items-exist[data-v-a31e0198]{margin:var(--spacing-xs) 0}.sort-icon[data-v-a31e0198]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-left:1px;margin-top:.5em}\n",document.head.appendChild(r),{setters:[e=>{a=e.cF},e=>{l=e.d},e=>{s=e.D,i=e.a8,n=e.m,o=e.y},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const r=l({name:"FixedCollectionParameter",props:{nodeValues:{type:Object,required:!0},parameter:{type:Object,required:!0},path:{type:String,required:!0},values:{type:Object,default:()=>({})},isReadOnly:{type:Boolean,default:!1}},components:{ParameterInputList:async()=>a((()=>t.import("./ParameterInputList-legacy-fa43e42a.js").then((e=>e.ed))),void 0)},data:()=>({selectedOption:void 0,mutableValues:{}}),watch:{values:{handler(e){this.mutableValues=s(e)},deep:!0}},created(){this.mutableValues=s(this.values)},computed:{getPlaceholderText(){const e=this.$locale.nodeText().placeholder(this.parameter,this.path);return e||this.$locale.baseText("fixedCollectionParameter.choose")},getProperties(){const e=[];let t;for(const a of this.propertyNames)t=this.getOptionProperties(a),void 0!==t&&e.push(t);return e},multipleValues(){return!!this.parameter.typeOptions?.multipleValues},parameterOptions(){return this.multipleValues&&i(this.parameter.options)?this.parameter.options:this.parameter.options.filter((e=>!this.propertyNames.includes(e.name)))},propertyNames(){return Object.keys(this.mutableValues||{})},sortable(){return!!this.parameter.typeOptions?.sortable}},methods:{deleteOption(e,t){const a=this.mutableValues[e];!a||a.length>1?this.$emit("valueChanged",{name:this.getPropertyPath(e,t),value:void 0}):this.$emit("valueChanged",{name:this.getPropertyPath(e),value:void 0})},getPropertyPath(e,t){return`${this.path}.${e}`+(void 0!==t?`[${t}]`:"")},getOptionProperties(e){if(i(this.parameter.options))for(const t of this.parameter.options)if(t.name===e)return t},moveOptionDown(e,t){Array.isArray(this.mutableValues[e])&&this.mutableValues[e].splice(t+1,0,this.mutableValues[e].splice(t,1)[0]);const a={name:this.getPropertyPath(e),value:this.mutableValues[e]};this.$emit("valueChanged",a)},moveOptionUp(e,t){Array.isArray(this.mutableValues[e])&&this.mutableValues?.[e].splice(t-1,0,this.mutableValues[e].splice(t,1)[0]);const a={name:this.getPropertyPath(e),value:this.mutableValues[e]};this.$emit("valueChanged",a)},optionSelected(e){const t=this.getOptionProperties(e);if(void 0===t)return;const a=`${this.path}.${t.name}`,l={};for(const r of t.values)"fixedCollection"===r.type&&void 0!==r.typeOptions&&!0===r.typeOptions.multipleValues?l[r.name]={}:void 0!==r.typeOptions&&!0===r.typeOptions.multipleValues?(l[r.name]=n(this.nodeValues,`${this.path}.${r.name}`,[]),Array.isArray(r.default)?l[r.name].push(...s(r.default)):""!==r.default&&"object"!=typeof r.default&&l[r.name].push(s(r.default))):l[r.name]=s(r.default);let i;this.multipleValues?(i=n(this.nodeValues,a,[]),i.push(l)):i=l;const o={name:a,value:i};this.$emit("valueChanged",o),this.selectedOption=void 0},valueChanged(e){this.$emit("valueChanged",e)}}});e("default",o(r,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"fixed-collection-parameter",on:{keydown:function(e){e.stopPropagation()}}},[0===e.getProperties.length?t("div",{staticClass:"no-items-exist"},[t("n8n-text",{attrs:{size:"small"}},[e._v(e._s(e.$locale.baseText("fixedCollectionParameter.currentlyNoItemsExist")))])],1):e._e(),e._l(e.getProperties,(function(a){return t("div",{key:a.name,staticClass:"fixed-collection-parameter-property"},[""!==a.displayName&&e.parameter.options&&1!==e.parameter.options.length?t("n8n-input-label",{attrs:{label:e.$locale.nodeText().inputLabelDisplayName(a,e.path),underline:!0,size:"small",color:"text-dark"}}):e._e(),e.multipleValues?t("div",e._l(e.mutableValues[a.name],(function(l,s){return t("div",{key:a.name+s,staticClass:"parameter-item"},[t("div",{staticClass:"parameter-item-wrapper"},[e.isReadOnly?e._e():t("div",{staticClass:"delete-option"},[t("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"trash",title:e.$locale.baseText("fixedCollectionParameter.deleteItem")},on:{click:function(t){return e.deleteOption(a.name,s)}}}),e.sortable?t("div",{staticClass:"sort-icon"},[0!==s?t("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"angle-up",title:e.$locale.baseText("fixedCollectionParameter.moveUp")},on:{click:function(t){return e.moveOptionUp(a.name,s)}}}):e._e(),s!==e.mutableValues[a.name].length-1?t("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"angle-down",title:e.$locale.baseText("fixedCollectionParameter.moveDown")},on:{click:function(t){return e.moveOptionDown(a.name,s)}}}):e._e()],1):e._e()],1),t("parameter-input-list",{attrs:{parameters:a.values,nodeValues:e.nodeValues,path:e.getPropertyPath(a.name,s),hideDelete:!0,isReadOnly:e.isReadOnly},on:{valueChanged:e.valueChanged}})],1)])})),0):t("div",{staticClass:"parameter-item"},[t("div",{staticClass:"parameter-item-wrapper"},[e.isReadOnly?e._e():t("div",{staticClass:"delete-option"},[t("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"trash",title:e.$locale.baseText("fixedCollectionParameter.deleteItem")},on:{click:function(t){return e.deleteOption(a.name)}}})],1),t("parameter-input-list",{staticClass:"parameter-item",attrs:{parameters:a.values,nodeValues:e.nodeValues,path:e.getPropertyPath(a.name),isReadOnly:e.isReadOnly,hideDelete:!0},on:{valueChanged:e.valueChanged}})],1)])],1)})),e.parameterOptions.length>0&&!e.isReadOnly?t("div",[1===e.parameter.options.length?t("n8n-button",{attrs:{type:"tertiary",block:"",label:e.getPlaceholderText},on:{click:function(t){return e.optionSelected(e.parameter.options[0].name)}}}):t("div",{staticClass:"add-option"},[t("n8n-select",{attrs:{placeholder:e.getPlaceholderText,size:"small",filterable:""},on:{change:e.optionSelected},model:{value:e.selectedOption,callback:function(t){e.selectedOption=t},expression:"selectedOption"}},e._l(e.parameterOptions,(function(a){return t("n8n-option",{key:a.name,attrs:{label:e.$locale.nodeText().collectionOptionDisplayName(e.parameter,a,e.path),value:a.name}})})),1)],1)],1):e._e()],2)}),[],!1,null,"a31e0198",null,null).exports)}}}));
//# sourceMappingURL=FixedCollectionParameter-legacy-c07e7617.js.map
