System.register(["./vendor-legacy-a14d0497.js","./axios-legacy-36e4071c.js","./ParameterInputList-legacy-fa43e42a.js","./n8n-legacy-89800d3e.js","./index-legacy-ca477c41.js","./MappingPill-legacy-a7f59cf7.js","./pinia-legacy-89d6b0e5.js","./flatted-legacy-75212d83.js","./vue-i18n-legacy-805512d9.js","./en-legacy-6da8257d.js","./dateformat-legacy-2391c474.js","./lodash-es-legacy-4ad49555.js","./vue-typed-mixins-legacy-f24fdadd.js","./codemirror-lang-html-n8n-legacy-bbe58e16.js","./@jsplumb/browser-ui-legacy-dc4ca6ad.js","./@jsplumb/core-legacy-3789fada.js","./@jsplumb/util-legacy-b5c07987.js","./@jsplumb/common-legacy-1cf8cb8a.js","./@jsplumb/connector-bezier-legacy-d8332ba3.js","./uuid-legacy-07e4db56.js","./codemirror-lang-n8n-expression-legacy-c5cd8343.js","./luxon-legacy-31030795.js","./fast-json-stable-stringify-legacy-1697e93c.js","./esprima-next-legacy-de1b7587.js","./prettier-legacy-a7858f24.js","./@fortawesome/fontawesome-svg-core-legacy-3ab03321.js","./@fortawesome/free-solid-svg-icons-legacy-ba7fe72e.js","./@fortawesome/free-regular-svg-icons-legacy-1680ae07.js","./@fortawesome/vue-fontawesome-legacy-4c542afc.js","./vue2-touch-events-legacy-939320e5.js","./v-click-outside-legacy-99d5f0e6.js","./vue-fragment-legacy-9d2d7984.js","./vue-agile-legacy-64494419.js","./timeago.js-legacy-1d5e22e2.js","./canvas-confetti-legacy-958a221a.js","./file-saver-legacy-d7cd28ca.js","./vue2-teleport-legacy-5ae50eb1.js","./vue-json-pretty-legacy-4244ae9f.js","./humanize-duration-legacy-44aaa40b.js","./vue-infinite-loading-legacy-1b9c9210.js","./copy-to-clipboard-legacy-d0130a4f.js"],(function(e,a){"use strict";var t,l,n,s,r,i,o,c,d,p,_,y,u,g,m,b,h,x=document.createElement("style");return x.textContent='._item_14xdy_1{display:block;position:relative;-webkit-transition:all .3s cubic-bezier(.19,1,.22,1);transition:all .3s cubic-bezier(.19,1,.22,1)}._item_14xdy_1 ._item_14xdy_1{padding-top:var(--spacing-2xs);padding-left:var(--spacing-l)}._item_14xdy_1 input{position:absolute;left:-100%}._item_14xdy_1 input~._sub_14xdy_14{height:0}._item_14xdy_1 input~._sub_14xdy_14>._item_14xdy_1{-webkit-transform:translateX(-100%);transform:translate(-100%)}._item_14xdy_1 input:checked~._toggle_14xdy_20 svg{-webkit-transform:rotate(180deg);transform:rotate(180deg)}._item_14xdy_1 input:checked~._sub_14xdy_14{height:auto}._item_14xdy_1 input:checked~._sub_14xdy_14>._item_14xdy_1{-webkit-transform:translateX(0);transform:translate(0)}._item_14xdy_1:after{content:"";display:block;clear:both}._sub_14xdy_14{display:block;overflow:hidden;-webkit-transition:all .2s cubic-bezier(.19,1,.22,1);transition:all .2s cubic-bezier(.19,1,.22,1);clear:both}._sub_14xdy_14._flat_14xdy_41>._item_14xdy_1{padding-left:0}._sub_14xdy_14:nth-of-type(1)>._item_14xdy_1:nth-of-type(1){padding-top:0}._sub_14xdy_14:nth-of-type(1)>._item_14xdy_1:nth-of-type(1) ._toggle_14xdy_20{top:-2px}._pill_14xdy_51{float:left;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:24px;padding:0 var(--spacing-3xs);border:1px solid var(--color-foreground-light);border-radius:4px;background-color:var(--color-background-xlight);font-size:var(--font-size-2xs);color:var(--color-text-dark)}._pill_14xdy_51 span{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center}._pill_14xdy_51 span svg path{fill:var(--color-text-light)}._pill_14xdy_51._mappable_14xdy_70{cursor:-webkit-grab;cursor:grab}._pill_14xdy_51._mappable_14xdy_70:hover,._pill_14xdy_51._mappable_14xdy_70:hover span span{background-color:var(--color-background-light);border-color:var(--color-foreground-base)}._pill_14xdy_51._dragged_14xdy_78,._pill_14xdy_51._dragged_14xdy_78:hover,._pill_14xdy_51._dragged_14xdy_78 span{color:var(--color-primary);border-color:var(--color-primary-tint-1);background-color:var(--color-primary-tint-3)}._pill_14xdy_51._dragged_14xdy_78 svg path,._pill_14xdy_51._dragged_14xdy_78:hover svg path,._pill_14xdy_51._dragged_14xdy_78 span svg path{fill:var(--color-primary)}._label_14xdy_89>span{margin-left:var(--spacing-3xs);padding-left:var(--spacing-3xs);border-left:1px solid var(--color-foreground-light)}._label_14xdy_89>span._arrayIndex_14xdy_94{border:0;padding-left:0;margin-left:0}._text_14xdy_100{display:block;padding-top:var(--spacing-4xs);padding-left:var(--spacing-2xs);font-weight:var(--font-weight-normal);font-size:var(--font-size-2xs);overflow:hidden;word-break:break-word}._toggle_14xdy_20{display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;padding:var(--spacing-2xs);left:0;top:5px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-weight:400;font-size:var(--font-size-s);overflow:hidden}._toggle_14xdy_20 svg{-webkit-transition:all .3s cubic-bezier(.19,1,.22,1);transition:all .3s cubic-bezier(.19,1,.22,1)}._schemaWrapper_1mtap_1{position:absolute;top:0;left:0;bottom:0;right:0;overflow:auto;line-height:1.5;word-break:normal;height:100%;width:100%;background-color:var(--color-background-base)}._schemaWrapper_1mtap_1>div[class*=info]{padding:0 var(--spacing-s)}._schema_1mtap_1{display:inline-block;padding:0 var(--spacing-s) var(--spacing-s)}\n',document.head.appendChild(x),{setters:[e=>{t=e.d,l=e.c,n=e.r},null,e=>{s=e.c3,r=e.e9,i=e.eb,o=e.p,c=e.bv,d=e.ec,p=e.bA,_=e.bw,y=e.bu},e=>{u=e.y,g=e.a9},e=>{m=e.D,b=e.t},e=>{h=e.M},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const a=t({__name:"RunDataSchemaItem",props:{schema:null,level:null,parent:null,subKey:null,paneType:null,mappingEnabled:{type:Boolean},draggingPath:null,distanceFromActive:null,node:null},setup(e){const a=e,t=l((()=>Array.isArray(a.schema.value))),n=l((()=>"array"===a.parent?.type)),o=l((()=>0===a.level&&Array.isArray(a.schema.value)&&a.schema.value.every((e=>!Array.isArray(e.value))))),c=l((()=>n.value?`[${a.schema.key}]`:a.schema.key)),d=l((()=>n.value?`${a.schema.type}[${a.schema.key}]`:a.schema.key)),p=l((()=>Array.isArray(a.schema.value)?"":s(a.schema.value,600,0)));return{__sfc:!0,props:a,isSchemaValueArray:t,isSchemaParentTypeArray:n,isFlat:o,key:c,schemaName:d,text:p,getJsonParameterPath:e=>r({nodeName:a.node.name,distanceFromActive:a.distanceFromActive,path:e}),transitionDelay:e=>.033*e+"s",getIconBySchemaType:e=>{switch(e){case"object":return"cube";case"array":return"list";case"string":case"null":return"font";case"number":return"hashtag";case"boolean":return"check-square";case"function":return"code";case"bigint":return"calculator";case"symbol":return"sun";case"undefined":return"ban"}i(e)}}}}),x={$style:{item:"_item_14xdy_1",sub:"_sub_14xdy_14",toggle:"_toggle_14xdy_20",flat:"_flat_14xdy_41",pill:"_pill_14xdy_51",mappable:"_mappable_14xdy_70",dragged:"_dragged_14xdy_78",label:"_label_14xdy_89",arrayIndex:"_arrayIndex_14xdy_94",text:"_text_14xdy_100"}};function v(e){for(var a in x)this[a]=x[a]}const f=u(a,(function(){var e=this,a=e._self._c,t=e._self._setupProxy;return a("div",{class:e.$style.item,attrs:{"data-test-id":"run-data-schema-item"}},[e.level>0||0===e.level&&!t.isSchemaValueArray?a("div",{class:{[e.$style.pill]:!0,[e.$style.mappable]:e.mappingEnabled,[e.$style.dragged]:e.draggingPath===e.schema.path},attrs:{title:e.schema.type}},[a("span",{class:e.$style.label,attrs:{"data-value":t.getJsonParameterPath(e.schema.path),"data-name":t.schemaName,"data-path":e.schema.path,"data-depth":e.level,"data-target":"mappable"}},[a("font-awesome-icon",{attrs:{icon:t.getIconBySchemaType(e.schema.type),size:"sm"}}),t.isSchemaParentTypeArray?a("span",[e._v(e._s(e.parent.key))]):e._e(),t.key?a("span",{class:{[e.$style.arrayIndex]:t.isSchemaParentTypeArray}},[e._v(e._s(t.key))]):e._e()],1)]):e._e(),t.text?a("span",{staticClass:"ph-no-capture",class:e.$style.text},[e._v(e._s(t.text))]):e._e(),e.level>0&&t.isSchemaValueArray?a("input",{attrs:{id:e.subKey,type:"checkbox",checked:""}}):e._e(),e.level>0&&t.isSchemaValueArray?a("label",{class:e.$style.toggle,attrs:{for:e.subKey}},[a("font-awesome-icon",{attrs:{icon:"angle-up"}})],1):e._e(),t.isSchemaValueArray?a("div",{class:{[e.$style.sub]:!0,[e.$style.flat]:t.isFlat}},e._l(e.schema.value,(function(l,n){return a("run-data-schema-item",{key:`${l.type}-${e.level}-${n}`,style:{transitionDelay:t.transitionDelay(n)},attrs:{schema:l,level:e.level+1,parent:e.schema,paneType:e.paneType,subKey:`${e.paneType}_${l.type}-${e.level}-${n}`,mappingEnabled:e.mappingEnabled,draggingPath:e.draggingPath,distanceFromActive:e.distanceFromActive,node:e.node}})})),1):e._e()])}),[],!1,v,null,null,null).exports,k=t({__name:"RunDataSchema",props:{data:null,mappingEnabled:{type:Boolean},distanceFromActive:{default:0},runIndex:null,totalRuns:null,paneType:null,node:null},setup(e){const a=e,t=n(""),s=o(),r=c(),i=l((()=>{const[e,...t]=a.data;return d(g({},e,...t,e))})),u=l((()=>p(a.data)));return{__sfc:!0,props:a,draggingPath:t,ndvStore:s,webhooksStore:r,schema:i,isDataEmpty:u,onDragStart:e=>{e&&e.dataset?.path&&(t.value=e.dataset.path),s.resetMappingTelemetry()},onDragEnd:e=>{t.value="",setTimeout((()=>{const t=s.mappingTelemetry,l={src_node_type:a.node?.type,src_field_name:e.dataset.name||"",src_nodes_back:a.distanceFromActive,src_run_index:a.runIndex,src_runs_total:a.totalRuns,src_field_nest_level:e.dataset.depth||0,src_view:"schema",src_element:e,success:!1,...t};y("runDataJson.onDragEnd",r,l),b.track("User dragged data for mapping",l)}),1e3)},RunDataSchemaItem:f,Draggable:m,i18n:_,MappingPill:h}}}),j={$style:{schemaWrapper:"_schemaWrapper_1mtap_1",schema:"_schema_1mtap_1"}};function w(e){for(var a in j)this[a]=j[a]}e("default",u(k,(function(){var e=this,a=e._self._c,t=e._self._setupProxy;return a("div",{class:e.$style.schemaWrapper},[t.isDataEmpty?a("n8n-info-tip",[e._v(e._s(t.i18n.baseText("dataMapping.schemaView.emptyData")))]):a(t.Draggable,{attrs:{type:"mapping",targetDataKey:"mappable",disabled:!e.mappingEnabled},on:{dragstart:t.onDragStart,dragend:t.onDragEnd},scopedSlots:e._u([{key:"preview",fn:function({canDrop:l,el:n}){return[n?a(t.MappingPill,{attrs:{html:n.outerHTML,"can-drop":l}}):e._e()]}}])},[[a("div",{class:e.$style.schema},[a(t.RunDataSchemaItem,{attrs:{schema:t.schema,level:0,parent:null,paneType:e.paneType,subKey:`${t.schema.type}-0-0`,mappingEnabled:e.mappingEnabled,draggingPath:t.draggingPath,distanceFromActive:e.distanceFromActive,node:e.node}})],1)]],2)],1)}),[],!1,w,null,null,null).exports)}}}));
//# sourceMappingURL=RunDataSchema-legacy-5278efb1.js.map
