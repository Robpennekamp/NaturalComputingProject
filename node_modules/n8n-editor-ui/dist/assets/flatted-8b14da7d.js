/*! (c) 2020 Andrea Giammarchi */const{parse:h,stringify:w}=JSON,{keys:k}=Object,f=String,v="string",g={},m="object",b=(e,s)=>s,j=e=>e instanceof f?f(e):e,S=(e,s)=>typeof s===v?new f(s):s,p=(e,s,n,i)=>{const o=[];for(let t=k(n),{length:l}=t,r=0;r<l;r++){const c=t[r],y=n[c];if(y instanceof f){const a=e[y];typeof a===m&&!s.has(a)?(s.add(a),n[c]=g,o.push({k:c,a:[e,s,a,i]})):n[c]=i.call(n,c,a)}else n[c]!==g&&(n[c]=i.call(n,c,y))}for(let{length:t}=o,l=0;l<t;l++){const{k:r,a:c}=o[l];n[r]=i.call(n,r,p.apply(null,c))}return n},O=(e,s)=>{const n=h(e,S).map(j),i=n[0],o=s||b,t=typeof i===m&&i?p(n,new Set,i,o):i;return o.call({"":t},"",t)};export{O as p};
//# sourceMappingURL=flatted-8b14da7d.js.map
