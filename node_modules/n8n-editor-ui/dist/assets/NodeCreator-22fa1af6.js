import{d as I,r as O,s as ze,c as T,a as pe,o as te,A as at,g as _e,l as H,p as Fe,w as K}from"./vendor-df0f493f.js";import{dU as R,dV as W,c_ as D,d4 as M,cV as Q,bw as F,cj as Y,dW as it,dX as ie,cn as ce,dY as we,dZ as be,dC as ge,d_ as Te,d$ as $e,e0 as xe,e1 as Se,bu as Z,bv as J,o as le,k as We,d3 as se,ca as ct,B as lt,g as dt,d7 as Ge,d8 as ee,j as ut,dQ as pt,e2 as Ne,e3 as de,e4 as _t,a as gt}from"./ParameterInputList-a8424193.js";import{y as A,D as ft}from"./n8n-8025af5e.js";import{d as qe}from"./pinia-ba86f1d8.js";import"./axios-f993d27a.js";import"./dateformat-ef117725.js";import{v as ue}from"./uuid-cf522c50.js";import{s as oe,c as je}from"./lodash-es-e1022157.js";import{N as Xe}from"./index-3ee35394.js";import"./flatted-8b14da7d.js";import"./vue-i18n-b439dfd7.js";import"./en-bbe6b9d4.js";import"./vue-typed-mixins-a25478b2.js";import"./codemirror-lang-html-n8n-728c3977.js";import"./@jsplumb/browser-ui-ddea9532.js";import"./@jsplumb/core-75ba1e73.js";import"./@jsplumb/util-79bcf4d9.js";import"./@jsplumb/common-fe415eb9.js";import"./@jsplumb/connector-bezier-c9c16c6b.js";import"./codemirror-lang-n8n-expression-0036beb8.js";import"./luxon-3d1ae2f1.js";import"./fast-json-stable-stringify-0e965c3b.js";import"./esprima-next-d1b163ef.js";import"./prettier-50ab9e24.js";import"./@fortawesome/fontawesome-svg-core-a6b9645d.js";import"./@fortawesome/free-solid-svg-icons-a2911fb5.js";import"./@fortawesome/free-regular-svg-icons-74cb85f8.js";import"./@fortawesome/vue-fontawesome-1701eda0.js";import"./vue2-touch-events-2bad05e9.js";import"./v-click-outside-01179a04.js";import"./vue-fragment-f3d0cc79.js";import"./vue-agile-00cde7d9.js";import"./timeago.js-a9e71aec.js";import"./canvas-confetti-60b90aac.js";import"./file-saver-d988540e.js";import"./vue2-teleport-53e66c3b.js";import"./vue-json-pretty-49f1c0cb.js";import"./humanize-duration-3471cd08.js";import"./vue-infinite-loading-8e5543e4.js";import"./copy-to-clipboard-fcf36459.js";const yt=30,mt=30,vt=30,ht=15,wt=-15,Ce=-200,bt=-5;function Tt(r,e){let t=0,o=0;for(;t<r.length&&o<e.length;){const n=r.charAt(t).toLowerCase(),c=e.charAt(o).toLowerCase();n===c&&t++,++o}return r.length!==0&&e.length!==0&&t===r.length}function $t(r,e){return Qe(r,e,0,0,null,[],256,0,0,5)}function Qe(r,e,t,o,n,c,p,y,i,u){let l=0;if(++i>=u)return{matched:!1,outScore:l};if(t===r.length||o===e.length)return{matched:!1,outScore:l};let g=!1,f=[],m=0,s=!0;for(;t<r.length&&o<e.length;){if(r[t].toLowerCase()===e[o].toLowerCase()){if(y>=p)return{matched:!1,outScore:l};s&&n&&(c=[...n],s=!1);const _=[],d=Qe(r,e,t,o+1,c,_,p,y,i,u),a=d.outScore;d.matched&&((!g||a>m)&&(f=[..._],m=a),g=!0),c[y++]=o,++t}++o}const v=t===r.length;if(v){l=100;let _=wt*c[0];_=_<Ce?Ce:_,l+=_;const d=e.length-y;l+=bt*d;for(let a=0;a<y;a++){const w=c[a];if(a>0){const h=c[a-1];w===h+1&&(l+=yt)}if(w>0){const h=e[w-1],b=e[w];h!==h.toUpperCase()&&b!==b.toLowerCase()&&(l+=vt),(h==="_"||h===" ")&&(l+=mt)}else l+=ht}return g&&(!v||m>l)?(c=[...f],l=m,{matched:!0,outScore:l}):v?{matched:!0,outScore:l}:{matched:!1,outScore:l}}return{matched:!1,outScore:l}}function xt(r,e){if(r.hasOwnProperty(e))return r[e];const t=e.split(".");let o=r,n=0;for(;o&&n<t.length;)o=o[t[n]],n++;return o}function St(r,e,t){const o=e.reduce((n,c)=>{let p=[];t.forEach(({key:i,weight:u})=>{const l=xt(c,i);Array.isArray(l)?p=p.concat(l.map(g=>({value:g,weight:u}))):typeof l=="string"&&p.push({value:l,weight:u})});const y=p.reduce((i,{value:u,weight:l})=>{if(!Tt(r,u))return i;const g=$t(r,u);g.outScore*=l;const{matched:f,outScore:m}=g;return!i&&f||f&&i&&m>i.outScore?g:i},null);return y&&n.push({score:y.outScore,item:c}),n},[]);return o.sort((n,c)=>c.score-n.score),o}const Nt=I({name:"SlideTransition"});var Ct=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("transition",{attrs:{name:"slide"}},[e._t("default")],2)},kt=[],It=A(Nt,Ct,kt,!1,null,"6b67a4fa",null,null);const At=It.exports,Et="data-keyboard-nav-id",ke=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Escape","Tab"],B=qe("nodeCreatorKeyboardNavigation",()=>{const r=O([]),e=O(null),t=O({});function o(_){return _==null?void 0:_.getAttribute("data-keyboard-nav-type")}function n(_){return(_==null?void 0:_.getAttribute(Et))||void 0}async function c(){return new Promise(_=>{s(),setTimeout(()=>{r.value=Array.from(document.querySelectorAll("[data-keyboard-nav-type]")).map(d=>new WeakRef(d)),_()},0)})}function p(_,d){Object.values(t.value).filter(h=>h.keyboardKeys.includes(_)).forEach(h=>{if(!e.value)return;(h.condition===void 0||h.condition(o(d)||"",e.value))&&e.value&&h.handler(e.value,_)})}async function y(_){var $,x,C;const d=_.key;if(!ke.includes(d))return;_.preventDefault(),_.stopPropagation(),await c();const a=r.value.findIndex(L=>n(L==null?void 0:L.deref())===e.value),w=($=r.value[a])==null?void 0:$.deref(),h=d==="ArrowDown",b=d==="ArrowUp";if(w){if(h){const L=a<r.value.length-1?a+1:0;u((x=r.value[L])==null?void 0:x.deref())}if(b){const L=a>0?a-1:r.value.length-1;u((C=r.value[L])==null?void 0:C.deref())}p(d,w)}}function i(_){e.value=_}function u(_){const d=n(_);d&&(i(d),_!=null&&_.scrollIntoView&&(_==null||_.scrollIntoView({block:"center"})))}async function l(_){var d;await c(),u((d=r.value[_])==null?void 0:d.deref())}function g(){document.addEventListener("keydown",y,{capture:!0})}function f(){s(),document.removeEventListener("keydown",y,{capture:!0})}function m(_,d){d.keyboardKeys.forEach(a=>{if(ke.includes(a))ze(t.value,_,d);else throw new Error(`Key ${a} is not supported`)})}function s(){r.value=[]}function v(){return r.value.findIndex(_=>n(_==null?void 0:_.deref())===e.value)}return{activeItemId:e,attachKeydownEvent:g,refreshSelectableItems:c,detachKeydownEvent:f,registerKeyHook:m,getActiveItemIndex:v,setActiveItemId:i,setActiveItemIndex:l}});function z(r,e,t="node"){var n,c,p,y;const o={uuid:ue(),key:r.name,subcategory:(y=e!=null?e:(p=(c=(n=r.codex)==null?void 0:n.subcategories)==null?void 0:c[R])==null?void 0:p[0])!=null?y:W,properties:{...r},type:t};return o}function Rt(r){return r.reduce((e,t)=>{var c,p,y,i,u;return(((p=(c=t.codex)==null?void 0:c.categories)==null?void 0:p.includes(R))?(u=(i=(y=t==null?void 0:t.codex)==null?void 0:y.subcategories)==null?void 0:i[R])!=null?u:[]:[W]).forEach(l=>{e[l]||(e[l]=[]),e[l].push(z(t,l))}),e},{})}function Ze(r){return r.sort((e,t)=>{var c,p,y,i;if(e.type!=="node"||t.type!=="node")return-1;const o=((p=(c=e.properties)==null?void 0:c.displayName)==null?void 0:p.toLowerCase())||e.key,n=((i=(y=t.properties)==null?void 0:y.displayName)==null?void 0:i.toLowerCase())||t.key;return o.localeCompare(n,void 0,{sensitivity:"base"})})}function Ie(r,e){const t=r.toLowerCase().replace("trigger","").trimEnd();return(St(t,e,[{key:"properties.displayName",weight:2},{key:"properties.codex.alias",weight:1}])||[]).map(({item:n})=>n)}const N=qe("nodeCreatorViewStacks",()=>{const r=D(),{getActiveItemIndex:e}=B(),t=O([]),o=T(()=>{const s=t.value[t.value.length-1];if(!(s!=null&&s.baselineItems))return s.items?u(s.items):[];if(s.search&&p.value){const v=p.value.length>0?p.value:s.baselineItems;return u(Ie(s.search||"",v))}return u(s.baselineItems)}),n=T(()=>{const s=t.value[t.value.length-1];return s?{...s,items:o.value,hasSearch:(s.baselineItems||[]).length>8||(s==null?void 0:s.hasSearch)}:{}}),c=T(()=>n.value.mode||M),p=T(()=>{const s=t.value[t.value.length-1];return!s||!s.searchItems?[]:s.searchItems.map(v=>z(v,s.subcategory))}),y=T(()=>{const s=t.value[t.value.length-1];if(!s||!s.search)return[];const v=r.mergedNodes.map(d=>z(d));return u(Ie(s.search||"",v)).filter(d=>!o.value.find(a=>a.key===d.key))});function i(){var d,a,w,h;const s=t.value[t.value.length-1];if(!s||!n.value.uuid)return;const v=Rt(r.mergedNodes);let _=(w=(a=s==null?void 0:s.items)!=null?a:v[(d=s==null?void 0:s.subcategory)!=null?d:W])!=null?w:[];if(((h=s.forceIncludeNodes)!=null?h:[]).length>0){const b=r.mergedNodes.filter($=>{var x;return(x=s.forceIncludeNodes)==null?void 0:x.includes($.name)}).map($=>z($,s.subcategory));_.push(...b)}s.baseFilter&&(_=_.filter(s.baseFilter)),s.itemsMapper&&(_=_.map(s.itemsMapper)),s.items||Ze(_),f({baselineItems:_})}function u(s){return s.map(v=>({...v,uuid:`${v.key}-${ue()}`}))}function l(s){n.value.uuid&&f({activeIndex:e()});const v=ue();t.value.push({...s,uuid:v,transitionDirection:"in",activeIndex:0}),i()}function g(){n.value.uuid&&(t.value.pop(),f({transitionDirection:"out"}))}function f(s){const v=t.value[t.value.length-1],_=t.value.findIndex(d=>d.uuid===v.uuid);v&&Object.keys(s).forEach(d=>{const a=d;ze(t.value[_],d,s[a])})}function m(){t.value=[]}return{viewStacks:t,activeViewStack:n,activeViewStackMode:c,globalSearchItemsDiff:y,resetViewStacks:m,updateCurrentViewStack:f,pushViewStack:l,popViewStack:g}}),Je="placeholder_recommended",ae={["n8n-nodes-base.hubspotTrigger"]:(r,e)=>{var o,n,c;const t=(o=r==null?void 0:r.options)==null?void 0:o[0];return(c=(n=t==null?void 0:t.values[0])==null?void 0:n.options)==null?void 0:c.map(p=>({...j(e),actionKey:p.value,displayName:F.baseText("nodeCreator.actionsCategory.onEvent",{interpolate:{event:oe(p.name)}}),description:p.description||"",displayOptions:r.displayOptions,values:{eventsUi:{eventValues:[{name:p.value}]}}}))}};function j(r,e){const o=r.group.includes("trigger")?F.baseText("nodeCreator.actionsCategory.triggers"):F.baseText("nodeCreator.actionsCategory.actions");return{name:r.name,group:r.group,codex:{label:e||"",categories:[o]},iconUrl:r.iconUrl,icon:r.icon,defaults:r.defaults}}function Lt(r){if(r.properties.find(n=>n.name==="resource"))return[];const e=r.properties.find(n=>{var c;return((c=n.name)==null?void 0:c.toLowerCase())==="operation"});if(!e||!e.options)return[];const o=e.options.filter(n=>!["*",""," "].includes(n.name)).map(n=>{var c,p;return{...j(r),actionKey:n.value,displayName:(c=n.action)!=null?c:oe(n.name),description:(p=n.description)!=null?p:"",displayOptions:e.displayOptions,values:{[e.name]:e.type==="multiOptions"?[n.value]:n.value}}});return o.length===0?[]:o}function Pt(r){var y,i;const e=["event","events","trigger on"],t=(y=r.displayName)==null?void 0:y.toLowerCase().includes("trigger"),o=r.properties.find(u=>{var l;return e.includes((l=u.displayName)==null?void 0:l.toLowerCase())});if(!t)return[];if(!o||!o.options)return[{...j(r),actionKey:Je,displayName:F.baseText("nodeCreator.actionsCategory.onNewEvent",{interpolate:{event:r.displayName.replace("Trigger","").trimEnd()}}),description:""}];const n=o.options.filter(u=>!["*",""," "].includes(u.name)),c=(i=ae[r.name])==null?void 0:i.call(ae,o,r);return c!=null?c:n.map(u=>{var l;return{...j(r),actionKey:u.value,displayName:(l=u.action)!=null?l:F.baseText("nodeCreator.actionsCategory.onEvent",{interpolate:{event:oe(u.name)}}),description:u.description||"",displayOptions:o.displayOptions,values:{[o.name]:o.type==="multiOptions"?[u.value]:u.value}}})}function Ot(r){const e=[];return r.properties.filter(o=>{var n;return((n=o.displayName)==null?void 0:n.toLowerCase())==="resource"}).forEach(o=>{(o.options||[]).filter(n=>n.value!==Q).forEach((n,c,p)=>{const y=p.length===1,i=r.properties.find(l=>{var g,f,m;return l.name==="operation"&&(((m=(f=(g=l.displayOptions)==null?void 0:g.show)==null?void 0:f.resource)==null?void 0:m.includes(n.value))||y)});if(!(i!=null&&i.options))return;const u=(i.options||[]).map(l=>{var m,s,v;const g=(m=l.action)!=null?m:`${n.name} ${oe(l.name)}`,f=y?{show:{resource:[(s=p[0])==null?void 0:s.value]}}:i==null?void 0:i.displayOptions;return{...j(r,`${n.name} ${F.baseText("nodeCreator.actionsCategory.actions")}`),actionKey:l.value,description:(v=l==null?void 0:l.description)!=null?v:"",displayOptions:f,values:{operation:(i==null?void 0:i.type)==="multiOptions"?[l.value]:l.value},displayName:g,group:["trigger"]}});e.push(...u)})}),e}function Vt(){function r(n){return n?[...Pt(n),...Lt(n),...Ot(n)]:[]}function e(n){return n.length<=1?[]:n.filter((c,p,y)=>{if(c.actionKey===Q)return!1;const u=c.actionKey===Je;return!u||u&&y.length>1})}function t(n){const{displayName:c,defaults:p,description:y,name:i,group:u,icon:l,iconUrl:g,codex:f}=n;return{displayName:c,defaults:p,description:y,name:i,group:u,icon:l,iconUrl:g,codex:f}}function o(n){const c=ft(n),p={},y=[];return c.filter(i=>!i.group.includes("trigger")).forEach(i=>{const u=r(i);p[i.name]=u,y.push(t(i))}),c.filter(i=>i.group.includes("trigger")).forEach(i=>{const u=i.name.replace("Trigger",""),l=r(i),g=(p==null?void 0:p[u])||[],f=y.find(m=>m.name===u);if(f&&(g==null?void 0:g.length)>0){const m=e([...g,...l]);p[u]=m,f.description=i.description}else p[i.name]=e(l),y.push(t(i))}),{actions:p,mergedNodes:y}}return{generateMergedNodesAndActions:o}}function et(r){return{value:M,title:r.baseText("nodeCreator.triggerHelperPanel.selectATrigger"),subtitle:r.baseText("nodeCreator.triggerHelperPanel.selectATriggerDescription"),items:[{key:W,type:"subcategory",properties:{forceIncludeNodes:[Y,it],title:"App Trigger Nodes",icon:"satellite-dish"}},{key:ie,type:"node",category:[R],properties:{group:[],name:ie,displayName:r.baseText("nodeCreator.triggerHelperPanel.scheduleTriggerDisplayName"),description:r.baseText("nodeCreator.triggerHelperPanel.scheduleTriggerDescription"),icon:"fa:clock"}},{key:Y,type:"node",category:[R],properties:{group:[],name:Y,displayName:r.baseText("nodeCreator.triggerHelperPanel.webhookTriggerDisplayName"),description:r.baseText("nodeCreator.triggerHelperPanel.webhookTriggerDescription"),iconData:{type:"file",icon:"webhook",fileBuffer:"/static/webhook-icon.svg"}}},{key:ce,type:"node",category:[R],properties:{group:[],name:ce,displayName:r.baseText("nodeCreator.triggerHelperPanel.manualTriggerDisplayName"),description:r.baseText("nodeCreator.triggerHelperPanel.manualTriggerDescription"),icon:"fa:mouse-pointer"}},{key:we,type:"node",category:[R],properties:{group:[],name:we,displayName:r.baseText("nodeCreator.triggerHelperPanel.workflowTriggerDisplayName"),description:r.baseText("nodeCreator.triggerHelperPanel.workflowTriggerDescription"),icon:"fa:sign-out-alt"}},{type:"subcategory",key:be,category:R,properties:{title:be,icon:"folder-open"}}]}}function tt(r){return{value:ge,title:r.baseText("nodeCreator.triggerHelperPanel.whatHappensNext"),items:[{key:W,type:"subcategory",properties:{title:"App Regular Nodes",icon:"globe"}},{type:"subcategory",key:Te,category:R,properties:{title:Te,icon:"pen"}},{type:"subcategory",key:$e,category:R,properties:{title:$e,icon:"toolbox"}},{type:"subcategory",key:xe,category:R,properties:{title:xe,icon:"code-branch"}},{type:"subcategory",key:Se,category:R,properties:{title:Se,icon:"file-alt"}},{key:M,type:"view",properties:{title:r.baseText("nodeCreator.triggerHelperPanel.addAnotherTrigger"),icon:"bolt",description:r.baseText("nodeCreator.triggerHelperPanel.addAnotherTriggerDescription")}}]}}const Dt=I({__name:"SearchBar",props:{placeholder:{default:""},value:{default:""}},emits:["input"],setup(r,{expose:e,emit:t}){const o=pe({inputRef:null});function n(){var i;(i=o.inputRef)==null||i.focus()}function c(i){const u=i.target;t("input",u.value)}function p(){t("input","")}te(()=>{Z("nodeCreator_searchBar.mount",J(),{inputRef:o.inputRef}),setTimeout(n,0)}),at(()=>{var i;(i=o.inputRef)==null||i.remove()});const{inputRef:y}=_e(o);return e({focus:n}),{__sfc:!0,emit:t,state:o,focus:n,onInput:c,clear:p,inputRef:y}}}),Mt="_searchContainer_14iw6_1",Bt="_prefix_14iw6_17",Ut="_active_14iw6_22",Ht="_text_14iw6_26",Kt="_suffix_14iw6_42",Yt="_clear_14iw6_48",zt={searchContainer:Mt,prefix:Bt,active:Ut,text:Ht,suffix:Kt,clear:Yt};var Ft=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{class:e.$style.searchContainer,attrs:{"data-test-id":"search-bar"}},[t("div",{class:{[e.$style.prefix]:!0,[e.$style.active]:e.value.length>0}},[t("font-awesome-icon",{attrs:{icon:"search",size:"sm"}})],1),t("div",{class:e.$style.text},[t("input",{ref:"inputRef",class:e.$style.input,attrs:{placeholder:e.placeholder,autofocus:"","data-test-id":"node-creator-search-bar",tabindex:"0"},domProps:{value:e.value},on:{input:o.onInput}})]),e.value.length>0?t("div",{class:e.$style.suffix,on:{click:o.clear}},[t("button",{class:[e.$style.clear,e.$style.clickable]},[t("font-awesome-icon",{attrs:{icon:"times-circle"}})],1)]):e._e()])},Wt=[];const Ae={$style:zt};function Gt(r){for(var e in Ae)this[e]=Ae[e]}var qt=A(Dt,Ft,Wt,!1,Gt,null,null,null);const jt=qt.exports,ne=()=>{const r=D(),e=H(),t=T(()=>{var g,f;return{actions:(g=e==null?void 0:e.proxy.$locale.baseText("nodeCreator.actionsCategory.actions"))!=null?g:"",triggers:(f=e==null?void 0:e.proxy.$locale.baseText("nodeCreator.actionsCategory.triggers"))!=null?f:""}});function o(g){const f=[Y,ie];return r.mergedNodes.filter(s=>f.some(v=>v===s.name)).map(s=>{const v=z(s,g,"action");if(v.type==="action"){const d=`nodeCreator.actionsPlaceholderNode.${s.name.replace("n8n-nodes-base.","")}`,a=e==null?void 0:e.proxy.$locale.baseText(d);a!==d&&(v.properties.displayName=a)}return v})}function n(g,f){return g.filter(m=>m.type==="action"&&m.properties.codex.categories.includes(f))}function c(g){var _,d,a,w;const f=Ze([...g]),m=new Set;for(const h of f){if(h.type!=="action")continue;const b=(d=(_=h.properties)==null?void 0:_.codex)==null?void 0:d.label;m.add(b)}if(m.size<=1)return f;const s=new Map;for(let h=0;h<f.length;h++){const b=f[h];if(b.type!=="action")continue;const $=(w=(a=b.properties)==null?void 0:a.codex)==null?void 0:w.label;s.has($)||s.set($,h)}let v=0;for(const h of m){const b={uuid:h,type:"label",key:h,subcategory:f[0].key,properties:{key:h}},$=s.get(h)+v;f.splice($,0,b),v++}return f}function p(g,f,m=!0){const s=n(g,f);return m?c(s):s}function y(g){const f=g.displayOptions,m=Object.keys((f==null?void 0:f.show)||{}).reduce((s,v)=>{var _,d;return s[v]=(d=(_=f==null?void 0:f.show)==null?void 0:_[v])==null?void 0:d[0],s},{});return{name:g.displayName,key:g.name,value:{...g.values,...m}}}function i(g){if(!g)return[];const{selectedView:f,openSource:m}=D(),{workflowTriggerNodes:s}=le(),v=We().isTriggerNode(g),_=s.length>0,d=f===M,a=g===ct;return![se.PLUS_ENDPOINT,se.NODE_CONNECTION_ACTION,se.NODE_CONNECTION_DROP].includes(m)&&!v&&!_&&d&&!a?[ce,g]:[g]}function u(g,f,m=""){const{$onAction:s}=le(),v=s(({name:_,after:d,store:{setLastNodeParameters:a},args:w})=>{_!=="addNode"||w[0].type!==g.key||d(()=>{a(g),f&&l(g,f,m),v()})});return v}function l(g,f,m){const s={node_type:g.key,action:g.name,source_mode:m.toLowerCase(),resource:g.value.resource||""};Z("nodeCreateList.addAction",J(),s),f==null||f.trackNodesPanel("nodeCreateList.addAction",s)}return{actionsCategoryLocales:t,getPlaceholderTriggerActions:o,parseCategoryActions:p,getNodeTypesWithManualTrigger:i,getActionData:y,setAddedNodeActionParameters:u}},Xt=I({__name:"NodeItem",props:{nodeType:null,subcategory:null,active:{type:Boolean,default:!1}},setup(r){const e=r,{actions:t}=D(),{getNodeTypesWithManualTrigger:o}=ne(),n=H(),c=O(!1),p=O({x:-100,y:-100}),y=O(null),i=T(()=>n==null?void 0:n.proxy.$locale.headerText({key:`headers.${f.value}.description`,fallback:e.nodeType.description})),u=T(()=>l.value),l=T(()=>g.value.length>1),g=T(()=>t[e.nodeType.name]||[]),f=T(()=>(n==null?void 0:n.proxy.$locale.shortNodeType(e.nodeType.name))||""),m=T(()=>({top:`${p.value.y}px`,left:`${p.value.x}px`})),s=T(()=>lt(e.nodeType.name)),v=T(()=>{const b=e.nodeType.displayName.trimEnd();return n==null?void 0:n.proxy.$locale.headerText({key:`headers.${f}.displayName`,fallback:l.value?b.replace("Trigger",""):b})}),_=T(()=>e.nodeType.group.includes("trigger")&&!l.value);function d(b){document.body.addEventListener("dragover",a);const{pageX:$,pageY:x}=b;b.dataTransfer&&(b.dataTransfer.effectAllowed="copy",b.dataTransfer.dropEffect="copy",b.dataTransfer.setDragImage(y.value,0,0),b.dataTransfer.setData("nodeTypeName",o(e.nodeType.name).join(","))),c.value=!0,p.value={x:$,y:x}}function a(b){if(!c.value||b.pageX===0&&b.pageY===0)return;const[$,x]=Ge([],[b.pageX-ee/2,b.pageY-ee/2]);p.value={x:$,y:x}}function w(b){document.body.removeEventListener("dragover",a),c.value=!1,setTimeout(()=>{p.value={x:-100,y:-100}},300)}function h(b){b.target.localName==="a"&&(n==null||n.proxy.$telemetry.track("user clicked cnr docs link",{source:"nodes panel node"}))}return{__sfc:!0,props:e,actions:t,getNodeTypesWithManualTrigger:o,instance:n,dragging:c,draggablePosition:p,draggableDataTransfer:y,description:i,showActionArrow:u,hasActions:l,nodeActions:g,shortNodeType:f,draggableStyle:m,isCommunityNode:s,displayName:v,isTrigger:_,onDragStart:d,onDragOver:a,onDragEnd:w,onCommunityNodeTooltipClick:h,COMMUNITY_NODES_INSTALLATION_DOCS_URL:dt,DEFAULT_SUBCATEGORY:W,NodeIcon:Xe}}}),Qt="_nodeItem_1cqrn_1",Zt="_communityNodeIcon_1cqrn_9",Jt="_draggable_1cqrn_13",eo="_draggableDataTransfer_1cqrn_27",to={nodeItem:Qt,communityNodeIcon:Zt,draggable:Jt,draggableDataTransfer:eo};var oo=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("n8n-node-creator-node",{class:e.$style.nodeItem,attrs:{draggable:!o.showActionArrow,description:e.subcategory!==o.DEFAULT_SUBCATEGORY?o.description:"",title:o.displayName,"show-action-arrow":o.showActionArrow,"is-trigger":o.isTrigger},on:{dragstart:o.onDragStart,dragend:o.onDragEnd},scopedSlots:e._u([{key:"icon",fn:function(){return[t(o.NodeIcon,{attrs:{nodeType:e.nodeType}})]},proxy:!0},o.isCommunityNode?{key:"tooltip",fn:function(){return[t("p",{class:e.$style.communityNodeIcon,domProps:{innerHTML:e._s(e.$locale.baseText("generic.communityNode.tooltip",{interpolate:{packageName:e.nodeType.name.split(".")[0],docURL:o.COMMUNITY_NODES_INSTALLATION_DOCS_URL}}))},on:{click:o.onCommunityNodeTooltipClick}})]},proxy:!0}:null,{key:"dragContent",fn:function(){return[t("div",{ref:"draggableDataTransfer",class:e.$style.draggableDataTransfer}),t("div",{directives:[{name:"show",rawName:"v-show",value:o.dragging,expression:"dragging"}],class:e.$style.draggable,style:o.draggableStyle},[t(o.NodeIcon,{attrs:{nodeType:e.nodeType,size:40,shrink:!1},on:{"!click":function(n){n.stopPropagation()}}})],1)]},proxy:!0}],null,!0)})},no=[];const Ee={$style:to};function ro(r){for(var e in Ee)this[e]=Ee[e]}var so=A(Xt,oo,no,!1,ro,null,null,null);const ao=so.exports,io=I({__name:"SubcategoryItem",props:{item:null},setup(r){const e=r,t=T(()=>je(e.item.subcategory||e.item.title));return{__sfc:!0,props:e,subcategoryName:t}}}),co="_subCategory_qrigt_1",lo={subCategory:co};var uo=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("n8n-node-creator-node",{class:e.$style.subCategory,attrs:{title:e.$locale.baseText(`nodeCreator.subcategoryNames.${o.subcategoryName}`),isTrigger:!1,description:e.$locale.baseText(`nodeCreator.subcategoryDescriptions.${o.subcategoryName}`),showActionArrow:!0},scopedSlots:e._u([{key:"icon",fn:function(){return[t("n8n-node-icon",{attrs:{type:"icon",name:e.item.icon,circle:!1,showTooltip:!1}})]},proxy:!0}])})},po=[];const Re={$style:lo};function _o(r){for(var e in Re)this[e]=Re[e]}var go=A(io,uo,po,!1,_o,null,null,null);const fo=go.exports,yo=I({__name:"LabelItem",props:{item:null},setup(r){return{__sfc:!0}}}),mo="_label_7jmhw_1",vo={label:mo};var ho=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{class:e.$style.label},[t("span",{class:e.$style.name,domProps:{textContent:e._s(e.item.key)}})])},wo=[];const Le={$style:vo};function bo(r){for(var e in Le)this[e]=Le[e]}var To=A(yo,ho,wo,!1,bo,null,null,null);const $o=To.exports,xo=I({__name:"ActionItem",props:{nodeType:null,action:null},setup(r){const e=r,t=H(),o=t==null?void 0:t.proxy.$telemetry,{getActionData:n,getNodeTypesWithManualTrigger:c,setAddedNodeActionParameters:p}=ne(),{activeViewStack:y}=N(),i=pe({dragging:!1,draggablePosition:{x:-100,y:-100},storeWatcher:null,draggableDataTransfer:null}),u=T(()=>({top:`${i.draggablePosition.y}px`,left:`${i.draggablePosition.x}px`})),l=T(()=>n(e.action)),g=d=>{var a;return((a=d.name)==null?void 0:a.toLowerCase().includes("trigger"))||d.name===Y};function f(d){var h;document.body.addEventListener("dragover",m);const{pageX:a,pageY:w}=d;d.dataTransfer&&(d.dataTransfer.effectAllowed="copy",d.dataTransfer.dropEffect="copy",d.dataTransfer.setDragImage(i.draggableDataTransfer,0,0),d.dataTransfer.setData("nodeTypeName",c((h=l.value)==null?void 0:h.key).join(",")),o&&(i.storeWatcher=p(l.value,o,y.rootView)),document.body.addEventListener("dragend",s)),i.dragging=!0,i.draggablePosition={x:a,y:w}}function m(d){if(!i.dragging||d.pageX===0&&d.pageY===0)return;const[a,w]=Ge([],[d.pageX-ee/2,d.pageY-ee/2]);i.draggablePosition={x:a,y:w}}function s(d){i.storeWatcher&&i.storeWatcher(),document.body.removeEventListener("dragend",s),document.body.removeEventListener("dragover",m),i.dragging=!1,setTimeout(()=>{i.draggablePosition={x:-100,y:-100}},300)}const{draggableDataTransfer:v,dragging:_}=_e(i);return{__sfc:!0,props:e,instance:t,telemetry:o,getActionData:n,getNodeTypesWithManualTrigger:c,setAddedNodeActionParameters:p,activeViewStack:y,state:i,draggableStyle:u,actionData:l,isTriggerAction:g,onDragStart:f,onDragOver:m,onDragEnd:s,draggableDataTransfer:v,dragging:_,NodeIcon:Xe}}}),So="_action_139su_1",No="_nodeIcon_139su_13",Co="_draggable_139su_17",ko="_draggableDataTransfer_139su_31",Io={action:So,nodeIcon:No,draggable:Co,draggableDataTransfer:ko};var Ao=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("n8n-node-creator-node",{class:e.$style.action,attrs:{draggable:"",title:e.action.displayName,isTrigger:o.isTriggerAction(e.action),"data-keyboard-nav":"true"},on:{dragstart:o.onDragStart,dragend:o.onDragEnd},scopedSlots:e._u([{key:"dragContent",fn:function(){return[t("div",{ref:"draggableDataTransfer",class:e.$style.draggableDataTransfer}),t("div",{directives:[{name:"show",rawName:"v-show",value:o.dragging,expression:"dragging"}],class:e.$style.draggable,style:o.draggableStyle},[t(o.NodeIcon,{attrs:{nodeType:e.nodeType,size:40,shrink:!1},on:{"!click":function(n){n.stopPropagation()}}})],1)]},proxy:!0},{key:"icon",fn:function(){return[t(o.NodeIcon,{attrs:{nodeType:e.action}})]},proxy:!0}])})},Eo=[];const Pe={$style:Io};function Ro(r){for(var e in Pe)this[e]=Pe[e]}var Lo=A(xo,Ao,Eo,!1,Ro,null,null,null);const Po=Lo.exports,Oo=I({__name:"ViewItem",props:{view:null},setup(r){return{__sfc:!0}}}),Vo="_view_71tui_1",Do={view:Vo};var Mo=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("n8n-node-creator-node",{class:e.$style.view,attrs:{title:e.view.title,isTrigger:!1,description:e.view.description,showActionArrow:!0},scopedSlots:e._u([{key:"icon",fn:function(){return[t("n8n-node-icon",{attrs:{type:"icon",name:e.view.icon,circle:!1,showTooltip:!1}})]},proxy:!0}])})},Bo=[];const Oe={$style:Do};function Uo(r){for(var e in Oe)this[e]=Oe[e]}var Ho=A(Oo,Mo,Bo,!1,Uo,null,null,null);const Ko=Ho.exports,Yo=I({__name:"ItemsRenderer",props:{elements:{default:()=>[]},activeIndex:null,disabled:{type:Boolean},lazyRender:{type:Boolean,default:!0}},emits:["selected","dragstart","dragend"],setup(r,{emit:e}){const t=r,o=20,n=5,c=O([]),p=O(0),y=T(()=>{var s;return(s=B())==null?void 0:s.activeItemId});function i(){if(t.elements.length<=o||t.lazyRender===!1){c.value=t.elements;return}c.value.length<t.elements.length&&(c.value.push(...t.elements.slice(c.value.length,c.value.length+n)),p.value=window.requestAnimationFrame(i))}function u(s,v,_){t.disabled||e(s||"dragstart",v,_)}function l(s){s.style.height="0"}function g(s){s.style.height=`${s.scrollHeight}px`}function f(s){s.style.height=`${s.scrollHeight}px`}function m(s){s.style.height="0"}return te(()=>{i()}),Fe(()=>{window.cancelAnimationFrame(p.value),c.value=[]}),K(()=>t.elements,()=>{window.cancelAnimationFrame(p.value),c.value=[],i()}),{__sfc:!0,LAZY_LOAD_THRESHOLD:o,LAZY_LOAD_ITEMS_PER_TICK:n,props:t,emit:e,renderedItems:c,renderAnimationRequest:p,activeItemId:y,renderItems:i,wrappedEmit:u,beforeEnter:l,enter:g,beforeLeave:f,leave:m,NodeItem:ao,SubcategoryItem:fo,LabelItem:$o,ActionItem:Po,ViewItem:Ko}}}),zo="_itemSkeleton_1yyox_1",Fo="_iteratorItem_1yyox_5",Wo="_label_1yyox_17",Go="_category_1yyox_17",qo="_active_1yyox_20",jo="_empty_1yyox_24",Xo="_itemsRenderer_1yyox_28",Qo="_view_1yyox_37",Zo={itemSkeleton:zo,iteratorItem:Fo,label:Wo,category:Go,active:qo,empty:jo,itemsRenderer:Xo,view:Qo};var Jo=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return e.elements.length>0?t("div",{class:e.$style.itemsRenderer,attrs:{name:"accordion"},on:{"before-enter":o.beforeEnter,enter:o.enter,"before-leave":o.beforeLeave,leave:o.leave}},[e._t("default"),e._l(e.elements,function(n){return t("div",{key:n.uuid,ref:"iteratorItems",refInFor:!0,class:{clickable:!e.disabled,[e.$style.active]:o.activeItemId===n.uuid,[e.$style.iteratorItem]:!0,[e.$style[n.type]]:!0},attrs:{"data-test-id":"item-iterator-item","data-keyboard-nav-type":n.type!=="label"?n.type:void 0,"data-keyboard-nav-id":n.uuid},on:{click:function(c){return o.wrappedEmit("selected",n)}}},[o.renderedItems.includes(n)?[n.type==="label"?t(o.LabelItem,{attrs:{item:n}}):e._e(),n.type==="subcategory"?t(o.SubcategoryItem,{attrs:{item:n.properties}}):e._e(),n.type==="node"?t(o.NodeItem,{attrs:{nodeType:n.properties,active:!0,subcategory:n.subcategory}}):e._e(),n.type==="action"?t(o.ActionItem,{attrs:{nodeType:n.properties,action:n.properties,active:!0}}):n.type==="view"?t(o.ViewItem,{class:e.$style.viewItem,attrs:{view:n.properties}}):e._e()]:t("n8n-loading",{class:e.$style.itemSkeleton,attrs:{loading:!0,rows:1,variant:"p"}})],2)})],2):t("div",{class:e.$style.empty},[e._t("empty")],2)},en=[];const Ve={$style:Zo};function tn(r){for(var e in Ve)this[e]=Ve[e]}var on=A(Yo,Jo,en,!1,tn,null,null,null);const fe=on.exports,nn=I({__name:"CategoryItem",props:{expanded:{type:Boolean,default:!0},active:{type:Boolean},count:null,name:null,isTrigger:{type:Boolean}},setup(r){const e=r,t=T(()=>{const o=e.count||0;return o>0?`${e.name} (${o})`:e.name});return{__sfc:!0,props:e,categoryName:t}}}),rn="_triggerIcon_b4ocq_1",sn="_category_b4ocq_6",an="_active_b4ocq_27",cn="_name_b4ocq_31",ln="_arrow_b4ocq_36",dn={triggerIcon:rn,category:sn,active:an,name:cn,arrow:ln};var un=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",e._g({class:e.$style.categoryWrapper,attrs:{"data-keyboard-nav":"true","data-test-id":"node-creator-category-item"}},e.$listeners),[t("div",{class:{[e.$style.category]:!0,[e.$style.active]:e.active}},[t("span",{class:e.$style.name},[t("span",{domProps:{textContent:e._s(o.categoryName)}}),e.isTrigger?t("font-awesome-icon",{class:e.$style.triggerIcon,attrs:{icon:"bolt",size:"xs"}}):e._e(),e._t("default")],2),e.expanded?t("font-awesome-icon",{class:e.$style.arrow,attrs:{icon:"chevron-down"}}):t("font-awesome-icon",{class:e.$style.arrow,attrs:{icon:"chevron-up"}})],1)])},pn=[];const De={$style:dn};function _n(r){for(var e in De)this[e]=De[e]}var gn=A(nn,un,pn,!1,_n,null,null,null);const fn=gn.exports,yn=I({__name:"CategorizedItemsRenderer",props:{elements:{default:()=>[]},category:null,disabled:{type:Boolean},activeIndex:null,isTriggerCategory:{type:Boolean},mouseOverTooltip:null,expanded:{type:Boolean}},setup(r){var m;const e=r,t=H(),{popViewStack:o}=N(),{registerKeyHook:n}=B(),{workflowId:c}=le(),p=T(()=>{var s;return(s=B())==null?void 0:s.activeItemId}),y=T(()=>e.elements.filter(({type:s})=>s==="action").length),i=O((m=e.expanded)!=null?m:!1);function u(){l(!i.value)}function l(s){i.value=s,i.value&&(t==null||t.proxy.$telemetry.trackNodesPanel("nodeCreateList.onCategoryExpanded",{category_name:e.category,workflow_id:c}))}function g(){i.value||l(!0)}function f(){if(!i.value){o();return}l(!1)}return K(()=>e.elements,()=>{l(!0)}),n(`CategoryRight_${e.category}`,{keyboardKeys:["ArrowRight"],condition:(s,v)=>s==="category"&&e.category===v,handler:g}),n(`CategoryToggle_${e.category}`,{keyboardKeys:["Enter"],condition:(s,v)=>s==="category"&&e.category===v,handler:u}),n(`CategoryLeft_${e.category}`,{keyboardKeys:["ArrowLeft"],condition:(s,v)=>s==="category"&&e.category===v,handler:f}),{__sfc:!0,props:e,instance:t,popViewStack:o,registerKeyHook:n,workflowId:c,activeItemId:p,actionCount:y,expanded:i,toggleExpanded:u,setExpanded:l,arrowRight:g,arrowLeft:f,ItemsRenderer:fe,CategoryItem:fn}}}),mn="_mouseOverTooltip_1fiom_1",vn="_categorizedItemsRenderer_1fiom_8",hn="_tooltipPopper_1fiom_12",wn="_contentSlot_1fiom_16",bn={mouseOverTooltip:mn,categorizedItemsRenderer:vn,tooltipPopper:hn,contentSlot:wn};var Tn=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{class:e.$style.categorizedItemsRenderer,attrs:{"data-category-collapsed":!o.expanded}},[t(o.CategoryItem,{class:e.$style.categoryItem,attrs:{name:e.category,disabled:e.disabled,active:o.activeItemId===e.category,count:o.actionCount,expanded:o.expanded,isTrigger:e.isTriggerCategory,"data-keyboard-nav-type":"category","data-keyboard-nav-id":e.category},on:{click:o.toggleExpanded}},[e.mouseOverTooltip?t("span",{class:e.$style.mouseOverTooltip},[t("n8n-tooltip",{attrs:{placement:"top","popper-class":e.$style.tooltipPopper},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{domProps:{innerHTML:e._s(e.mouseOverTooltip)}})]},proxy:!0}],null,!1,2999864362)},[t("n8n-icon",{attrs:{icon:"question-circle",size:"small"}})],1)],1):e._e()]),o.expanded&&o.actionCount>0&&e.$slots.default?t("div",{class:e.$style.contentSlot},[e._t("default")],2):e._e(),o.expanded?t(o.ItemsRenderer,e._g({attrs:{elements:e.elements,isTrigger:e.isTriggerCategory},scopedSlots:e._u([{key:"default",fn:function(){},proxy:!0},{key:"empty",fn:function(){return[e._t("empty",null,null,{elements:e.elements})]},proxy:!0}],null,!0)},e.$listeners)):e._e()],1)},$n=[];const Me={$style:bn};function xn(r){for(var e in Me)this[e]=Me[e]}var Sn=A(yn,Tn,$n,!1,xn,null,null,null);const ot=Sn.exports,Nn=I({__name:"ActionsMode",emits:{nodeTypeSelected:r=>!0},setup(r,{emit:e}){const t=H(),o=t==null?void 0:t.proxy.$telemetry,{userActivated:n}=ut(),{popViewStack:c,updateCurrentViewStack:p}=N(),{registerKeyHook:y}=B(),{getNodeTypesWithManualTrigger:i,setAddedNodeActionParameters:u,getActionData:l,getPlaceholderTriggerActions:g,parseCategoryActions:f,actionsCategoryLocales:m}=ne(),s=T(()=>U(w.value,m.value.triggers,!1)),v=T(()=>U(w.value,m.value.actions,!h.value)),_=T(()=>U(N().activeViewStack.baselineItems||[],m.value.triggers,!1)),d=T(()=>U(N().activeViewStack.baselineItems||[],m.value.actions,!h.value)),a=T(()=>s.value.length||h.value?m.value.triggers:`${m.value.triggers} (${x.length})`),w=T(()=>(N().activeViewStack.items||[]).filter(S=>S.properties.actionKey!==Q)),h=T(()=>N().activeViewStack.search),b=T(()=>N().activeViewStack.subcategory),$=T(()=>N().activeViewStack.rootView),x=g(b.value||""),C=T(()=>f(N().activeViewStack.baselineItems||[],m.value.triggers,!h.value).length===0),L=T(()=>(N().activeViewStack.baselineItems||[]).some(E=>{var P;return((P=E.properties.actionKey)!=null?P:"")===Q})===!0),X=T(()=>$.value===M);y("ActionsKeyRight",{keyboardKeys:["ArrowRight","Enter"],condition:S=>S==="action",handler:me}),y("ActionsKeyLeft",{keyboardKeys:["ArrowLeft"],condition:S=>S==="action",handler:ye});function U(S,k,E=!1){return f(S,k,E)}function ye(){c()}function me(S){const E=[...w.value,...x].find(P=>P.uuid===S);E&&ve(E)}function ve(S){const k=l(S.properties),E=x.some(V=>V.key===S.key);if(pt().isVariantEnabled(Ne.name,Ne.variant)&&E&&X){const V=w.value[0].key;e("nodeTypeSelected",[k.key,V])}else e("nodeTypeSelected",i(k.key));o&&u(k,o,$.value)}function he(){var V,G,q;const S=N().activeViewStack,k=(V=S.baselineItems||[])==null?void 0:V.filter(re=>re.key.toLowerCase().includes("trigger")).length,P={app_identifier:[...w.value,...x][0].key,actions:(G=S.baselineItems||[])==null?void 0:G.map(re=>re.properties.displayName),regular_action_count:((q=S.baselineItems||[])==null?void 0:q.length)-k,trigger_action_count:k};Z("nodeCreateList.onViewActions",J(),P),o==null||o.trackNodesPanel("nodeCreateList.onViewActions",P)}function nt(){p({search:""})}function rt(){const S={name:"",key:de,value:{authentication:"predefinedCredentialType"}};e("nodeTypeSelected",[de]),o&&u(S);const k=w.value[0].key;Z("nodeCreateList.onActionsCustmAPIClicked",J(),{app_identifier:k}),o==null||o.trackNodesPanel("nodeCreateList.onActionsCustmAPIClicked",{app_identifier:k})}const st=I({props:{rootView:{type:String}},render(S){var P,V,G,q;const k=(V=(P=this.$slots)==null?void 0:P.triggers)==null?void 0:V[0],E=(q=(G=this.$slots)==null?void 0:G.actions)==null?void 0:q[0];return S("div",{},this.rootView===ge?[E,k]:[k,E])}});return te(()=>{he()}),{__sfc:!0,emit:e,instance:t,telemetry:o,userActivated:n,popViewStack:c,updateCurrentViewStack:p,registerKeyHook:y,getNodeTypesWithManualTrigger:i,setAddedNodeActionParameters:u,getActionData:l,getPlaceholderTriggerActions:g,parseCategoryActions:f,actionsCategoryLocales:m,parsedTriggerActions:s,parsedActionActions:v,parsedTriggerActionsBaseline:_,parsedActionActionsBaseline:d,triggerCategoryName:a,actions:w,search:h,subcategory:b,rootView:$,placeholderTriggerActions:x,hasNoTriggerActions:C,containsAPIAction:L,isTriggerRootView:X,parseActions:U,arrowLeft:ye,onKeySelect:me,onSelected:ve,trackActionsView:he,resetSearch:nt,addHttpNode:rt,OrderSwitcher:st,ItemsRenderer:fe,CategorizedItemsRenderer:ot}}}),Cn="_container_25ezu_1",kn="_resetSearch_25ezu_7",In="_actionsEmpty_25ezu_21",An="_apiHint_25ezu_29",En={container:Cn,resetSearch:kn,actionsEmpty:In,apiHint:An};var Rn=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{class:e.$style.container},[t(o.OrderSwitcher,{attrs:{rootView:o.rootView},scopedSlots:e._u([o.isTriggerRootView||o.parsedTriggerActionsBaseline.length!==0?{key:"triggers",fn:function(){return[t(o.CategorizedItemsRenderer,{attrs:{elements:o.parsedTriggerActions,category:o.triggerCategoryName,mouseOverTooltip:e.$locale.baseText("nodeCreator.actionsTooltip.triggersStartWorkflow"),isTriggerCategory:"",expanded:o.isTriggerRootView||o.parsedActionActions.length===0},on:{selected:o.onSelected},scopedSlots:e._u([{key:"empty",fn:function(){return[o.hasNoTriggerActions?[t("n8n-callout",{attrs:{theme:"info",iconless:"",slim:"","data-test-id":"actions-panel-no-triggers-callout"}},[t("span",{domProps:{innerHTML:e._s(e.$locale.baseText("nodeCreator.actionsCallout.noTriggerItems",{interpolate:{nodeName:o.subcategory}}))}})]),t(o.ItemsRenderer,{attrs:{elements:o.placeholderTriggerActions},on:{selected:o.onSelected}})]:[t("p",{class:e.$style.resetSearch,domProps:{innerHTML:e._s(e.$locale.baseText("nodeCreator.actionsCategory.noMatchingTriggers"))},on:{click:o.resetSearch}})]]},proxy:!0}],null,!1,668240651)})]},proxy:!0}:null,!o.isTriggerRootView||o.parsedActionActionsBaseline.length!==0?{key:"actions",fn:function(){return[t(o.CategorizedItemsRenderer,{attrs:{elements:o.parsedActionActions,category:o.actionsCategoryLocales.actions,mouseOverTooltip:e.$locale.baseText("nodeCreator.actionsTooltip.actionsPerformStep"),expanded:!o.isTriggerRootView||o.parsedTriggerActions.length===0},on:{selected:o.onSelected},scopedSlots:e._u([{key:"empty",fn:function(){return[o.search?[t("p",{class:e.$style.resetSearch,attrs:{"data-test-id":"actions-panel-no-matching-actions"},domProps:{innerHTML:e._s(e.$locale.baseText("nodeCreator.actionsCategory.noMatchingActions"))},on:{click:o.resetSearch}})]:t("n8n-info-tip",{class:e.$style.actionsEmpty,attrs:{theme:"info",type:"note"}},[t("span",{domProps:{innerHTML:e._s(e.$locale.baseText("nodeCreator.actionsCallout.noActionItems",{interpolate:{nodeName:o.subcategory}}))}})])]},proxy:!0}],null,!1,3814646310)},[[!o.userActivated&&o.isTriggerRootView?t("n8n-callout",{attrs:{theme:"info",iconless:"",slim:"","data-test-id":"actions-panel-activation-callout"}},[t("span",{domProps:{innerHTML:e._s(e.$locale.baseText("nodeCreator.actionsCallout.triggersStartWorkflow"))}})]):e._e()]],2)]},proxy:!0}:null],null,!0)}),o.containsAPIAction?t("div",{class:e.$style.apiHint},[t("span",{domProps:{innerHTML:e._s(e.$locale.baseText("nodeCreator.actionsList.apiCall",{interpolate:{node:o.subcategory}}))},on:{click:function(n){return n.preventDefault(),o.addHttpNode.apply(null,arguments)}}})]):e._e()],1)},Ln=[];const Be={$style:En};function Pn(r){for(var e in Be)this[e]=Be[e]}var On=A(Nn,Rn,Ln,!1,Pn,null,null,null);const Vn=On.exports,Dn={};var Mn=function(){var e=this,t=e._self._c;return t("svg",{attrs:{width:"75px",height:"75px",viewBox:"0 0 75 75",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[t("title",[e._v("no-nodes-keyart")]),t("g",{attrs:{id:"Nodes-panel-prototype-V2.1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[t("g",{attrs:{id:"nodes-panel-(component)",transform:"translate(-2085.000000, -352.000000)"}},[t("g",{attrs:{id:"nodes_panel",transform:"translate(1880.000000, 151.000000)"}},[t("g",{attrs:{id:"Panel",transform:"translate(50.000000, 0.000000)"}},[t("g",{attrs:{id:"Group-3",transform:"translate(105.000000, 171.000000)"}},[t("g",{attrs:{id:"no-nodes-keyart",transform:"translate(50.000000, 30.000000)"}},[t("rect",{attrs:{id:"Rectangle",x:"0",y:"0",width:"75",height:"75"}}),t("g",{attrs:{id:"Group",transform:"translate(6.562500, 8.164062)",fill:"#C4C8D1","fill-rule":"nonzero"}},[t("polygon",{attrs:{id:"Rectangle",transform:"translate(49.192016, 45.302553) rotate(-45.000000) translate(-49.192016, -45.302553) ",points:"44.5045606 32.0526802 53.8794707 32.0526802 53.8794707 58.5524261 44.5045606 58.5524261"}}),t("path",{attrs:{d:"M48.125,23.0859375 C54.15625,23.0859375 59.0625,18.1796875 59.0625,12.1484375 C59.0625,10.3359375 58.5625,8.6484375 57.78125,7.1484375 L49.34375,15.5859375 L44.6875,10.9296875 L53.125,2.4921875 C51.625,1.7109375 49.9375,1.2109375 48.125,1.2109375 C42.09375,1.2109375 37.1875,6.1171875 37.1875,12.1484375 C37.1875,13.4296875 37.4375,14.6484375 37.84375,15.7734375 L32.0625,21.5546875 L26.5,15.9921875 L28.71875,13.7734375 L24.3125,9.3671875 L30.9375,2.7421875 C27.28125,-0.9140625 21.34375,-0.9140625 17.6875,2.7421875 L6.625,13.8046875 L11.03125,18.2109375 L2.21875,18.2109375 L1.38777878e-15,20.4296875 L11.0625,31.4921875 L13.28125,29.2734375 L13.28125,20.4296875 L17.6875,24.8359375 L19.90625,22.6171875 L25.46875,28.1796875 L2.3125,51.3359375 L8.9375,57.9609375 L44.5,22.4296875 C45.625,22.8359375 46.84375,23.0859375 48.125,23.0859375 Z",id:"Path"}})])])])])])])])])},Bn=[],Un=A(Dn,Mn,Bn,!1,null,null,null,null);const Hn=Un.exports,Kn=I({__name:"NoResults",props:{showIcon:{type:Boolean},showRequest:{type:Boolean},rootView:null},setup(r){return{__sfc:!0,REQUEST_NODE_FORM_URL:_t,REGULAR_NODE_CREATOR_VIEW:ge,TRIGGER_NODE_CREATOR_VIEW:M,NoResultsIcon:Hn}}}),Yn="_noResults_8axui_1",zn="_title_8axui_14",Fn="_action_8axui_23",Wn="_request_8axui_24",Gn="_icon_8axui_40",qn="_external_8axui_46",jn={noResults:Yn,title:zn,action:Fn,request:Wn,icon:Gn,external:qn};var Xn=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{class:{[e.$style.noResults]:!0,[e.$style.iconless]:!e.showIcon},attrs:{"data-test-id":"node-creator-no-results"}},[e.showIcon?t("div",{class:e.$style.icon},[t(o.NoResultsIcon)],1):e._e(),t("div",{class:e.$style.title},[e._t("title"),t("p",{domProps:{textContent:e._s(e.$locale.baseText("nodeCreator.noResults.weDidntMakeThatYet"))}}),t("div",{class:e.$style.action},[e._v(" "+e._s(e.$locale.baseText("nodeCreator.noResults.dontWorryYouCanProbablyDoItWithThe"))+" "),e.rootView===o.REGULAR_NODE_CREATOR_VIEW?t("n8n-link",{on:{click:function(n){return e.$emit("addHttpNode")}}},[e._v(" "+e._s(e.$locale.baseText("nodeCreator.noResults.httpRequest"))+" ")]):e._e(),e.rootView===o.TRIGGER_NODE_CREATOR_VIEW?t("n8n-link",{on:{click:function(n){return e.$emit("addWebhookNode")}}},[e._v(" "+e._s(e.$locale.baseText("nodeCreator.noResults.webhook"))+" ")]):e._e(),e._v(" "+e._s(e.$locale.baseText("nodeCreator.noResults.node"))+" ")],1)],2),e.showRequest?t("div",{class:e.$style.request},[t("p",{domProps:{textContent:e._s(e.$locale.baseText("nodeCreator.noResults.wantUsToMakeItFaster"))}}),t("div",[t("n8n-link",{attrs:{to:o.REQUEST_NODE_FORM_URL}},[t("span",[e._v(e._s(e.$locale.baseText("nodeCreator.noResults.requestTheNode")))]),e._v("Â  "),t("span",[t("font-awesome-icon",{class:e.$style.external,attrs:{icon:"external-link-alt",title:e.$locale.baseText("nodeCreator.noResults.requestTheNode")}})],1)])],1)]):e._e()])},Qn=[];const Ue={$style:jn};function Zn(r){for(var e in Ue)this[e]=Ue[e]}var Jn=A(Kn,Xn,Qn,!1,Zn,null,null,null);const er=Jn.exports,tr=I({__name:"NodesMode",emits:{nodeTypeSelected:r=>!0},setup(r,{emit:e}){const t=H(),{mergedNodes:o,actions:n}=D(),{baseUrl:c}=gt(),{getNodeTypesWithManualTrigger:p}=ne(),{pushViewStack:y,popViewStack:i}=N(),{registerKeyHook:u}=B(),l=T(()=>N().activeViewStack),g=T(()=>N().globalSearchItemsDiff);function f(a){e("nodeTypeSelected",a.length===1?p(a[0]):a)}function m(a){var w,h,b,$,x;if(a.type==="subcategory"){const C=t==null?void 0:t.proxy.$locale.baseText(`nodeCreator.subcategoryNames.${je(a.properties.title)}`);y({subcategory:a.key,title:C,mode:"nodes",rootView:l.value.rootView,forceIncludeNodes:a.properties.forceIncludeNodes,baseFilter:v,itemsMapper:s}),t==null||t.proxy.$telemetry.trackNodesPanel("nodeCreateList.onSubcategorySelected",{subcategory:a.key})}if(a.type==="node"){const C=(n==null?void 0:n[a.key])||[];if(C.length<=1){f([a.key]);return}const L=a.properties.iconUrl?`${c}${a.properties.iconUrl}`:(w=a.properties.icon)==null?void 0:w.split(":")[1],X=C==null?void 0:C.map(U=>z(U,a.properties.displayName,"action"));y({subcategory:a.properties.displayName,title:a.properties.displayName,nodeIcon:{color:((h=a.properties.defaults)==null?void 0:h.color)||"",icon:L,iconType:a.properties.iconUrl?"file":"icon"},rootView:l.value.rootView,hasSearch:!0,mode:"actions",items:X})}if(a.type==="view"){const C=a.key===M?et((b=t==null?void 0:t.proxy)==null?void 0:b.$locale):tt(($=t==null?void 0:t.proxy)==null?void 0:$.$locale);y({title:C.title,subtitle:(x=C==null?void 0:C.subtitle)!=null?x:"",items:C.items,hasSearch:!0,rootView:C.value,mode:"nodes",searchItems:o})}}function s(a){var $,x;if(a.type!=="node")return a;const w=a.properties.group.includes("trigger"),b=((n==null?void 0:n[a.key])||[]).length>0;return w&&b&&(($=a.properties)!=null&&$.codex&&(a.properties.codex.alias=[...((x=a.properties.codex)==null?void 0:x.alias)||[],a.properties.displayName]),a.properties.displayName=a.properties.displayName.replace(" Trigger","")),a}function v(a){if(a.type!=="node")return!1;const w=a.properties.group.includes("trigger"),b=((n==null?void 0:n[a.key])||[]).length>0;return l.value.rootView===M?b||w:b||!w}function _(){i()}function d(a){const h=[...l.value.items||[],...g.value||[]].find(b=>b.uuid===a);h&&m(h)}return u("MainViewArrowRight",{keyboardKeys:["ArrowRight","Enter"],condition:a=>["subcategory","node","view"].includes(a),handler:d}),u("MainViewArrowLeft",{keyboardKeys:["ArrowLeft"],condition:a=>["subcategory","node","view"].includes(a),handler:_}),{__sfc:!0,emit:e,instance:t,mergedNodes:o,actions:n,baseUrl:c,getNodeTypesWithManualTrigger:p,pushViewStack:y,popViewStack:i,registerKeyHook:u,activeViewStack:l,globalSearchItemsDiff:g,selectNodeType:f,onSelected:m,subcategoriesMapper:s,baseSubcategoriesFilter:v,arrowLeft:_,onKeySelect:d,HTTP_REQUEST_NODE_TYPE:de,WEBHOOK_NODE_TYPE:Y,ItemsRenderer:fe,CategorizedItemsRenderer:ot,NoResults:er}}}),or="_items_1mzys_1",nr={items:or};var rr=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("span",[t(o.ItemsRenderer,{class:e.$style.items,attrs:{elements:o.activeViewStack.items},on:{selected:o.onSelected},scopedSlots:e._u([(o.activeViewStack.items||[]).length===0&&o.globalSearchItemsDiff.length===0?{key:"empty",fn:function(){return[t(o.NoResults,{attrs:{rootView:o.activeViewStack.rootView,showIcon:"",showRequest:""},on:{addWebhookNode:function(n){return o.selectNodeType([o.WEBHOOK_NODE_TYPE])},addHttpNode:function(n){return o.selectNodeType([o.HTTP_REQUEST_NODE_TYPE])}}})]},proxy:!0}:null],null,!0)}),o.globalSearchItemsDiff.length>0?t(o.CategorizedItemsRenderer,{attrs:{elements:o.globalSearchItemsDiff,category:e.$locale.baseText("nodeCreator.categoryNames.otherCategories")},on:{selected:o.onSelected}}):e._e()],1)},sr=[];const He={$style:nr};function ar(r){for(var e in He)this[e]=He[e]}var ir=A(tr,rr,sr,!1,ar,null,null,null);const cr=ir.exports,lr=I({__name:"NodesListPanel",setup(r){const e=H(),{mergedNodes:t}=D(),{pushViewStack:o,popViewStack:n,updateCurrentViewStack:c}=N(),{setActiveItemIndex:p,attachKeydownEvent:y,detachKeydownEvent:i}=B(),u=T(()=>N().activeViewStack),l=T(()=>N().viewStacks),g=T(()=>N().activeViewStackMode==="actions"),f=T(()=>{var d,a;return g.value?(d=e==null?void 0:e.proxy)==null?void 0:d.$locale.baseText("nodeCreator.actionsCategory.searchActions",{interpolate:{node:u.value.title}}):(a=e==null?void 0:e.proxy)==null?void 0:a.$locale.baseText("nodeCreator.searchBar.searchNodes")}),m=T(()=>D().selectedView);function s(d){var a;u.value.uuid&&(c({search:d}),p((a=u.value.activeIndex)!=null?a:0))}function v(){const d=u.value.mode==="actions"?1:0;p(u.value.activeIndex||0||d)}te(()=>{var d;y(),p((d=u.value.activeIndex)!=null?d:0)}),Fe(()=>{i()}),K(()=>m.value,d=>{var w,h,b;const a=d===M?et((w=e==null?void 0:e.proxy)==null?void 0:w.$locale):tt((h=e==null?void 0:e.proxy)==null?void 0:h.$locale);o({title:a.title,subtitle:(b=a==null?void 0:a.subtitle)!=null?b:"",items:a.items,hasSearch:!0,mode:"nodes",rootView:d,searchItems:t})},{immediate:!0});function _(){n()}return{__sfc:!0,instance:e,mergedNodes:t,pushViewStack:o,popViewStack:n,updateCurrentViewStack:c,setActiveItemIndex:p,attachKeydownEvent:y,detachKeydownEvent:i,activeViewStack:u,viewStacks:l,isActionsMode:g,searchPlaceholder:f,nodeCreatorView:m,onSearch:s,onTransitionEnd:v,onBackButton:_,SearchBar:jt,ActionsRenderer:Vn,NodesRenderer:cr}}}),dr="_backButton_b4xvw_23",ur="_backButtonIcon_b4xvw_30",pr="_nodeIcon_b4xvw_36",_r="_renderedItems_b4xvw_41",gr="_searchBar_b4xvw_53",fr="_nodesListPanel_b4xvw_57",yr="_footer_b4xvw_74",mr="_top_b4xvw_85",vr="_header_b4xvw_90",hr="_hasBg_b4xvw_96",wr="_title_b4xvw_101",br="_subtitle_b4xvw_111",Tr="_offsetSubtitle_b4xvw_119",$r={backButton:dr,backButtonIcon:ur,nodeIcon:pr,renderedItems:_r,searchBar:gr,nodesListPanel:fr,footer:yr,top:mr,header:vr,hasBg:hr,title:wr,subtitle:br,offsetSubtitle:Tr};var xr=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return o.viewStacks.length>0?t("transition",{attrs:{name:`panel-slide-${o.activeViewStack.transitionDirection}`},on:{afterLeave:o.onTransitionEnd}},[t("aside",{key:`${o.activeViewStack.uuid}`,class:e.$style.nodesListPanel,on:{"!keydown":function(n){n.stopPropagation()}}},[t("header",{class:{[e.$style.header]:!0,[e.$style.hasBg]:!o.activeViewStack.subtitle},attrs:{"data-test-id":"nodes-list-header"}},[t("div",{class:e.$style.top},[o.viewStacks.length>1?t("button",{class:e.$style.backButton,on:{click:o.onBackButton}},[t("font-awesome-icon",{class:e.$style.backButtonIcon,attrs:{icon:"arrow-left",size:"2x"}})],1):e._e(),o.activeViewStack.nodeIcon?t("n8n-node-icon",{class:e.$style.nodeIcon,attrs:{type:o.activeViewStack.nodeIcon.iconType||"unknown",src:o.activeViewStack.nodeIcon.icon,name:o.activeViewStack.nodeIcon.icon,color:o.activeViewStack.nodeIcon.color,circle:!1,showTooltip:!1,size:16}}):e._e(),o.activeViewStack.title?t("p",{class:e.$style.title,domProps:{textContent:e._s(o.activeViewStack.title)}}):e._e()],1),o.activeViewStack.subtitle?t("p",{class:{[e.$style.subtitle]:!0,[e.$style.offsetSubtitle]:o.viewStacks.length>1},domProps:{textContent:e._s(o.activeViewStack.subtitle)}}):e._e()]),o.activeViewStack.hasSearch?t(o.SearchBar,{class:e.$style.searchBar,attrs:{placeholder:o.searchPlaceholder?o.searchPlaceholder:e.$locale.baseText("nodeCreator.searchBar.searchNodes"),value:o.activeViewStack.search},on:{input:o.onSearch}}):e._e(),t("div",{class:e.$style.renderedItems},[o.isActionsMode&&o.activeViewStack.subcategory?t(o.ActionsRenderer,e._g({},e.$listeners)):t(o.NodesRenderer,e._g({attrs:{rootView:o.nodeCreatorView}},e.$listeners))],1)],1)]):e._e()},Sr=[];const Ke={$style:$r};function Nr(r){for(var e in Ke)this[e]=Ke[e]}var Cr=A(lr,xr,Sr,!1,Nr,null,null,null);const kr=Cr.exports,Ir=I({__name:"NodeCreator",props:{active:{type:Boolean}},emits:["closeNodeCreator","nodeTypeSelected"],setup(r,{emit:e}){const t=r,{resetViewStacks:o}=N(),{registerKeyHook:n}=B(),{setShowScrim:c,setActions:p,setMergeNodes:y}=D(),{generateMergedNodesAndActions:i}=Vt(),u=pe({nodeCreator:null,mousedownInsideEvent:null}),l=T(()=>D().showScrim),g=T(()=>N().viewStacks.length);function f(a){var w;if(u.mousedownInsideEvent){const h=new MouseEvent("click",{bubbles:!0,cancelable:!0});(w=u.mousedownInsideEvent.target)==null||w.dispatchEvent(h),u.mousedownInsideEvent=null;return}a.type==="click"&&e("closeNodeCreator")}function m(){u.mousedownInsideEvent=null}function s(a){u.mousedownInsideEvent=a}function v(a){a.preventDefault()}function _(a){if(!a.dataTransfer)return;const w=a.dataTransfer.getData("nodeTypeName"),h=u.nodeCreator.getBoundingClientRect();w&&a.pageX>=h.x&&a.pageY>=h.y&&a.stopPropagation()}K(()=>t.active,a=>{a===!1&&(c(!1),o())}),K(g,a=>{a===0&&(e("closeNodeCreator"),c(!1))}),n("NodeCreatorCloseEscape",{keyboardKeys:["Escape"],handler:()=>e("closeNodeCreator")}),n("NodeCreatorCloseTab",{keyboardKeys:["Tab"],handler:()=>e("closeNodeCreator")}),K(()=>We().visibleNodeTypes,a=>{const{actions:w,mergedNodes:h}=i(a);p(w),y(h)},{immediate:!0});const{nodeCreator:d}=_e(u);return{__sfc:!0,props:t,resetViewStacks:o,registerKeyHook:n,emit:e,setShowScrim:c,setActions:p,setMergeNodes:y,generateMergedNodesAndActions:i,state:u,showScrim:l,viewStacksLength:g,onClickOutside:f,onMouseUp:m,onMouseDown:s,onDragOver:v,onDrop:_,nodeCreator:d,SlideTransition:At,NodesListPanel:kr}}}),Ar="_nodeCreator_i7qhj_5",Er="_nodeCreatorScrim_i7qhj_16",Rr="_active_i7qhj_28",Lr={nodeCreator:Ar,nodeCreatorScrim:Er,active:Rr};var Pr=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",[t("aside",{class:{[e.$style.nodeCreatorScrim]:!0,[e.$style.active]:o.showScrim}}),t(o.SlideTransition,[e.active?t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:o.onClickOutside,expression:"onClickOutside"}],ref:"nodeCreator",class:e.$style.nodeCreator,attrs:{"data-test-id":"node-creator"},on:{dragover:o.onDragOver,drop:o.onDrop,mousedown:o.onMouseDown,mouseup:o.onMouseUp}},[t(o.NodesListPanel,{on:{nodeTypeSelected:e.$listeners.nodeTypeSelected}})],1):e._e()])],1)},Or=[];const Ye={$style:Lr};function Vr(r){for(var e in Ye)this[e]=Ye[e]}var Dr=A(Ir,Pr,Or,!1,Vr,null,null,null);const xs=Dr.exports;export{xs as default};
//# sourceMappingURL=NodeCreator-22fa1af6.js.map
