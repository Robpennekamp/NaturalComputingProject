import{cF as m,G as u,d3 as _,e5 as y,e6 as f,e7 as v,ca as C}from"./ParameterInputList-a8424193.js";import{d as N}from"./vendor-df0f493f.js";import{m as S}from"./pinia-ba86f1d8.js";import{y as B}from"./n8n-8025af5e.js";import"./axios-f993d27a.js";import"./flatted-8b14da7d.js";import"./vue-i18n-b439dfd7.js";import"./en-bbe6b9d4.js";import"./dateformat-ef117725.js";import"./lodash-es-e1022157.js";import"./vue-typed-mixins-a25478b2.js";import"./codemirror-lang-html-n8n-728c3977.js";import"./@jsplumb/browser-ui-ddea9532.js";import"./@jsplumb/core-75ba1e73.js";import"./@jsplumb/util-79bcf4d9.js";import"./@jsplumb/common-fe415eb9.js";import"./@jsplumb/connector-bezier-c9c16c6b.js";import"./uuid-cf522c50.js";import"./codemirror-lang-n8n-expression-0036beb8.js";import"./luxon-3d1ae2f1.js";import"./fast-json-stable-stringify-0e965c3b.js";import"./esprima-next-d1b163ef.js";import"./prettier-50ab9e24.js";import"./@fortawesome/fontawesome-svg-core-a6b9645d.js";const k=N({name:"node-creation",components:{NodeCreator:async()=>m(()=>import("./NodeCreator-22fa1af6.js"),["assets/NodeCreator-22fa1af6.js","assets/vendor-df0f493f.js","assets/ParameterInputList-a8424193.js","assets/n8n-8025af5e.js","assets/@fortawesome/fontawesome-svg-core-a6b9645d.js","assets/luxon-3d1ae2f1.js","assets/esprima-next-d1b163ef.js","assets/n8n-0d5db0d6.css","assets/pinia-ba86f1d8.js","assets/axios-f993d27a.js","assets/flatted-8b14da7d.js","assets/vue-i18n-b439dfd7.js","assets/en-bbe6b9d4.js","assets/dateformat-ef117725.js","assets/lodash-es-e1022157.js","assets/vue-typed-mixins-a25478b2.js","assets/codemirror-lang-html-n8n-728c3977.js","assets/@jsplumb/browser-ui-ddea9532.js","assets/@jsplumb/core-75ba1e73.js","assets/@jsplumb/util-79bcf4d9.js","assets/@jsplumb/common-fe415eb9.js","assets/@jsplumb/connector-bezier-c9c16c6b.js","assets/uuid-cf522c50.js","assets/codemirror-lang-n8n-expression-0036beb8.js","assets/fast-json-stable-stringify-0e965c3b.js","assets/prettier-50ab9e24.js","assets/ParameterInputList-516be1d9.css","assets/index-3ee35394.js","assets/@fortawesome/free-solid-svg-icons-a2911fb5.js","assets/@fortawesome/free-regular-svg-icons-74cb85f8.js","assets/@fortawesome/vue-fontawesome-1701eda0.js","assets/vue2-touch-events-2bad05e9.js","assets/v-click-outside-01179a04.js","assets/vue-fragment-f3d0cc79.js","assets/vue-agile-00cde7d9.js","assets/vue-agile-d964f598.css","assets/timeago.js-a9e71aec.js","assets/canvas-confetti-60b90aac.js","assets/file-saver-d988540e.js","assets/vue2-teleport-53e66c3b.js","assets/vue-json-pretty-49f1c0cb.js","assets/humanize-duration-3471cd08.js","assets/vue-infinite-loading-8e5543e4.js","assets/copy-to-clipboard-fcf36459.js","assets/index-503f7655.css","assets/NodeCreator-a6bdb8af.css"])},props:{nodeViewScale:{type:Number,required:!0},createNodeActive:{type:Boolean,default:!1}},data(){return{showStickyButton:!1}},computed:{...S(u)},methods:{onCreateMenuHoverIn(o){const t=o.target;this.showStickyButton=!0;const e=r=>{if(t){const n=t.getBoundingClientRect(),c=n.height,d=n.width,s=n.left,p=s+d,a=n.top,l=a+c;r.pageX>s&&r.pageX<p&&r.pageY>a&&r.pageY<l||(this.showStickyButton=!1,document.removeEventListener("mousemove",e,!1))}};document.addEventListener("mousemove",e,!1)},openNodeCreator(){this.$emit("toggleNodeCreator",{source:_.ADD_NODE_BUTTON,createNodeActive:!0})},addStickyNote(){document.activeElement&&document.activeElement.blur();const o=[...this.uiStore.nodeViewOffsetPosition],t=y(this.nodeViewScale,o);t[0]-=f/2,t[1]-=v/2,this.$emit("addNode",[{nodeTypeName:C,position:t}])},closeNodeCreator(){this.$emit("toggleNodeCreator",{createNodeActive:!1})},nodeTypeSelected(o){this.$emit("addNode",o.map(t=>({nodeTypeName:t}))),this.closeNodeCreator()}}}),h="_nodeButtonsWrapper_tk7cm_1",T="_addStickyButton_tk7cm_10",w="_visibleButton_tk7cm_17",E="_noEvents_tk7cm_22",b="_nodeCreatorButton_tk7cm_26",g="_nodeCreatorPlus_tk7cm_43",$={nodeButtonsWrapper:h,addStickyButton:T,visibleButton:w,noEvents:E,nodeCreatorButton:b,nodeCreatorPlus:g};var P=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",[t.createNodeActive?t._e():e("div",{class:[t.$style.nodeButtonsWrapper,t.showStickyButton?t.$style.noEvents:""],on:{mouseenter:t.onCreateMenuHoverIn}},[e("div",{class:t.$style.nodeCreatorButton,attrs:{"data-test-id":"node-creator-plus-button"}},[e("n8n-icon-button",{class:t.$style.nodeCreatorPlus,attrs:{size:"xlarge",icon:"plus",type:"tertiary",title:t.$locale.baseText("nodeView.addNode")},on:{click:t.openNodeCreator}}),e("div",{class:[t.$style.addStickyButton,t.showStickyButton?t.$style.visibleButton:""],attrs:{"data-test-id":"add-sticky-button"},on:{click:t.addStickyNote}},[e("n8n-icon-button",{attrs:{size:"medium",type:"tertiary",icon:["far","note-sticky"],title:t.$locale.baseText("nodeView.addSticky")}})],1)],1)]),e("node-creator",{attrs:{active:t.createNodeActive},on:{nodeTypeSelected:t.nodeTypeSelected,closeNodeCreator:t.closeNodeCreator}})],1)},A=[];const i={$style:$};function D(o){for(var t in i)this[t]=i[t]}var I=B(k,P,A,!1,D,null,null,null);const st=I.exports;export{st as default};
//# sourceMappingURL=NodeCreation-57ba7518.js.map
