{"version":3,"file":"checkin.js","sources":["../../src/checkin.ts"],"sourcesContent":["import type { CheckInEvelope, CheckInItem, DsnComponents, SdkMetadata, SerializedCheckIn } from '@sentry/types';\nimport { createEnvelope, dsnToString } from '@sentry/utils';\n\n/**\n * Create envelope from check in item.\n */\nexport function createCheckInEnvelope(\n  checkIn: SerializedCheckIn,\n  metadata?: SdkMetadata,\n  tunnel?: string,\n  dsn?: DsnComponents,\n): CheckInEvelope {\n  const headers: CheckInEvelope[0] = {\n    sent_at: new Date().toISOString(),\n    ...(metadata &&\n      metadata.sdk && {\n        sdk: {\n          name: metadata.sdk.name,\n          version: metadata.sdk.version,\n        },\n      }),\n    ...(!!tunnel && !!dsn && { dsn: dsnToString(dsn) }),\n  };\n  const item = createCheckInEnvelopeItem(checkIn);\n  return createEnvelope<CheckInEvelope>(headers, [item]);\n}\n\nfunction createCheckInEnvelopeItem(checkIn: SerializedCheckIn): CheckInItem {\n  const checkInHeaders: CheckInItem[0] = {\n    type: 'check_in',\n  };\n  return [checkInHeaders, checkIn];\n}\n"],"names":["dsnToString","createEnvelope"],"mappings":";;;;AAGA;AACA;AACA;AACA,SAAA,qBAAA;AACA,EAAA,OAAA;AACA,EAAA,QAAA;AACA,EAAA,MAAA;AACA,EAAA,GAAA;AACA,EAAA;AACA,EAAA,MAAA,OAAA,GAAA;AACA,IAAA,OAAA,EAAA,IAAA,IAAA,EAAA,CAAA,WAAA,EAAA;AACA,IAAA,IAAA,QAAA;AACA,MAAA,QAAA,CAAA,GAAA,IAAA;AACA,QAAA,GAAA,EAAA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,GAAA,CAAA,IAAA;AACA,UAAA,OAAA,EAAA,QAAA,CAAA,GAAA,CAAA,OAAA;AACA,SAAA;AACA,OAAA,CAAA;AACA,IAAA,IAAA,CAAA,CAAA,MAAA,IAAA,CAAA,CAAA,GAAA,IAAA,EAAA,GAAA,EAAAA,iBAAA,CAAA,GAAA,CAAA,EAAA,CAAA;AACA,GAAA,CAAA;AACA,EAAA,MAAA,IAAA,GAAA,yBAAA,CAAA,OAAA,CAAA,CAAA;AACA,EAAA,OAAAC,oBAAA,CAAA,OAAA,EAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,CAAA;AACA;AACA,SAAA,yBAAA,CAAA,OAAA,EAAA;AACA,EAAA,MAAA,cAAA,GAAA;AACA,IAAA,IAAA,EAAA,UAAA;AACA,GAAA,CAAA;AACA,EAAA,OAAA,CAAA,cAAA,EAAA,OAAA,CAAA,CAAA;AACA;;;;"}