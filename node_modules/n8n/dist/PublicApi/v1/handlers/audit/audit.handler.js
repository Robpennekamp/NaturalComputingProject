"use strict";
const global_middleware_1 = require("../../../../PublicApi/v1/shared/middlewares/global.middleware");
const audit_1 = require("../../../../audit");
module.exports = {
    generateAudit: [
        (0, global_middleware_1.authorize)(['owner']),
        async (req, res) => {
            var _a, _b, _c, _d;
            try {
                const result = await (0, audit_1.audit)((_b = (_a = req.body) === null || _a === void 0 ? void 0 : _a.additionalOptions) === null || _b === void 0 ? void 0 : _b.categories, (_d = (_c = req.body) === null || _c === void 0 ? void 0 : _c.additionalOptions) === null || _d === void 0 ? void 0 : _d.daysAbandonedWorkflow);
                return res.json(result);
            }
            catch (error) {
                return res.status(500).json(error);
            }
        },
    ],
};
//# sourceMappingURL=audit.handler.js.map