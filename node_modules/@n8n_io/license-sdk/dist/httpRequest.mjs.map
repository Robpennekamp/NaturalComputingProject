{"version":3,"sources":["../src/httpRequest.ts"],"sourcesContent":["import { fetch } from 'undici'\n\nexport async function postRequest<T>(\n  url: string,\n  data: {},\n  options: {\n    timeoutInMs?: number\n  } = {}\n) {\n  const controller = new AbortController()\n\n  const timeout = setTimeout(() => {\n    controller.abort()\n  }, options.timeoutInMs ?? 30000)\n\n  try {\n    const response = await fetch(url, {\n      method: 'post',\n      body: JSON.stringify(data),\n      headers: { 'Content-Type': 'application/json' },\n      signal: controller.signal,\n    })\n\n    const responseJson = await response.json()\n\n    return {\n      status: response.status,\n      data: responseJson as T,\n    }\n  } catch (err) {\n    ;(err as Error).message = 'Connection Error'\n    throw err\n  } finally {\n    clearTimeout(timeout)\n  }\n}\n\nexport default {\n  postRequest,\n}\n"],"mappings":"AAAA,OAAS,SAAAA,MAAa,SAEtB,eAAsBC,EACpBC,EACAC,EACAC,EAEI,CAAC,EACL,CACA,IAAMC,EAAa,IAAI,gBAEjBC,EAAU,WAAW,IAAM,CAC/BD,EAAW,MAAM,CACnB,EAAGD,EAAQ,aAAe,GAAK,EAE/B,GAAI,CACF,IAAMG,EAAW,MAAMP,EAAME,EAAK,CAChC,OAAQ,OACR,KAAM,KAAK,UAAUC,CAAI,EACzB,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,OAAQE,EAAW,MACrB,CAAC,EAEKG,EAAe,MAAMD,EAAS,KAAK,EAEzC,MAAO,CACL,OAAQA,EAAS,OACjB,KAAMC,CACR,CACF,OAASC,EAAP,CACC,MAACA,EAAc,QAAU,mBACpBA,CACR,QAAE,CACA,aAAaH,CAAO,CACtB,CACF,CAEA,IAAOI,EAAQ,CACb,YAAAT,CACF","names":["fetch","postRequest","url","data","options","controller","timeout","response","responseJson","err","httpRequest_default"]}