{"type":"File","start":0,"end":8979,"loc":{"start":{"line":1,"column":0},"end":{"line":248,"column":0}},"program":{"type":"Program","start":0,"end":8979,"loc":{"start":{"line":1,"column":0},"end":{"line":248,"column":0}},"sourceType":"module","body":[{"type":"ImportDeclaration","start":0,"end":48,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"specifiers":[{"type":"ImportDefaultSpecifier","start":7,"end":21,"loc":{"start":{"line":1,"column":7},"end":{"line":1,"column":21}},"local":{"type":"Identifier","start":7,"end":21,"loc":{"start":{"line":1,"column":7},"end":{"line":1,"column":21},"identifierName":"SoftConstraint"},"name":"SoftConstraint"}}],"source":{"type":"StringLiteral","start":27,"end":48,"loc":{"start":{"line":1,"column":27},"end":{"line":1,"column":48}},"extra":{"rawValue":"./SoftConstraint.js","raw":"\"./SoftConstraint.js\""},"value":"./SoftConstraint.js"}},{"type":"ImportDeclaration","start":49,"end":101,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":52}},"specifiers":[{"type":"ImportDefaultSpecifier","start":56,"end":72,"loc":{"start":{"line":2,"column":7},"end":{"line":2,"column":23}},"local":{"type":"Identifier","start":56,"end":72,"loc":{"start":{"line":2,"column":7},"end":{"line":2,"column":23},"identifierName":"ParameterChecker"},"name":"ParameterChecker"}}],"source":{"type":"StringLiteral","start":78,"end":101,"loc":{"start":{"line":2,"column":29},"end":{"line":2,"column":52}},"extra":{"rawValue":"./ParameterChecker.js","raw":"\"./ParameterChecker.js\""},"value":"./ParameterChecker.js","leadingComments":null,"trailingComments":null},"trailingComments":[{"type":"CommentBlock","value":"* This class implements the activity constraint of Potts models published in:\n *\n *\tNiculescu I, Textor J, de Boer RJ (2015) \n *\tCrawling and Gliding: A Computational Model for Shape-Driven Cell Migration. \n *\tPLoS Comput Biol 11(10): e1004280. \n * \n * Pixels recently added to a cell get an \"activity\", which then declines with every MCS.\n * Copy attempts from more active into less active pixels have a higher success rate,\n * which puts a positive feedback on protrusive activity and leads to cell migration.\n * \n * This constraint is generally used together with {@link Adhesion}, {@link VolumeConstraint},\n * and {@link PerimeterConstraint}.\n * \n * @see https://doi.org/10.1371/journal.pcbi.1004280\n *\n * @example\n * // Build a CPM and add the constraint\n * let CPM = require( \"path/to/build\" )\n * let C = new CPM.CPM( [200,200], {\n * \tT : 20,\n * \tJ : [[0,20],[20,10]],\n * \tV : [0,500],\n * \tLAMBDA_V : [0,5],\n * \tP : [0,260],\n * \tLAMBDA_P : [0,2] \t\n * })\n * C.add( new CPM.ActivityConstraint( {\n * \tLAMBDA_ACT : [0,500],\n * \tMAX_ACT : [0,30],\n * \tACT_MEAN : \"geometric\"\n * } ) )\n * \n * // Or add automatically by entering the parameters in the CPM\n * let C2 = new CPM.CPM( [200,200], {\n * \tT : 20,\n * \tJ : [[0,20],[20,10]],\n * \tV : [0,500],\n * \tLAMBDA_V : [0,5],\n * \tP : [0,260],\n * \tLAMBDA_P : [0,2],\n * \tLAMBDA_ACT : [0,500],\n * \tMAX_ACT : [0,30],\n * \tACT_MEAN : \"geometric\"\t\n * })\n ","start":103,"end":1497,"loc":{"start":{"line":4,"column":0},"end":{"line":48,"column":3}}}]},{"type":"Identifier","start":1498,"end":8943,"loc":{"start":{"line":49,"column":0},"end":{"line":245,"column":1}},"id":{"type":"Identifier","start":1504,"end":1522,"loc":{"start":{"line":49,"column":6},"end":{"line":49,"column":24},"identifierName":"ActivityConstraint"},"name":"ActivityConstraint","leadingComments":null},"superClass":{"type":"Identifier","start":1531,"end":1545,"loc":{"start":{"line":49,"column":33},"end":{"line":49,"column":47},"identifierName":"SoftConstraint"},"name":"SoftConstraint"},"body":{"type":"ClassBody","start":1546,"end":8943,"loc":{"start":{"line":49,"column":48},"end":{"line":245,"column":1}},"body":[{"type":"ClassMethod","start":2037,"end":2700,"loc":{"start":{"line":58,"column":1},"end":{"line":76,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":2037,"end":2048,"loc":{"start":{"line":58,"column":1},"end":{"line":58,"column":12},"identifierName":"constructor"},"name":"constructor","leadingComments":null},"kind":"constructor","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":2050,"end":2054,"loc":{"start":{"line":58,"column":14},"end":{"line":58,"column":18},"identifierName":"conf"},"name":"conf"}],"body":{"type":"BlockStatement","start":2056,"end":2700,"loc":{"start":{"line":58,"column":20},"end":{"line":76,"column":2}},"body":[{"type":"ExpressionStatement","start":2060,"end":2073,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":15}},"expression":{"type":"CallExpression","start":2060,"end":2073,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":15}},"callee":{"type":"Super","start":2060,"end":2065,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":7}}},"arguments":[{"type":"Identifier","start":2067,"end":2071,"loc":{"start":{"line":59,"column":9},"end":{"line":59,"column":13},"identifierName":"conf"},"name":"conf"}],"trailingComments":null},"trailingComments":[{"type":"CommentBlock","value":"* Activity of all cellpixels with a non-zero activity is stored in this object,\n\t\twith the {@link IndexCoordinate} of each pixel as key and its current activity as\n\t\tvalue. When the activity reaches 0, the pixel is removed from the object until it\n\t\tis added again. \n\t\t@type {object}","start":2077,"end":2364,"loc":{"start":{"line":61,"column":2},"end":{"line":65,"column":18}}}]},{"type":"ExpressionStatement","start":2367,"end":2390,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":25}},"expression":{"type":"AssignmentExpression","start":2367,"end":2390,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":25}},"operator":"=","left":{"type":"MemberExpression","start":2367,"end":2385,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":20}},"object":{"type":"ThisExpression","start":2367,"end":2371,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":6}},"leadingComments":null},"property":{"type":"Identifier","start":2372,"end":2385,"loc":{"start":{"line":66,"column":7},"end":{"line":66,"column":20},"identifierName":"cellpixelsact"},"name":"cellpixelsact"},"computed":false,"leadingComments":null},"right":{"type":"ObjectExpression","start":2388,"end":2390,"loc":{"start":{"line":66,"column":23},"end":{"line":66,"column":25}},"properties":[],"leadingComments":null,"trailingComments":null},"leadingComments":null,"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* Activity of all cellpixels with a non-zero activity is stored in this object,\n\t\twith the {@link IndexCoordinate} of each pixel as key and its current activity as\n\t\tvalue. When the activity reaches 0, the pixel is removed from the object until it\n\t\tis added again. \n\t\t@type {object}","start":2077,"end":2364,"loc":{"start":{"line":61,"column":2},"end":{"line":65,"column":18}}}],"trailingComments":[{"type":"CommentBlock","value":"* Wrapper: select function to compute activities based on ACT_MEAN in conf.\n\t\tDefault is to use the {@link activityAtGeom} for a geometric mean.\n\t\t@type {function}","start":2396,"end":2563,"loc":{"start":{"line":68,"column":2},"end":{"line":70,"column":20}}}]},{"type":"ExpressionStatement","start":2566,"end":2603,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":39}},"expression":{"type":"AssignmentExpression","start":2566,"end":2603,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":39}},"operator":"=","left":{"type":"MemberExpression","start":2566,"end":2581,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":17}},"object":{"type":"ThisExpression","start":2566,"end":2570,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":6}},"leadingComments":null},"property":{"type":"Identifier","start":2571,"end":2581,"loc":{"start":{"line":71,"column":7},"end":{"line":71,"column":17},"identifierName":"activityAt"},"name":"activityAt"},"computed":false,"leadingComments":null},"right":{"type":"MemberExpression","start":2584,"end":2603,"loc":{"start":{"line":71,"column":20},"end":{"line":71,"column":39}},"object":{"type":"ThisExpression","start":2584,"end":2588,"loc":{"start":{"line":71,"column":20},"end":{"line":71,"column":24}}},"property":{"type":"Identifier","start":2589,"end":2603,"loc":{"start":{"line":71,"column":25},"end":{"line":71,"column":39},"identifierName":"activityAtGeom"},"name":"activityAtGeom"},"computed":false},"leadingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* Wrapper: select function to compute activities based on ACT_MEAN in conf.\n\t\tDefault is to use the {@link activityAtGeom} for a geometric mean.\n\t\t@type {function}","start":2396,"end":2563,"loc":{"start":{"line":68,"column":2},"end":{"line":70,"column":20}}}]},{"type":"IfStatement","start":2606,"end":2693,"loc":{"start":{"line":72,"column":2},"end":{"line":74,"column":3}},"test":{"type":"BinaryExpression","start":2610,"end":2644,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":40}},"left":{"type":"MemberExpression","start":2610,"end":2628,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":24}},"object":{"type":"MemberExpression","start":2610,"end":2619,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":15}},"object":{"type":"ThisExpression","start":2610,"end":2614,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":10}}},"property":{"type":"Identifier","start":2615,"end":2619,"loc":{"start":{"line":72,"column":11},"end":{"line":72,"column":15},"identifierName":"conf"},"name":"conf"},"computed":false},"property":{"type":"Identifier","start":2620,"end":2628,"loc":{"start":{"line":72,"column":16},"end":{"line":72,"column":24},"identifierName":"ACT_MEAN"},"name":"ACT_MEAN"},"computed":false},"operator":"==","right":{"type":"StringLiteral","start":2632,"end":2644,"loc":{"start":{"line":72,"column":28},"end":{"line":72,"column":40}},"extra":{"rawValue":"arithmetic","raw":"\"arithmetic\""},"value":"arithmetic"}},"consequent":{"type":"BlockStatement","start":2646,"end":2693,"loc":{"start":{"line":72,"column":42},"end":{"line":74,"column":3}},"body":[{"type":"ExpressionStatement","start":2651,"end":2689,"loc":{"start":{"line":73,"column":3},"end":{"line":73,"column":41}},"expression":{"type":"AssignmentExpression","start":2651,"end":2689,"loc":{"start":{"line":73,"column":3},"end":{"line":73,"column":41}},"operator":"=","left":{"type":"MemberExpression","start":2651,"end":2666,"loc":{"start":{"line":73,"column":3},"end":{"line":73,"column":18}},"object":{"type":"ThisExpression","start":2651,"end":2655,"loc":{"start":{"line":73,"column":3},"end":{"line":73,"column":7}}},"property":{"type":"Identifier","start":2656,"end":2666,"loc":{"start":{"line":73,"column":8},"end":{"line":73,"column":18},"identifierName":"activityAt"},"name":"activityAt"},"computed":false},"right":{"type":"MemberExpression","start":2669,"end":2689,"loc":{"start":{"line":73,"column":21},"end":{"line":73,"column":41}},"object":{"type":"ThisExpression","start":2669,"end":2673,"loc":{"start":{"line":73,"column":21},"end":{"line":73,"column":25}}},"property":{"type":"Identifier","start":2674,"end":2689,"loc":{"start":{"line":73,"column":26},"end":{"line":73,"column":41},"identifierName":"activityAtArith"},"name":"activityAtArith"},"computed":false}}}],"directives":[]},"alternate":null}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* The constructor of the ActivityConstraint requires a conf object with parameters.\n\t@param {object} conf - parameter object for this constraint\n\t@param {string} [conf.ACT_MEAN=\"geometric\"] - should local mean activity be measured with an\n\t\"arithmetic\" or a \"geometric\" mean?\n\t@param {PerKindNonNegative} conf.LAMBDA_ACT - strength of the activityconstraint per cellkind.\n\t@param {PerKindNonNegative} conf.MAX_ACT - how long do pixels remember their activity? Given per cellkind.\n\t","start":1550,"end":2035,"loc":{"start":{"line":51,"column":1},"end":{"line":57,"column":3}}}],"trailingComments":[{"type":"CommentBlock","value":"* This method checks that all required parameters are present in the object supplied to\n\tthe constructor, and that they are of the right format. It throws an error when this\n\tis not the case.","start":2704,"end":2899,"loc":{"start":{"line":78,"column":1},"end":{"line":80,"column":19}}}]},{"type":"ClassMethod","start":2901,"end":3218,"loc":{"start":{"line":81,"column":1},"end":{"line":86,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":2901,"end":2912,"loc":{"start":{"line":81,"column":1},"end":{"line":81,"column":12},"identifierName":"confChecker"},"name":"confChecker","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2914,"end":3218,"loc":{"start":{"line":81,"column":14},"end":{"line":86,"column":2}},"body":[{"type":"VariableDeclaration","start":2918,"end":2973,"loc":{"start":{"line":82,"column":2},"end":{"line":82,"column":57}},"declarations":[{"type":"VariableDeclarator","start":2922,"end":2973,"loc":{"start":{"line":82,"column":6},"end":{"line":82,"column":57}},"id":{"type":"Identifier","start":2922,"end":2929,"loc":{"start":{"line":82,"column":6},"end":{"line":82,"column":13},"identifierName":"checker"},"name":"checker"},"init":{"type":"NewExpression","start":2932,"end":2973,"loc":{"start":{"line":82,"column":16},"end":{"line":82,"column":57}},"callee":{"type":"Identifier","start":2936,"end":2952,"loc":{"start":{"line":82,"column":20},"end":{"line":82,"column":36},"identifierName":"ParameterChecker"},"name":"ParameterChecker"},"arguments":[{"type":"MemberExpression","start":2954,"end":2963,"loc":{"start":{"line":82,"column":38},"end":{"line":82,"column":47}},"object":{"type":"ThisExpression","start":2954,"end":2958,"loc":{"start":{"line":82,"column":38},"end":{"line":82,"column":42}}},"property":{"type":"Identifier","start":2959,"end":2963,"loc":{"start":{"line":82,"column":43},"end":{"line":82,"column":47},"identifierName":"conf"},"name":"conf"},"computed":false},{"type":"MemberExpression","start":2965,"end":2971,"loc":{"start":{"line":82,"column":49},"end":{"line":82,"column":55}},"object":{"type":"ThisExpression","start":2965,"end":2969,"loc":{"start":{"line":82,"column":49},"end":{"line":82,"column":53}}},"property":{"type":"Identifier","start":2970,"end":2971,"loc":{"start":{"line":82,"column":54},"end":{"line":82,"column":55},"identifierName":"C"},"name":"C"},"computed":false}]}}],"kind":"let"},{"type":"ExpressionStatement","start":2976,"end":3072,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":98}},"expression":{"type":"CallExpression","start":2976,"end":3072,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":98}},"callee":{"type":"MemberExpression","start":2976,"end":3002,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":28}},"object":{"type":"Identifier","start":2976,"end":2983,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":9},"identifierName":"checker"},"name":"checker"},"property":{"type":"Identifier","start":2984,"end":3002,"loc":{"start":{"line":83,"column":10},"end":{"line":83,"column":28},"identifierName":"confCheckParameter"},"name":"confCheckParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":3004,"end":3014,"loc":{"start":{"line":83,"column":30},"end":{"line":83,"column":40}},"extra":{"rawValue":"ACT_MEAN","raw":"\"ACT_MEAN\""},"value":"ACT_MEAN"},{"type":"StringLiteral","start":3016,"end":3029,"loc":{"start":{"line":83,"column":42},"end":{"line":83,"column":55}},"extra":{"rawValue":"SingleValue","raw":"\"SingleValue\""},"value":"SingleValue"},{"type":"StringLiteral","start":3031,"end":3039,"loc":{"start":{"line":83,"column":57},"end":{"line":83,"column":65}},"extra":{"rawValue":"String","raw":"\"String\""},"value":"String"},{"type":"ArrayExpression","start":3041,"end":3070,"loc":{"start":{"line":83,"column":67},"end":{"line":83,"column":96}},"elements":[{"type":"StringLiteral","start":3043,"end":3054,"loc":{"start":{"line":83,"column":69},"end":{"line":83,"column":80}},"extra":{"rawValue":"geometric","raw":"\"geometric\""},"value":"geometric"},{"type":"StringLiteral","start":3056,"end":3068,"loc":{"start":{"line":83,"column":82},"end":{"line":83,"column":94}},"extra":{"rawValue":"arithmetic","raw":"\"arithmetic\""},"value":"arithmetic"}]}]}},{"type":"ExpressionStatement","start":3075,"end":3145,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":72}},"expression":{"type":"CallExpression","start":3075,"end":3145,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":72}},"callee":{"type":"MemberExpression","start":3075,"end":3101,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":28}},"object":{"type":"Identifier","start":3075,"end":3082,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":9},"identifierName":"checker"},"name":"checker"},"property":{"type":"Identifier","start":3083,"end":3101,"loc":{"start":{"line":84,"column":10},"end":{"line":84,"column":28},"identifierName":"confCheckParameter"},"name":"confCheckParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":3103,"end":3115,"loc":{"start":{"line":84,"column":30},"end":{"line":84,"column":42}},"extra":{"rawValue":"LAMBDA_ACT","raw":"\"LAMBDA_ACT\""},"value":"LAMBDA_ACT"},{"type":"StringLiteral","start":3117,"end":3128,"loc":{"start":{"line":84,"column":44},"end":{"line":84,"column":55}},"extra":{"rawValue":"KindArray","raw":"\"KindArray\""},"value":"KindArray"},{"type":"StringLiteral","start":3130,"end":3143,"loc":{"start":{"line":84,"column":57},"end":{"line":84,"column":70}},"extra":{"rawValue":"NonNegative","raw":"\"NonNegative\""},"value":"NonNegative"}]}},{"type":"ExpressionStatement","start":3148,"end":3215,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":69}},"expression":{"type":"CallExpression","start":3148,"end":3215,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":69}},"callee":{"type":"MemberExpression","start":3148,"end":3174,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":28}},"object":{"type":"Identifier","start":3148,"end":3155,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":9},"identifierName":"checker"},"name":"checker"},"property":{"type":"Identifier","start":3156,"end":3174,"loc":{"start":{"line":85,"column":10},"end":{"line":85,"column":28},"identifierName":"confCheckParameter"},"name":"confCheckParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":3176,"end":3185,"loc":{"start":{"line":85,"column":30},"end":{"line":85,"column":39}},"extra":{"rawValue":"MAX_ACT","raw":"\"MAX_ACT\""},"value":"MAX_ACT"},{"type":"StringLiteral","start":3187,"end":3198,"loc":{"start":{"line":85,"column":41},"end":{"line":85,"column":52}},"extra":{"rawValue":"KindArray","raw":"\"KindArray\""},"value":"KindArray"},{"type":"StringLiteral","start":3200,"end":3213,"loc":{"start":{"line":85,"column":54},"end":{"line":85,"column":67}},"extra":{"rawValue":"NonNegative","raw":"\"NonNegative\""},"value":"NonNegative"}]}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* This method checks that all required parameters are present in the object supplied to\n\tthe constructor, and that they are of the right format. It throws an error when this\n\tis not the case.","start":2704,"end":2899,"loc":{"start":{"line":78,"column":1},"end":{"line":80,"column":19}}}],"trailingComments":[{"type":"CommentBlock","value":" ======= ACT MODEL ======= ","start":3222,"end":3253,"loc":{"start":{"line":88,"column":1},"end":{"line":88,"column":32}}},{"type":"CommentBlock","value":" Act model : compute local activity values within cell around pixel i.\n\t * Depending on settings in conf, this is an arithmetic (activityAtArith)\n\t * or geometric (activityAtGeom) mean of the activities of the neighbors\n\t * of pixel i.\n\t ","start":3256,"end":3498,"loc":{"start":{"line":90,"column":1},"end":{"line":94,"column":4}}},{"type":"CommentBlock","value":"* Method to compute the Hamiltonian for this constraint. \n\t @param {IndexCoordinate} sourcei - coordinate of the source pixel that tries to copy.\n\t @param {IndexCoordinate} targeti - coordinate of the target pixel the source is trying\n\t to copy into.\n\t @param {CellId} src_type - cellid of the source pixel.\n\t @param {CellId} tgt_type - cellid of the target pixel. \n\t @return {number} the change in Hamiltonian for this copy attempt and this constraint.","start":3500,"end":3957,"loc":{"start":{"line":95,"column":1},"end":{"line":101,"column":89}}}]},{"type":"ClassMethod","start":3960,"end":4960,"loc":{"start":{"line":102,"column":1},"end":{"line":126,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":3960,"end":3966,"loc":{"start":{"line":102,"column":1},"end":{"line":102,"column":7},"identifierName":"deltaH"},"name":"deltaH","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":3969,"end":3976,"loc":{"start":{"line":102,"column":10},"end":{"line":102,"column":17},"identifierName":"sourcei"},"name":"sourcei"},{"type":"Identifier","start":3978,"end":3985,"loc":{"start":{"line":102,"column":19},"end":{"line":102,"column":26},"identifierName":"targeti"},"name":"targeti"},{"type":"Identifier","start":3987,"end":3995,"loc":{"start":{"line":102,"column":28},"end":{"line":102,"column":36},"identifierName":"src_type"},"name":"src_type"},{"type":"Identifier","start":3997,"end":4005,"loc":{"start":{"line":102,"column":38},"end":{"line":102,"column":46},"identifierName":"tgt_type"},"name":"tgt_type"}],"body":{"type":"BlockStatement","start":4007,"end":4960,"loc":{"start":{"line":102,"column":48},"end":{"line":126,"column":2}},"body":[{"type":"VariableDeclaration","start":4012,"end":4045,"loc":{"start":{"line":104,"column":2},"end":{"line":104,"column":35}},"declarations":[{"type":"VariableDeclarator","start":4016,"end":4026,"loc":{"start":{"line":104,"column":6},"end":{"line":104,"column":16}},"id":{"type":"Identifier","start":4016,"end":4022,"loc":{"start":{"line":104,"column":6},"end":{"line":104,"column":12},"identifierName":"deltaH"},"name":"deltaH"},"init":{"type":"NumericLiteral","start":4025,"end":4026,"loc":{"start":{"line":104,"column":15},"end":{"line":104,"column":16}},"extra":{"rawValue":0,"raw":"0"},"value":0}},{"type":"VariableDeclarator","start":4028,"end":4034,"loc":{"start":{"line":104,"column":18},"end":{"line":104,"column":24}},"id":{"type":"Identifier","start":4028,"end":4034,"loc":{"start":{"line":104,"column":18},"end":{"line":104,"column":24},"identifierName":"maxact"},"name":"maxact"},"init":null},{"type":"VariableDeclarator","start":4036,"end":4045,"loc":{"start":{"line":104,"column":26},"end":{"line":104,"column":35}},"id":{"type":"Identifier","start":4036,"end":4045,"loc":{"start":{"line":104,"column":26},"end":{"line":104,"column":35},"identifierName":"lambdaact"},"name":"lambdaact","leadingComments":null,"trailingComments":null},"init":null,"trailingComments":null}],"kind":"let","trailingComments":[{"type":"CommentLine","value":" use parameters for the source cell, unless that is the background.","start":4049,"end":4118,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":71}}},{"type":"CommentLine","value":" In that case, use parameters of the target cell.","start":4121,"end":4172,"loc":{"start":{"line":107,"column":2},"end":{"line":107,"column":53}}}]},{"type":"IfStatement","start":4175,"end":4652,"loc":{"start":{"line":108,"column":2},"end":{"line":117,"column":3}},"test":{"type":"BinaryExpression","start":4179,"end":4192,"loc":{"start":{"line":108,"column":6},"end":{"line":108,"column":19}},"left":{"type":"Identifier","start":4179,"end":4187,"loc":{"start":{"line":108,"column":6},"end":{"line":108,"column":14},"identifierName":"src_type"},"name":"src_type","leadingComments":null},"operator":"!=","right":{"type":"NumericLiteral","start":4191,"end":4192,"loc":{"start":{"line":108,"column":18},"end":{"line":108,"column":19}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null},"consequent":{"type":"BlockStatement","start":4194,"end":4309,"loc":{"start":{"line":108,"column":21},"end":{"line":111,"column":3}},"body":[{"type":"ExpressionStatement","start":4199,"end":4247,"loc":{"start":{"line":109,"column":3},"end":{"line":109,"column":51}},"expression":{"type":"AssignmentExpression","start":4199,"end":4247,"loc":{"start":{"line":109,"column":3},"end":{"line":109,"column":51}},"operator":"=","left":{"type":"Identifier","start":4199,"end":4205,"loc":{"start":{"line":109,"column":3},"end":{"line":109,"column":9},"identifierName":"maxact"},"name":"maxact"},"right":{"type":"CallExpression","start":4208,"end":4247,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":51}},"callee":{"type":"MemberExpression","start":4208,"end":4226,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":30}},"object":{"type":"ThisExpression","start":4208,"end":4212,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":16}}},"property":{"type":"Identifier","start":4213,"end":4226,"loc":{"start":{"line":109,"column":17},"end":{"line":109,"column":30},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":4227,"end":4236,"loc":{"start":{"line":109,"column":31},"end":{"line":109,"column":40}},"extra":{"rawValue":"MAX_ACT","raw":"\"MAX_ACT\""},"value":"MAX_ACT"},{"type":"Identifier","start":4238,"end":4246,"loc":{"start":{"line":109,"column":42},"end":{"line":109,"column":50},"identifierName":"src_type"},"name":"src_type"}]}}},{"type":"ExpressionStatement","start":4251,"end":4305,"loc":{"start":{"line":110,"column":3},"end":{"line":110,"column":57}},"expression":{"type":"AssignmentExpression","start":4251,"end":4305,"loc":{"start":{"line":110,"column":3},"end":{"line":110,"column":57}},"operator":"=","left":{"type":"Identifier","start":4251,"end":4260,"loc":{"start":{"line":110,"column":3},"end":{"line":110,"column":12},"identifierName":"lambdaact"},"name":"lambdaact"},"right":{"type":"CallExpression","start":4263,"end":4305,"loc":{"start":{"line":110,"column":15},"end":{"line":110,"column":57}},"callee":{"type":"MemberExpression","start":4263,"end":4281,"loc":{"start":{"line":110,"column":15},"end":{"line":110,"column":33}},"object":{"type":"ThisExpression","start":4263,"end":4267,"loc":{"start":{"line":110,"column":15},"end":{"line":110,"column":19}}},"property":{"type":"Identifier","start":4268,"end":4281,"loc":{"start":{"line":110,"column":20},"end":{"line":110,"column":33},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":4282,"end":4294,"loc":{"start":{"line":110,"column":34},"end":{"line":110,"column":46}},"extra":{"rawValue":"LAMBDA_ACT","raw":"\"LAMBDA_ACT\""},"value":"LAMBDA_ACT"},{"type":"Identifier","start":4296,"end":4304,"loc":{"start":{"line":110,"column":48},"end":{"line":110,"column":56},"identifierName":"src_type"},"name":"src_type"}]}}}],"directives":[]},"alternate":{"type":"BlockStatement","start":4315,"end":4652,"loc":{"start":{"line":111,"column":9},"end":{"line":117,"column":3}},"body":[{"type":"ExpressionStatement","start":4542,"end":4590,"loc":{"start":{"line":115,"column":3},"end":{"line":115,"column":51}},"expression":{"type":"AssignmentExpression","start":4542,"end":4590,"loc":{"start":{"line":115,"column":3},"end":{"line":115,"column":51}},"operator":"=","left":{"type":"Identifier","start":4542,"end":4548,"loc":{"start":{"line":115,"column":3},"end":{"line":115,"column":9},"identifierName":"maxact"},"name":"maxact","leadingComments":null},"right":{"type":"CallExpression","start":4551,"end":4590,"loc":{"start":{"line":115,"column":12},"end":{"line":115,"column":51}},"callee":{"type":"MemberExpression","start":4551,"end":4569,"loc":{"start":{"line":115,"column":12},"end":{"line":115,"column":30}},"object":{"type":"ThisExpression","start":4551,"end":4555,"loc":{"start":{"line":115,"column":12},"end":{"line":115,"column":16}}},"property":{"type":"Identifier","start":4556,"end":4569,"loc":{"start":{"line":115,"column":17},"end":{"line":115,"column":30},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":4570,"end":4579,"loc":{"start":{"line":115,"column":31},"end":{"line":115,"column":40}},"extra":{"rawValue":"MAX_ACT","raw":"\"MAX_ACT\""},"value":"MAX_ACT"},{"type":"Identifier","start":4581,"end":4589,"loc":{"start":{"line":115,"column":42},"end":{"line":115,"column":50},"identifierName":"tgt_type"},"name":"tgt_type"}]},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" special case: punishment for a copy attempt from background into","start":4320,"end":4387,"loc":{"start":{"line":112,"column":3},"end":{"line":112,"column":70}}},{"type":"CommentLine","value":" an active cell. This effectively means that the active cell retracts,","start":4391,"end":4463,"loc":{"start":{"line":113,"column":3},"end":{"line":113,"column":75}}},{"type":"CommentLine","value":" which is different from one cell pushing into another (active) cell.","start":4467,"end":4538,"loc":{"start":{"line":114,"column":3},"end":{"line":114,"column":74}}}]},{"type":"ExpressionStatement","start":4594,"end":4648,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":57}},"expression":{"type":"AssignmentExpression","start":4594,"end":4648,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":57}},"operator":"=","left":{"type":"Identifier","start":4594,"end":4603,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":12},"identifierName":"lambdaact"},"name":"lambdaact"},"right":{"type":"CallExpression","start":4606,"end":4648,"loc":{"start":{"line":116,"column":15},"end":{"line":116,"column":57}},"callee":{"type":"MemberExpression","start":4606,"end":4624,"loc":{"start":{"line":116,"column":15},"end":{"line":116,"column":33}},"object":{"type":"ThisExpression","start":4606,"end":4610,"loc":{"start":{"line":116,"column":15},"end":{"line":116,"column":19}}},"property":{"type":"Identifier","start":4611,"end":4624,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":33},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":4625,"end":4637,"loc":{"start":{"line":116,"column":34},"end":{"line":116,"column":46}},"extra":{"rawValue":"LAMBDA_ACT","raw":"\"LAMBDA_ACT\""},"value":"LAMBDA_ACT"},{"type":"Identifier","start":4639,"end":4647,"loc":{"start":{"line":116,"column":48},"end":{"line":116,"column":56},"identifierName":"tgt_type"},"name":"tgt_type"}]}}}],"directives":[]},"leadingComments":[{"type":"CommentLine","value":" use parameters for the source cell, unless that is the background.","start":4049,"end":4118,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":71}}},{"type":"CommentLine","value":" In that case, use parameters of the target cell.","start":4121,"end":4172,"loc":{"start":{"line":107,"column":2},"end":{"line":107,"column":53}}}]},{"type":"IfStatement","start":4655,"end":4699,"loc":{"start":{"line":118,"column":2},"end":{"line":120,"column":3}},"test":{"type":"LogicalExpression","start":4659,"end":4680,"loc":{"start":{"line":118,"column":6},"end":{"line":118,"column":27}},"left":{"type":"UnaryExpression","start":4659,"end":4666,"loc":{"start":{"line":118,"column":6},"end":{"line":118,"column":13}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":4660,"end":4666,"loc":{"start":{"line":118,"column":7},"end":{"line":118,"column":13},"identifierName":"maxact"},"name":"maxact"},"extra":{"parenthesizedArgument":false}},"operator":"||","right":{"type":"UnaryExpression","start":4670,"end":4680,"loc":{"start":{"line":118,"column":17},"end":{"line":118,"column":27}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":4671,"end":4680,"loc":{"start":{"line":118,"column":18},"end":{"line":118,"column":27},"identifierName":"lambdaact"},"name":"lambdaact"},"extra":{"parenthesizedArgument":false}}},"consequent":{"type":"BlockStatement","start":4682,"end":4699,"loc":{"start":{"line":118,"column":29},"end":{"line":120,"column":3}},"body":[{"type":"ReturnStatement","start":4687,"end":4695,"loc":{"start":{"line":119,"column":3},"end":{"line":119,"column":11}},"argument":{"type":"NumericLiteral","start":4694,"end":4695,"loc":{"start":{"line":119,"column":10},"end":{"line":119,"column":11}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"directives":[],"trailingComments":null},"alternate":null,"trailingComments":[{"type":"CommentLine","value":" compute the Hamiltonian. The activityAt method is a wrapper for either activityAtArith","start":4703,"end":4792,"loc":{"start":{"line":122,"column":2},"end":{"line":122,"column":91}}},{"type":"CommentLine","value":" or activityAtGeom, depending on conf (see constructor).\t","start":4795,"end":4854,"loc":{"start":{"line":123,"column":2},"end":{"line":123,"column":61}}}]},{"type":"ExpressionStatement","start":4857,"end":4941,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":86}},"expression":{"type":"AssignmentExpression","start":4857,"end":4941,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":86}},"operator":"+=","left":{"type":"Identifier","start":4857,"end":4863,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":8},"identifierName":"deltaH"},"name":"deltaH","leadingComments":null},"right":{"type":"BinaryExpression","start":4867,"end":4941,"loc":{"start":{"line":124,"column":12},"end":{"line":124,"column":86}},"left":{"type":"BinaryExpression","start":4867,"end":4934,"loc":{"start":{"line":124,"column":12},"end":{"line":124,"column":79}},"left":{"type":"Identifier","start":4867,"end":4876,"loc":{"start":{"line":124,"column":12},"end":{"line":124,"column":21},"identifierName":"lambdaact"},"name":"lambdaact"},"operator":"*","right":{"type":"BinaryExpression","start":4878,"end":4933,"loc":{"start":{"line":124,"column":23},"end":{"line":124,"column":78}},"left":{"type":"CallExpression","start":4878,"end":4904,"loc":{"start":{"line":124,"column":23},"end":{"line":124,"column":49}},"callee":{"type":"MemberExpression","start":4878,"end":4893,"loc":{"start":{"line":124,"column":23},"end":{"line":124,"column":38}},"object":{"type":"ThisExpression","start":4878,"end":4882,"loc":{"start":{"line":124,"column":23},"end":{"line":124,"column":27}}},"property":{"type":"Identifier","start":4883,"end":4893,"loc":{"start":{"line":124,"column":28},"end":{"line":124,"column":38},"identifierName":"activityAt"},"name":"activityAt"},"computed":false},"arguments":[{"type":"Identifier","start":4895,"end":4902,"loc":{"start":{"line":124,"column":40},"end":{"line":124,"column":47},"identifierName":"targeti"},"name":"targeti"}]},"operator":"-","right":{"type":"CallExpression","start":4907,"end":4933,"loc":{"start":{"line":124,"column":52},"end":{"line":124,"column":78}},"callee":{"type":"MemberExpression","start":4907,"end":4922,"loc":{"start":{"line":124,"column":52},"end":{"line":124,"column":67}},"object":{"type":"ThisExpression","start":4907,"end":4911,"loc":{"start":{"line":124,"column":52},"end":{"line":124,"column":56}}},"property":{"type":"Identifier","start":4912,"end":4922,"loc":{"start":{"line":124,"column":57},"end":{"line":124,"column":67},"identifierName":"activityAt"},"name":"activityAt"},"computed":false},"arguments":[{"type":"Identifier","start":4924,"end":4931,"loc":{"start":{"line":124,"column":69},"end":{"line":124,"column":76},"identifierName":"sourcei"},"name":"sourcei"}]},"extra":{"parenthesized":true,"parenStart":4877}}},"operator":"/","right":{"type":"Identifier","start":4935,"end":4941,"loc":{"start":{"line":124,"column":80},"end":{"line":124,"column":86},"identifierName":"maxact"},"name":"maxact"}},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" compute the Hamiltonian. The activityAt method is a wrapper for either activityAtArith","start":4703,"end":4792,"loc":{"start":{"line":122,"column":2},"end":{"line":122,"column":91}}},{"type":"CommentLine","value":" or activityAtGeom, depending on conf (see constructor).\t","start":4795,"end":4854,"loc":{"start":{"line":123,"column":2},"end":{"line":123,"column":61}}}]},{"type":"ReturnStatement","start":4944,"end":4957,"loc":{"start":{"line":125,"column":2},"end":{"line":125,"column":15}},"argument":{"type":"Identifier","start":4951,"end":4957,"loc":{"start":{"line":125,"column":9},"end":{"line":125,"column":15},"identifierName":"deltaH"},"name":"deltaH"}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":" ======= ACT MODEL ======= ","start":3222,"end":3253,"loc":{"start":{"line":88,"column":1},"end":{"line":88,"column":32}}},{"type":"CommentBlock","value":" Act model : compute local activity values within cell around pixel i.\n\t * Depending on settings in conf, this is an arithmetic (activityAtArith)\n\t * or geometric (activityAtGeom) mean of the activities of the neighbors\n\t * of pixel i.\n\t ","start":3256,"end":3498,"loc":{"start":{"line":90,"column":1},"end":{"line":94,"column":4}}},{"type":"CommentBlock","value":"* Method to compute the Hamiltonian for this constraint. \n\t @param {IndexCoordinate} sourcei - coordinate of the source pixel that tries to copy.\n\t @param {IndexCoordinate} targeti - coordinate of the target pixel the source is trying\n\t to copy into.\n\t @param {CellId} src_type - cellid of the source pixel.\n\t @param {CellId} tgt_type - cellid of the target pixel. \n\t @return {number} the change in Hamiltonian for this copy attempt and this constraint.","start":3500,"end":3957,"loc":{"start":{"line":95,"column":1},"end":{"line":101,"column":89}}}],"trailingComments":[{"type":"CommentBlock","value":"* Activity mean computation methods for arithmetic mean. It computes the mean activity\n\t\tof a pixel and all its neighbors belonging to the same cell.\n\t\t\n\t\tThis method is generally called indirectly via {@link activityAt}, which is set\n\t\tbased on the value of ACT_MEAN in the configuration object given to the constructor.\n\t\t\n\t\t@param {IndexCoordinate} i - pixel to evaluate local activity at.\n\t\t@return {number} the arithmetic mean of activities in this part of the cell.\n\t\t@private\n\t","start":4963,"end":5451,"loc":{"start":{"line":128,"column":1},"end":{"line":137,"column":3}}}]},{"type":"ClassMethod","start":5453,"end":6068,"loc":{"start":{"line":138,"column":1},"end":{"line":164,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":5453,"end":5468,"loc":{"start":{"line":138,"column":1},"end":{"line":138,"column":16},"identifierName":"activityAtArith"},"name":"activityAtArith","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":5470,"end":5471,"loc":{"start":{"line":138,"column":18},"end":{"line":138,"column":19},"identifierName":"i"},"name":"i"}],"body":{"type":"BlockStatement","start":5473,"end":6068,"loc":{"start":{"line":138,"column":21},"end":{"line":164,"column":2}},"body":[{"type":"VariableDeclaration","start":5477,"end":5504,"loc":{"start":{"line":139,"column":2},"end":{"line":139,"column":29}},"declarations":[{"type":"VariableDeclarator","start":5483,"end":5504,"loc":{"start":{"line":139,"column":8},"end":{"line":139,"column":29}},"id":{"type":"Identifier","start":5483,"end":5484,"loc":{"start":{"line":139,"column":8},"end":{"line":139,"column":9},"identifierName":"t"},"name":"t"},"init":{"type":"CallExpression","start":5487,"end":5504,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":29}},"callee":{"type":"MemberExpression","start":5487,"end":5499,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":24}},"object":{"type":"MemberExpression","start":5487,"end":5493,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":18}},"object":{"type":"ThisExpression","start":5487,"end":5491,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":16}}},"property":{"type":"Identifier","start":5492,"end":5493,"loc":{"start":{"line":139,"column":17},"end":{"line":139,"column":18},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":5494,"end":5499,"loc":{"start":{"line":139,"column":19},"end":{"line":139,"column":24},"identifierName":"pixti"},"name":"pixti"},"computed":false},"arguments":[{"type":"Identifier","start":5501,"end":5502,"loc":{"start":{"line":139,"column":26},"end":{"line":139,"column":27},"identifierName":"i"},"name":"i"}],"trailingComments":null},"trailingComments":null}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" no activity for background/stroma","start":5510,"end":5546,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":38}}}]},{"type":"IfStatement","start":5549,"end":5573,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":26}},"test":{"type":"BinaryExpression","start":5553,"end":5559,"loc":{"start":{"line":142,"column":6},"end":{"line":142,"column":12}},"left":{"type":"Identifier","start":5553,"end":5554,"loc":{"start":{"line":142,"column":6},"end":{"line":142,"column":7},"identifierName":"t"},"name":"t","leadingComments":null},"operator":"<=","right":{"type":"NumericLiteral","start":5558,"end":5559,"loc":{"start":{"line":142,"column":11},"end":{"line":142,"column":12}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null},"consequent":{"type":"BlockStatement","start":5561,"end":5573,"loc":{"start":{"line":142,"column":14},"end":{"line":142,"column":26}},"body":[{"type":"ReturnStatement","start":5563,"end":5571,"loc":{"start":{"line":142,"column":16},"end":{"line":142,"column":24}},"argument":{"type":"NumericLiteral","start":5570,"end":5571,"loc":{"start":{"line":142,"column":23},"end":{"line":142,"column":24}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"directives":[],"trailingComments":null},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" no activity for background/stroma","start":5510,"end":5546,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":38}}}],"trailingComments":[{"type":"CommentLine","value":" neighborhood pixels","start":5579,"end":5601,"loc":{"start":{"line":144,"column":2},"end":{"line":144,"column":24}}}]},{"type":"VariableDeclaration","start":5604,"end":5630,"loc":{"start":{"line":145,"column":2},"end":{"line":145,"column":28}},"declarations":[{"type":"VariableDeclarator","start":5610,"end":5630,"loc":{"start":{"line":145,"column":8},"end":{"line":145,"column":28}},"id":{"type":"Identifier","start":5610,"end":5611,"loc":{"start":{"line":145,"column":8},"end":{"line":145,"column":9},"identifierName":"N"},"name":"N","leadingComments":null},"init":{"type":"CallExpression","start":5614,"end":5630,"loc":{"start":{"line":145,"column":12},"end":{"line":145,"column":28}},"callee":{"type":"MemberExpression","start":5614,"end":5627,"loc":{"start":{"line":145,"column":12},"end":{"line":145,"column":25}},"object":{"type":"MemberExpression","start":5614,"end":5620,"loc":{"start":{"line":145,"column":12},"end":{"line":145,"column":18}},"object":{"type":"ThisExpression","start":5614,"end":5618,"loc":{"start":{"line":145,"column":12},"end":{"line":145,"column":16}}},"property":{"type":"Identifier","start":5619,"end":5620,"loc":{"start":{"line":145,"column":17},"end":{"line":145,"column":18},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":5621,"end":5627,"loc":{"start":{"line":145,"column":19},"end":{"line":145,"column":25},"identifierName":"neighi"},"name":"neighi"},"computed":false},"arguments":[{"type":"Identifier","start":5628,"end":5629,"loc":{"start":{"line":145,"column":26},"end":{"line":145,"column":27},"identifierName":"i"},"name":"i"}],"trailingComments":null},"leadingComments":null,"trailingComments":null}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" neighborhood pixels","start":5579,"end":5601,"loc":{"start":{"line":144,"column":2},"end":{"line":144,"column":24}}}],"trailingComments":[{"type":"CommentLine","value":" r activity summed, nN number of neighbors","start":5636,"end":5680,"loc":{"start":{"line":147,"column":2},"end":{"line":147,"column":46}}},{"type":"CommentLine","value":" we start with the current pixel. ","start":5683,"end":5719,"loc":{"start":{"line":148,"column":2},"end":{"line":148,"column":38}}}]},{"type":"VariableDeclaration","start":5722,"end":5751,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":31}},"declarations":[{"type":"VariableDeclarator","start":5726,"end":5743,"loc":{"start":{"line":149,"column":6},"end":{"line":149,"column":23}},"id":{"type":"Identifier","start":5726,"end":5727,"loc":{"start":{"line":149,"column":6},"end":{"line":149,"column":7},"identifierName":"r"},"name":"r","leadingComments":null},"init":{"type":"CallExpression","start":5730,"end":5743,"loc":{"start":{"line":149,"column":10},"end":{"line":149,"column":23}},"callee":{"type":"MemberExpression","start":5730,"end":5740,"loc":{"start":{"line":149,"column":10},"end":{"line":149,"column":20}},"object":{"type":"ThisExpression","start":5730,"end":5734,"loc":{"start":{"line":149,"column":10},"end":{"line":149,"column":14}}},"property":{"type":"Identifier","start":5735,"end":5740,"loc":{"start":{"line":149,"column":15},"end":{"line":149,"column":20},"identifierName":"pxact"},"name":"pxact"},"computed":false},"arguments":[{"type":"Identifier","start":5741,"end":5742,"loc":{"start":{"line":149,"column":21},"end":{"line":149,"column":22},"identifierName":"i"},"name":"i"}]},"leadingComments":null},{"type":"VariableDeclarator","start":5745,"end":5751,"loc":{"start":{"line":149,"column":25},"end":{"line":149,"column":31}},"id":{"type":"Identifier","start":5745,"end":5747,"loc":{"start":{"line":149,"column":25},"end":{"line":149,"column":27},"identifierName":"nN"},"name":"nN"},"init":{"type":"NumericLiteral","start":5750,"end":5751,"loc":{"start":{"line":149,"column":30},"end":{"line":149,"column":31}},"extra":{"rawValue":1,"raw":"1"},"value":1,"leadingComments":null,"trailingComments":null},"trailingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" r activity summed, nN number of neighbors","start":5636,"end":5680,"loc":{"start":{"line":147,"column":2},"end":{"line":147,"column":46}}},{"type":"CommentLine","value":" we start with the current pixel. ","start":5683,"end":5719,"loc":{"start":{"line":148,"column":2},"end":{"line":148,"column":38}}}],"trailingComments":[{"type":"CommentLine","value":" loop over neighbor pixels","start":5757,"end":5785,"loc":{"start":{"line":151,"column":2},"end":{"line":151,"column":30}}}]},{"type":"ForStatement","start":5788,"end":5999,"loc":{"start":{"line":152,"column":2},"end":{"line":160,"column":3}},"init":{"type":"VariableDeclaration","start":5793,"end":5802,"loc":{"start":{"line":152,"column":7},"end":{"line":152,"column":16}},"declarations":[{"type":"VariableDeclarator","start":5797,"end":5802,"loc":{"start":{"line":152,"column":11},"end":{"line":152,"column":16}},"id":{"type":"Identifier","start":5797,"end":5798,"loc":{"start":{"line":152,"column":11},"end":{"line":152,"column":12},"identifierName":"j"},"name":"j","leadingComments":null},"init":{"type":"NumericLiteral","start":5801,"end":5802,"loc":{"start":{"line":152,"column":15},"end":{"line":152,"column":16}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null}],"kind":"let","leadingComments":null},"test":{"type":"BinaryExpression","start":5805,"end":5817,"loc":{"start":{"line":152,"column":19},"end":{"line":152,"column":31}},"left":{"type":"Identifier","start":5805,"end":5806,"loc":{"start":{"line":152,"column":19},"end":{"line":152,"column":20},"identifierName":"j"},"name":"j"},"operator":"<","right":{"type":"MemberExpression","start":5809,"end":5817,"loc":{"start":{"line":152,"column":23},"end":{"line":152,"column":31}},"object":{"type":"Identifier","start":5809,"end":5810,"loc":{"start":{"line":152,"column":23},"end":{"line":152,"column":24},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":5811,"end":5817,"loc":{"start":{"line":152,"column":25},"end":{"line":152,"column":31},"identifierName":"length"},"name":"length"},"computed":false}},"update":{"type":"UpdateExpression","start":5820,"end":5824,"loc":{"start":{"line":152,"column":34},"end":{"line":152,"column":38}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":5820,"end":5821,"loc":{"start":{"line":152,"column":34},"end":{"line":152,"column":35},"identifierName":"j"},"name":"j"}},"body":{"type":"BlockStatement","start":5826,"end":5999,"loc":{"start":{"line":152,"column":40},"end":{"line":160,"column":3}},"body":[{"type":"VariableDeclaration","start":5832,"end":5863,"loc":{"start":{"line":153,"column":3},"end":{"line":153,"column":34}},"declarations":[{"type":"VariableDeclarator","start":5838,"end":5863,"loc":{"start":{"line":153,"column":9},"end":{"line":153,"column":34}},"id":{"type":"Identifier","start":5838,"end":5840,"loc":{"start":{"line":153,"column":9},"end":{"line":153,"column":11},"identifierName":"tn"},"name":"tn"},"init":{"type":"CallExpression","start":5843,"end":5863,"loc":{"start":{"line":153,"column":14},"end":{"line":153,"column":34}},"callee":{"type":"MemberExpression","start":5843,"end":5855,"loc":{"start":{"line":153,"column":14},"end":{"line":153,"column":26}},"object":{"type":"MemberExpression","start":5843,"end":5849,"loc":{"start":{"line":153,"column":14},"end":{"line":153,"column":20}},"object":{"type":"ThisExpression","start":5843,"end":5847,"loc":{"start":{"line":153,"column":14},"end":{"line":153,"column":18}}},"property":{"type":"Identifier","start":5848,"end":5849,"loc":{"start":{"line":153,"column":19},"end":{"line":153,"column":20},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":5850,"end":5855,"loc":{"start":{"line":153,"column":21},"end":{"line":153,"column":26},"identifierName":"pixti"},"name":"pixti"},"computed":false},"arguments":[{"type":"MemberExpression","start":5857,"end":5861,"loc":{"start":{"line":153,"column":28},"end":{"line":153,"column":32}},"object":{"type":"Identifier","start":5857,"end":5858,"loc":{"start":{"line":153,"column":28},"end":{"line":153,"column":29},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":5859,"end":5860,"loc":{"start":{"line":153,"column":30},"end":{"line":153,"column":31},"identifierName":"j"},"name":"j"},"computed":true}],"trailingComments":null},"trailingComments":null}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" a neighbor only contributes if it belongs to the same cell","start":5872,"end":5933,"loc":{"start":{"line":155,"column":3},"end":{"line":155,"column":64}}}]},{"type":"IfStatement","start":5937,"end":5995,"loc":{"start":{"line":156,"column":3},"end":{"line":159,"column":4}},"test":{"type":"BinaryExpression","start":5941,"end":5948,"loc":{"start":{"line":156,"column":7},"end":{"line":156,"column":14}},"left":{"type":"Identifier","start":5941,"end":5943,"loc":{"start":{"line":156,"column":7},"end":{"line":156,"column":9},"identifierName":"tn"},"name":"tn","leadingComments":null},"operator":"==","right":{"type":"Identifier","start":5947,"end":5948,"loc":{"start":{"line":156,"column":13},"end":{"line":156,"column":14},"identifierName":"t"},"name":"t"},"leadingComments":null},"consequent":{"type":"BlockStatement","start":5950,"end":5995,"loc":{"start":{"line":156,"column":16},"end":{"line":159,"column":4}},"body":[{"type":"ExpressionStatement","start":5956,"end":5979,"loc":{"start":{"line":157,"column":4},"end":{"line":157,"column":27}},"expression":{"type":"AssignmentExpression","start":5956,"end":5979,"loc":{"start":{"line":157,"column":4},"end":{"line":157,"column":27}},"operator":"+=","left":{"type":"Identifier","start":5956,"end":5957,"loc":{"start":{"line":157,"column":4},"end":{"line":157,"column":5},"identifierName":"r"},"name":"r"},"right":{"type":"CallExpression","start":5961,"end":5979,"loc":{"start":{"line":157,"column":9},"end":{"line":157,"column":27}},"callee":{"type":"MemberExpression","start":5961,"end":5971,"loc":{"start":{"line":157,"column":9},"end":{"line":157,"column":19}},"object":{"type":"ThisExpression","start":5961,"end":5965,"loc":{"start":{"line":157,"column":9},"end":{"line":157,"column":13}}},"property":{"type":"Identifier","start":5966,"end":5971,"loc":{"start":{"line":157,"column":14},"end":{"line":157,"column":19},"identifierName":"pxact"},"name":"pxact"},"computed":false},"arguments":[{"type":"MemberExpression","start":5973,"end":5977,"loc":{"start":{"line":157,"column":21},"end":{"line":157,"column":25}},"object":{"type":"Identifier","start":5973,"end":5974,"loc":{"start":{"line":157,"column":21},"end":{"line":157,"column":22},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":5975,"end":5976,"loc":{"start":{"line":157,"column":23},"end":{"line":157,"column":24},"identifierName":"j"},"name":"j"},"computed":true}]}}},{"type":"ExpressionStatement","start":5984,"end":5989,"loc":{"start":{"line":158,"column":4},"end":{"line":158,"column":9}},"expression":{"type":"UpdateExpression","start":5984,"end":5989,"loc":{"start":{"line":158,"column":4},"end":{"line":158,"column":9}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":5984,"end":5986,"loc":{"start":{"line":158,"column":4},"end":{"line":158,"column":6},"identifierName":"nN"},"name":"nN"}}}],"directives":[]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" a neighbor only contributes if it belongs to the same cell","start":5872,"end":5933,"loc":{"start":{"line":155,"column":3},"end":{"line":155,"column":64}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentLine","value":" loop over neighbor pixels","start":5757,"end":5785,"loc":{"start":{"line":151,"column":2},"end":{"line":151,"column":30}}}],"trailingComments":[{"type":"CommentLine","value":" average is summed r divided by num neighbors.","start":6003,"end":6051,"loc":{"start":{"line":162,"column":2},"end":{"line":162,"column":50}}}]},{"type":"ReturnStatement","start":6054,"end":6065,"loc":{"start":{"line":163,"column":2},"end":{"line":163,"column":13}},"argument":{"type":"BinaryExpression","start":6061,"end":6065,"loc":{"start":{"line":163,"column":9},"end":{"line":163,"column":13}},"left":{"type":"Identifier","start":6061,"end":6062,"loc":{"start":{"line":163,"column":9},"end":{"line":163,"column":10},"identifierName":"r"},"name":"r","leadingComments":null},"operator":"/","right":{"type":"Identifier","start":6063,"end":6065,"loc":{"start":{"line":163,"column":11},"end":{"line":163,"column":13},"identifierName":"nN"},"name":"nN"},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" average is summed r divided by num neighbors.","start":6003,"end":6051,"loc":{"start":{"line":162,"column":2},"end":{"line":162,"column":50}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* Activity mean computation methods for arithmetic mean. It computes the mean activity\n\t\tof a pixel and all its neighbors belonging to the same cell.\n\t\t\n\t\tThis method is generally called indirectly via {@link activityAt}, which is set\n\t\tbased on the value of ACT_MEAN in the configuration object given to the constructor.\n\t\t\n\t\t@param {IndexCoordinate} i - pixel to evaluate local activity at.\n\t\t@return {number} the arithmetic mean of activities in this part of the cell.\n\t\t@private\n\t","start":4963,"end":5451,"loc":{"start":{"line":128,"column":1},"end":{"line":137,"column":3}}}],"trailingComments":[{"type":"CommentBlock","value":"* Activity mean computation methods for geometric mean. It computes the mean activity\n\t\tof a pixel and all its neighbors belonging to the same cell.\n\t\t\n\t\tThis method is generally called indirectly via {@link activityAt}, which is set\n\t\tbased on the value of ACT_MEAN in the configuration object given to the constructor.\n\t\t\n\t\t@param {IndexCoordinate} i - pixel to evaluate local activity at.\n\t\t@return {number} the geometric mean of activities in this part of the cell.\n\t\t@private\n\t","start":6070,"end":6556,"loc":{"start":{"line":165,"column":1},"end":{"line":174,"column":3}}}]},{"type":"ClassMethod","start":6558,"end":7310,"loc":{"start":{"line":175,"column":1},"end":{"line":204,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":6558,"end":6572,"loc":{"start":{"line":175,"column":1},"end":{"line":175,"column":15},"identifierName":"activityAtGeom"},"name":"activityAtGeom","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":6575,"end":6576,"loc":{"start":{"line":175,"column":18},"end":{"line":175,"column":19},"identifierName":"i"},"name":"i"}],"body":{"type":"BlockStatement","start":6578,"end":7310,"loc":{"start":{"line":175,"column":21},"end":{"line":204,"column":2}},"body":[{"type":"VariableDeclaration","start":6582,"end":6609,"loc":{"start":{"line":176,"column":2},"end":{"line":176,"column":29}},"declarations":[{"type":"VariableDeclarator","start":6588,"end":6609,"loc":{"start":{"line":176,"column":8},"end":{"line":176,"column":29}},"id":{"type":"Identifier","start":6588,"end":6589,"loc":{"start":{"line":176,"column":8},"end":{"line":176,"column":9},"identifierName":"t"},"name":"t"},"init":{"type":"CallExpression","start":6592,"end":6609,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":29}},"callee":{"type":"MemberExpression","start":6592,"end":6604,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":24}},"object":{"type":"MemberExpression","start":6592,"end":6598,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":18}},"object":{"type":"ThisExpression","start":6592,"end":6596,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":16}}},"property":{"type":"Identifier","start":6597,"end":6598,"loc":{"start":{"line":176,"column":17},"end":{"line":176,"column":18},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":6599,"end":6604,"loc":{"start":{"line":176,"column":19},"end":{"line":176,"column":24},"identifierName":"pixti"},"name":"pixti"},"computed":false},"arguments":[{"type":"Identifier","start":6606,"end":6607,"loc":{"start":{"line":176,"column":26},"end":{"line":176,"column":27},"identifierName":"i"},"name":"i"}],"trailingComments":null},"trailingComments":null}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" no activity for background/stroma","start":6613,"end":6649,"loc":{"start":{"line":178,"column":2},"end":{"line":178,"column":38}}}]},{"type":"IfStatement","start":6652,"end":6676,"loc":{"start":{"line":179,"column":2},"end":{"line":179,"column":26}},"test":{"type":"BinaryExpression","start":6656,"end":6662,"loc":{"start":{"line":179,"column":6},"end":{"line":179,"column":12}},"left":{"type":"Identifier","start":6656,"end":6657,"loc":{"start":{"line":179,"column":6},"end":{"line":179,"column":7},"identifierName":"t"},"name":"t","leadingComments":null},"operator":"<=","right":{"type":"NumericLiteral","start":6661,"end":6662,"loc":{"start":{"line":179,"column":11},"end":{"line":179,"column":12}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null},"consequent":{"type":"BlockStatement","start":6664,"end":6676,"loc":{"start":{"line":179,"column":14},"end":{"line":179,"column":26}},"body":[{"type":"ReturnStatement","start":6666,"end":6674,"loc":{"start":{"line":179,"column":16},"end":{"line":179,"column":24}},"argument":{"type":"NumericLiteral","start":6673,"end":6674,"loc":{"start":{"line":179,"column":23},"end":{"line":179,"column":24}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"directives":[],"trailingComments":null},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" no activity for background/stroma","start":6613,"end":6649,"loc":{"start":{"line":178,"column":2},"end":{"line":178,"column":38}}}],"trailingComments":[{"type":"CommentLine","value":"neighborhood pixels","start":6682,"end":6703,"loc":{"start":{"line":181,"column":2},"end":{"line":181,"column":23}}}]},{"type":"VariableDeclaration","start":6706,"end":6734,"loc":{"start":{"line":182,"column":2},"end":{"line":182,"column":30}},"declarations":[{"type":"VariableDeclarator","start":6712,"end":6734,"loc":{"start":{"line":182,"column":8},"end":{"line":182,"column":30}},"id":{"type":"Identifier","start":6712,"end":6713,"loc":{"start":{"line":182,"column":8},"end":{"line":182,"column":9},"identifierName":"N"},"name":"N","leadingComments":null},"init":{"type":"CallExpression","start":6716,"end":6734,"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":30}},"callee":{"type":"MemberExpression","start":6716,"end":6729,"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":25}},"object":{"type":"MemberExpression","start":6716,"end":6722,"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":18}},"object":{"type":"ThisExpression","start":6716,"end":6720,"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":16}}},"property":{"type":"Identifier","start":6721,"end":6722,"loc":{"start":{"line":182,"column":17},"end":{"line":182,"column":18},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":6723,"end":6729,"loc":{"start":{"line":182,"column":19},"end":{"line":182,"column":25},"identifierName":"neighi"},"name":"neighi"},"computed":false},"arguments":[{"type":"Identifier","start":6731,"end":6732,"loc":{"start":{"line":182,"column":27},"end":{"line":182,"column":28},"identifierName":"i"},"name":"i"}],"trailingComments":null},"leadingComments":null,"trailingComments":null}],"kind":"const","leadingComments":[{"type":"CommentLine","value":"neighborhood pixels","start":6682,"end":6703,"loc":{"start":{"line":181,"column":2},"end":{"line":181,"column":23}}}],"trailingComments":[{"type":"CommentLine","value":" r activity product, nN number of neighbors.","start":6740,"end":6786,"loc":{"start":{"line":184,"column":2},"end":{"line":184,"column":48}}},{"type":"CommentLine","value":" we start with the current pixel.","start":6789,"end":6824,"loc":{"start":{"line":185,"column":2},"end":{"line":185,"column":37}}}]},{"type":"VariableDeclaration","start":6827,"end":6858,"loc":{"start":{"line":186,"column":2},"end":{"line":186,"column":33}},"declarations":[{"type":"VariableDeclarator","start":6831,"end":6837,"loc":{"start":{"line":186,"column":6},"end":{"line":186,"column":12}},"id":{"type":"Identifier","start":6831,"end":6833,"loc":{"start":{"line":186,"column":6},"end":{"line":186,"column":8},"identifierName":"nN"},"name":"nN","leadingComments":null},"init":{"type":"NumericLiteral","start":6836,"end":6837,"loc":{"start":{"line":186,"column":11},"end":{"line":186,"column":12}},"extra":{"rawValue":1,"raw":"1"},"value":1},"leadingComments":null},{"type":"VariableDeclarator","start":6839,"end":6858,"loc":{"start":{"line":186,"column":14},"end":{"line":186,"column":33}},"id":{"type":"Identifier","start":6839,"end":6840,"loc":{"start":{"line":186,"column":14},"end":{"line":186,"column":15},"identifierName":"r"},"name":"r"},"init":{"type":"CallExpression","start":6843,"end":6858,"loc":{"start":{"line":186,"column":18},"end":{"line":186,"column":33}},"callee":{"type":"MemberExpression","start":6843,"end":6853,"loc":{"start":{"line":186,"column":18},"end":{"line":186,"column":28}},"object":{"type":"ThisExpression","start":6843,"end":6847,"loc":{"start":{"line":186,"column":18},"end":{"line":186,"column":22}}},"property":{"type":"Identifier","start":6848,"end":6853,"loc":{"start":{"line":186,"column":23},"end":{"line":186,"column":28},"identifierName":"pxact"},"name":"pxact"},"computed":false},"arguments":[{"type":"Identifier","start":6855,"end":6856,"loc":{"start":{"line":186,"column":30},"end":{"line":186,"column":31},"identifierName":"i"},"name":"i"}],"trailingComments":null},"trailingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" r activity product, nN number of neighbors.","start":6740,"end":6786,"loc":{"start":{"line":184,"column":2},"end":{"line":184,"column":48}}},{"type":"CommentLine","value":" we start with the current pixel.","start":6789,"end":6824,"loc":{"start":{"line":185,"column":2},"end":{"line":185,"column":37}}}],"trailingComments":[{"type":"CommentLine","value":" loop over neighbor pixels","start":6862,"end":6890,"loc":{"start":{"line":188,"column":2},"end":{"line":188,"column":30}}}]},{"type":"ForStatement","start":6893,"end":7244,"loc":{"start":{"line":189,"column":2},"end":{"line":200,"column":3}},"init":{"type":"VariableDeclaration","start":6898,"end":6907,"loc":{"start":{"line":189,"column":7},"end":{"line":189,"column":16}},"declarations":[{"type":"VariableDeclarator","start":6902,"end":6907,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":16}},"id":{"type":"Identifier","start":6902,"end":6903,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":12},"identifierName":"j"},"name":"j","leadingComments":null},"init":{"type":"NumericLiteral","start":6906,"end":6907,"loc":{"start":{"line":189,"column":15},"end":{"line":189,"column":16}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null}],"kind":"let","leadingComments":null},"test":{"type":"BinaryExpression","start":6910,"end":6922,"loc":{"start":{"line":189,"column":19},"end":{"line":189,"column":31}},"left":{"type":"Identifier","start":6910,"end":6911,"loc":{"start":{"line":189,"column":19},"end":{"line":189,"column":20},"identifierName":"j"},"name":"j"},"operator":"<","right":{"type":"MemberExpression","start":6914,"end":6922,"loc":{"start":{"line":189,"column":23},"end":{"line":189,"column":31}},"object":{"type":"Identifier","start":6914,"end":6915,"loc":{"start":{"line":189,"column":23},"end":{"line":189,"column":24},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":6916,"end":6922,"loc":{"start":{"line":189,"column":25},"end":{"line":189,"column":31},"identifierName":"length"},"name":"length"},"computed":false}},"update":{"type":"UpdateExpression","start":6925,"end":6929,"loc":{"start":{"line":189,"column":34},"end":{"line":189,"column":38}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":6925,"end":6926,"loc":{"start":{"line":189,"column":34},"end":{"line":189,"column":35},"identifierName":"j"},"name":"j"}},"body":{"type":"BlockStatement","start":6931,"end":7244,"loc":{"start":{"line":189,"column":40},"end":{"line":200,"column":3}},"body":[{"type":"VariableDeclaration","start":6937,"end":6968,"loc":{"start":{"line":190,"column":3},"end":{"line":190,"column":34}},"declarations":[{"type":"VariableDeclarator","start":6943,"end":6968,"loc":{"start":{"line":190,"column":9},"end":{"line":190,"column":34}},"id":{"type":"Identifier","start":6943,"end":6945,"loc":{"start":{"line":190,"column":9},"end":{"line":190,"column":11},"identifierName":"tn"},"name":"tn"},"init":{"type":"CallExpression","start":6948,"end":6968,"loc":{"start":{"line":190,"column":14},"end":{"line":190,"column":34}},"callee":{"type":"MemberExpression","start":6948,"end":6960,"loc":{"start":{"line":190,"column":14},"end":{"line":190,"column":26}},"object":{"type":"MemberExpression","start":6948,"end":6954,"loc":{"start":{"line":190,"column":14},"end":{"line":190,"column":20}},"object":{"type":"ThisExpression","start":6948,"end":6952,"loc":{"start":{"line":190,"column":14},"end":{"line":190,"column":18}}},"property":{"type":"Identifier","start":6953,"end":6954,"loc":{"start":{"line":190,"column":19},"end":{"line":190,"column":20},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":6955,"end":6960,"loc":{"start":{"line":190,"column":21},"end":{"line":190,"column":26},"identifierName":"pixti"},"name":"pixti"},"computed":false},"arguments":[{"type":"MemberExpression","start":6962,"end":6966,"loc":{"start":{"line":190,"column":28},"end":{"line":190,"column":32}},"object":{"type":"Identifier","start":6962,"end":6963,"loc":{"start":{"line":190,"column":28},"end":{"line":190,"column":29},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":6964,"end":6965,"loc":{"start":{"line":190,"column":30},"end":{"line":190,"column":31},"identifierName":"j"},"name":"j"},"computed":true}],"trailingComments":null},"trailingComments":null}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" a neighbor only contributes if it belongs to the same cell.","start":6974,"end":7036,"loc":{"start":{"line":192,"column":3},"end":{"line":192,"column":65}}},{"type":"CommentLine","value":" if it does and has activity 0, the product will also be zero so","start":7040,"end":7106,"loc":{"start":{"line":193,"column":3},"end":{"line":193,"column":69}}},{"type":"CommentLine","value":" we can already return.","start":7110,"end":7135,"loc":{"start":{"line":194,"column":3},"end":{"line":194,"column":28}}}]},{"type":"IfStatement","start":7139,"end":7240,"loc":{"start":{"line":195,"column":3},"end":{"line":199,"column":4}},"test":{"type":"BinaryExpression","start":7143,"end":7150,"loc":{"start":{"line":195,"column":7},"end":{"line":195,"column":14}},"left":{"type":"Identifier","start":7143,"end":7145,"loc":{"start":{"line":195,"column":7},"end":{"line":195,"column":9},"identifierName":"tn"},"name":"tn","leadingComments":null},"operator":"==","right":{"type":"Identifier","start":7149,"end":7150,"loc":{"start":{"line":195,"column":13},"end":{"line":195,"column":14},"identifierName":"t"},"name":"t"},"leadingComments":null},"consequent":{"type":"BlockStatement","start":7152,"end":7240,"loc":{"start":{"line":195,"column":16},"end":{"line":199,"column":4}},"body":[{"type":"IfStatement","start":7158,"end":7196,"loc":{"start":{"line":196,"column":4},"end":{"line":196,"column":42}},"test":{"type":"BinaryExpression","start":7162,"end":7185,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":31}},"left":{"type":"CallExpression","start":7162,"end":7180,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":26}},"callee":{"type":"MemberExpression","start":7162,"end":7172,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":18}},"object":{"type":"ThisExpression","start":7162,"end":7166,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":12}}},"property":{"type":"Identifier","start":7167,"end":7172,"loc":{"start":{"line":196,"column":13},"end":{"line":196,"column":18},"identifierName":"pxact"},"name":"pxact"},"computed":false},"arguments":[{"type":"MemberExpression","start":7174,"end":7178,"loc":{"start":{"line":196,"column":20},"end":{"line":196,"column":24}},"object":{"type":"Identifier","start":7174,"end":7175,"loc":{"start":{"line":196,"column":20},"end":{"line":196,"column":21},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":7176,"end":7177,"loc":{"start":{"line":196,"column":22},"end":{"line":196,"column":23},"identifierName":"j"},"name":"j"},"computed":true}]},"operator":"==","right":{"type":"NumericLiteral","start":7184,"end":7185,"loc":{"start":{"line":196,"column":30},"end":{"line":196,"column":31}},"extra":{"rawValue":0,"raw":"0"},"value":0}},"consequent":{"type":"ReturnStatement","start":7188,"end":7196,"loc":{"start":{"line":196,"column":34},"end":{"line":196,"column":42}},"argument":{"type":"NumericLiteral","start":7195,"end":7196,"loc":{"start":{"line":196,"column":41},"end":{"line":196,"column":42}},"extra":{"rawValue":0,"raw":"0"},"value":0}},"alternate":null},{"type":"ExpressionStatement","start":7201,"end":7224,"loc":{"start":{"line":197,"column":4},"end":{"line":197,"column":27}},"expression":{"type":"AssignmentExpression","start":7201,"end":7224,"loc":{"start":{"line":197,"column":4},"end":{"line":197,"column":27}},"operator":"*=","left":{"type":"Identifier","start":7201,"end":7202,"loc":{"start":{"line":197,"column":4},"end":{"line":197,"column":5},"identifierName":"r"},"name":"r"},"right":{"type":"CallExpression","start":7206,"end":7224,"loc":{"start":{"line":197,"column":9},"end":{"line":197,"column":27}},"callee":{"type":"MemberExpression","start":7206,"end":7216,"loc":{"start":{"line":197,"column":9},"end":{"line":197,"column":19}},"object":{"type":"ThisExpression","start":7206,"end":7210,"loc":{"start":{"line":197,"column":9},"end":{"line":197,"column":13}}},"property":{"type":"Identifier","start":7211,"end":7216,"loc":{"start":{"line":197,"column":14},"end":{"line":197,"column":19},"identifierName":"pxact"},"name":"pxact"},"computed":false},"arguments":[{"type":"MemberExpression","start":7218,"end":7222,"loc":{"start":{"line":197,"column":21},"end":{"line":197,"column":25}},"object":{"type":"Identifier","start":7218,"end":7219,"loc":{"start":{"line":197,"column":21},"end":{"line":197,"column":22},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":7220,"end":7221,"loc":{"start":{"line":197,"column":23},"end":{"line":197,"column":24},"identifierName":"j"},"name":"j"},"computed":true}]}}},{"type":"ExpressionStatement","start":7229,"end":7234,"loc":{"start":{"line":198,"column":4},"end":{"line":198,"column":9}},"expression":{"type":"UpdateExpression","start":7229,"end":7234,"loc":{"start":{"line":198,"column":4},"end":{"line":198,"column":9}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":7229,"end":7231,"loc":{"start":{"line":198,"column":4},"end":{"line":198,"column":6},"identifierName":"nN"},"name":"nN"}}}],"directives":[]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" a neighbor only contributes if it belongs to the same cell.","start":6974,"end":7036,"loc":{"start":{"line":192,"column":3},"end":{"line":192,"column":65}}},{"type":"CommentLine","value":" if it does and has activity 0, the product will also be zero so","start":7040,"end":7106,"loc":{"start":{"line":193,"column":3},"end":{"line":193,"column":69}}},{"type":"CommentLine","value":" we can already return.","start":7110,"end":7135,"loc":{"start":{"line":194,"column":3},"end":{"line":194,"column":28}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentLine","value":" loop over neighbor pixels","start":6862,"end":6890,"loc":{"start":{"line":188,"column":2},"end":{"line":188,"column":30}}}],"trailingComments":[{"type":"CommentLine","value":" Geometric mean computation. ","start":7250,"end":7281,"loc":{"start":{"line":202,"column":2},"end":{"line":202,"column":33}}}]},{"type":"ReturnStatement","start":7284,"end":7307,"loc":{"start":{"line":203,"column":2},"end":{"line":203,"column":25}},"argument":{"type":"CallExpression","start":7291,"end":7307,"loc":{"start":{"line":203,"column":9},"end":{"line":203,"column":25}},"callee":{"type":"MemberExpression","start":7291,"end":7299,"loc":{"start":{"line":203,"column":9},"end":{"line":203,"column":17}},"object":{"type":"Identifier","start":7291,"end":7295,"loc":{"start":{"line":203,"column":9},"end":{"line":203,"column":13},"identifierName":"Math"},"name":"Math","leadingComments":null},"property":{"type":"Identifier","start":7296,"end":7299,"loc":{"start":{"line":203,"column":14},"end":{"line":203,"column":17},"identifierName":"pow"},"name":"pow"},"computed":false,"leadingComments":null},"arguments":[{"type":"Identifier","start":7300,"end":7301,"loc":{"start":{"line":203,"column":18},"end":{"line":203,"column":19},"identifierName":"r"},"name":"r"},{"type":"BinaryExpression","start":7302,"end":7306,"loc":{"start":{"line":203,"column":20},"end":{"line":203,"column":24}},"left":{"type":"NumericLiteral","start":7302,"end":7303,"loc":{"start":{"line":203,"column":20},"end":{"line":203,"column":21}},"extra":{"rawValue":1,"raw":"1"},"value":1},"operator":"/","right":{"type":"Identifier","start":7304,"end":7306,"loc":{"start":{"line":203,"column":22},"end":{"line":203,"column":24},"identifierName":"nN"},"name":"nN"}}],"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" Geometric mean computation. ","start":7250,"end":7281,"loc":{"start":{"line":202,"column":2},"end":{"line":202,"column":33}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* Activity mean computation methods for geometric mean. It computes the mean activity\n\t\tof a pixel and all its neighbors belonging to the same cell.\n\t\t\n\t\tThis method is generally called indirectly via {@link activityAt}, which is set\n\t\tbased on the value of ACT_MEAN in the configuration object given to the constructor.\n\t\t\n\t\t@param {IndexCoordinate} i - pixel to evaluate local activity at.\n\t\t@return {number} the geometric mean of activities in this part of the cell.\n\t\t@private\n\t","start":6070,"end":6556,"loc":{"start":{"line":165,"column":1},"end":{"line":174,"column":3}}}],"trailingComments":[{"type":"CommentBlock","value":"* Current activity (under the Act model) of the pixel at position i. \n\t@param {IndexCoordinate} i the position of the pixel to evaluate the activity of.\n\t@return {number} the current activity of this pixel, which is >= 0.","start":7314,"end":7539,"loc":{"start":{"line":207,"column":1},"end":{"line":209,"column":70}}}]},{"type":"ClassMethod","start":7541,"end":7719,"loc":{"start":{"line":210,"column":1},"end":{"line":214,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":7541,"end":7546,"loc":{"start":{"line":210,"column":1},"end":{"line":210,"column":6},"identifierName":"pxact"},"name":"pxact","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":7549,"end":7550,"loc":{"start":{"line":210,"column":9},"end":{"line":210,"column":10},"identifierName":"i"},"name":"i"}],"body":{"type":"BlockStatement","start":7552,"end":7719,"loc":{"start":{"line":210,"column":12},"end":{"line":214,"column":2}},"body":[{"type":"ReturnStatement","start":7683,"end":7716,"loc":{"start":{"line":213,"column":2},"end":{"line":213,"column":35}},"argument":{"type":"LogicalExpression","start":7690,"end":7716,"loc":{"start":{"line":213,"column":9},"end":{"line":213,"column":35}},"left":{"type":"MemberExpression","start":7690,"end":7711,"loc":{"start":{"line":213,"column":9},"end":{"line":213,"column":30}},"object":{"type":"MemberExpression","start":7690,"end":7708,"loc":{"start":{"line":213,"column":9},"end":{"line":213,"column":27}},"object":{"type":"ThisExpression","start":7690,"end":7694,"loc":{"start":{"line":213,"column":9},"end":{"line":213,"column":13}},"leadingComments":null},"property":{"type":"Identifier","start":7695,"end":7708,"loc":{"start":{"line":213,"column":14},"end":{"line":213,"column":27},"identifierName":"cellpixelsact"},"name":"cellpixelsact"},"computed":false,"leadingComments":null},"property":{"type":"Identifier","start":7709,"end":7710,"loc":{"start":{"line":213,"column":28},"end":{"line":213,"column":29},"identifierName":"i"},"name":"i"},"computed":true,"leadingComments":null},"operator":"||","right":{"type":"NumericLiteral","start":7715,"end":7716,"loc":{"start":{"line":213,"column":34},"end":{"line":213,"column":35}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" If the pixel is not in the cellpixelsact object, it has activity 0.","start":7556,"end":7626,"loc":{"start":{"line":211,"column":2},"end":{"line":211,"column":72}}},{"type":"CommentLine","value":" Otherwise, its activity is stored in the object.","start":7629,"end":7680,"loc":{"start":{"line":212,"column":2},"end":{"line":212,"column":53}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* Current activity (under the Act model) of the pixel at position i. \n\t@param {IndexCoordinate} i the position of the pixel to evaluate the activity of.\n\t@return {number} the current activity of this pixel, which is >= 0.","start":7314,"end":7539,"loc":{"start":{"line":207,"column":1},"end":{"line":209,"column":70}}}],"trailingComments":[{"type":"CommentBlock","value":"* The postSetpixListener of the ActivityConstraint ensures that pixels are \n\tgiven their maximal activity when they are freshly added to a CPM.\n\t@listens {CPM#setpixi} because when a new pixel is set (which is determined in the CPM),\n\tits activity must change so that this class knows about the update.\n\t@param {IndexCoordinate} i - the coordinate of the pixel that is changed.\n\t@param {CellId} t_old - the cellid of this pixel before the copy\n\t@param {CellId} t - the cellid of this pixel after the copy.\n\t","start":7723,"end":8234,"loc":{"start":{"line":216,"column":1},"end":{"line":223,"column":3}}},{"type":"CommentBlock","value":" eslint-disable no-unused-vars","start":8236,"end":8270,"loc":{"start":{"line":224,"column":1},"end":{"line":224,"column":35}}}]},{"type":"ClassMethod","start":8272,"end":8439,"loc":{"start":{"line":225,"column":1},"end":{"line":228,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":8272,"end":8290,"loc":{"start":{"line":225,"column":1},"end":{"line":225,"column":19},"identifierName":"postSetpixListener"},"name":"postSetpixListener","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":8292,"end":8293,"loc":{"start":{"line":225,"column":21},"end":{"line":225,"column":22},"identifierName":"i"},"name":"i"},{"type":"Identifier","start":8295,"end":8300,"loc":{"start":{"line":225,"column":24},"end":{"line":225,"column":29},"identifierName":"t_old"},"name":"t_old"},{"type":"Identifier","start":8302,"end":8303,"loc":{"start":{"line":225,"column":31},"end":{"line":225,"column":32},"identifierName":"t"},"name":"t"}],"body":{"type":"BlockStatement","start":8305,"end":8439,"loc":{"start":{"line":225,"column":34},"end":{"line":228,"column":2}},"body":[{"type":"ExpressionStatement","start":8380,"end":8436,"loc":{"start":{"line":227,"column":2},"end":{"line":227,"column":58}},"expression":{"type":"AssignmentExpression","start":8380,"end":8436,"loc":{"start":{"line":227,"column":2},"end":{"line":227,"column":58}},"operator":"=","left":{"type":"MemberExpression","start":8380,"end":8401,"loc":{"start":{"line":227,"column":2},"end":{"line":227,"column":23}},"object":{"type":"MemberExpression","start":8380,"end":8398,"loc":{"start":{"line":227,"column":2},"end":{"line":227,"column":20}},"object":{"type":"ThisExpression","start":8380,"end":8384,"loc":{"start":{"line":227,"column":2},"end":{"line":227,"column":6}},"leadingComments":null},"property":{"type":"Identifier","start":8385,"end":8398,"loc":{"start":{"line":227,"column":7},"end":{"line":227,"column":20},"identifierName":"cellpixelsact"},"name":"cellpixelsact"},"computed":false,"leadingComments":null},"property":{"type":"Identifier","start":8399,"end":8400,"loc":{"start":{"line":227,"column":21},"end":{"line":227,"column":22},"identifierName":"i"},"name":"i"},"computed":true,"leadingComments":null},"right":{"type":"CallExpression","start":8404,"end":8436,"loc":{"start":{"line":227,"column":26},"end":{"line":227,"column":58}},"callee":{"type":"MemberExpression","start":8404,"end":8422,"loc":{"start":{"line":227,"column":26},"end":{"line":227,"column":44}},"object":{"type":"ThisExpression","start":8404,"end":8408,"loc":{"start":{"line":227,"column":26},"end":{"line":227,"column":30}}},"property":{"type":"Identifier","start":8409,"end":8422,"loc":{"start":{"line":227,"column":31},"end":{"line":227,"column":44},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":8423,"end":8432,"loc":{"start":{"line":227,"column":45},"end":{"line":227,"column":54}},"extra":{"rawValue":"MAX_ACT","raw":"\"MAX_ACT\""},"value":"MAX_ACT"},{"type":"Identifier","start":8434,"end":8435,"loc":{"start":{"line":227,"column":56},"end":{"line":227,"column":57},"identifierName":"t"},"name":"t"}]},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" After setting a pixel, it gets the MAX_ACT value of its cellkind.","start":8309,"end":8377,"loc":{"start":{"line":226,"column":2},"end":{"line":226,"column":70}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* The postSetpixListener of the ActivityConstraint ensures that pixels are \n\tgiven their maximal activity when they are freshly added to a CPM.\n\t@listens {CPM#setpixi} because when a new pixel is set (which is determined in the CPM),\n\tits activity must change so that this class knows about the update.\n\t@param {IndexCoordinate} i - the coordinate of the pixel that is changed.\n\t@param {CellId} t_old - the cellid of this pixel before the copy\n\t@param {CellId} t - the cellid of this pixel after the copy.\n\t","start":7723,"end":8234,"loc":{"start":{"line":216,"column":1},"end":{"line":223,"column":3}}},{"type":"CommentBlock","value":" eslint-disable no-unused-vars","start":8236,"end":8270,"loc":{"start":{"line":224,"column":1},"end":{"line":224,"column":35}}}],"trailingComments":[{"type":"CommentBlock","value":"* The postMCSListener of the ActivityConstraint ensures that pixel activities\n\tdecline with one after every MCS.\n\t@listens {CPM#timeStep} because when the CPM has finished an MCS, the activities must go down.\n\t","start":8443,"end":8657,"loc":{"start":{"line":230,"column":1},"end":{"line":233,"column":3}}}]},{"type":"ClassMethod","start":8659,"end":8939,"loc":{"start":{"line":234,"column":1},"end":{"line":242,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":8659,"end":8674,"loc":{"start":{"line":234,"column":1},"end":{"line":234,"column":16},"identifierName":"postMCSListener"},"name":"postMCSListener","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":8676,"end":8939,"loc":{"start":{"line":234,"column":18},"end":{"line":242,"column":2}},"body":[{"type":"ForInStatement","start":8748,"end":8936,"loc":{"start":{"line":236,"column":2},"end":{"line":241,"column":3}},"left":{"type":"VariableDeclaration","start":8753,"end":8760,"loc":{"start":{"line":236,"column":7},"end":{"line":236,"column":14}},"declarations":[{"type":"VariableDeclarator","start":8757,"end":8760,"loc":{"start":{"line":236,"column":11},"end":{"line":236,"column":14}},"id":{"type":"Identifier","start":8757,"end":8760,"loc":{"start":{"line":236,"column":11},"end":{"line":236,"column":14},"identifierName":"key"},"name":"key","leadingComments":null},"init":null,"leadingComments":null}],"kind":"let","leadingComments":null},"right":{"type":"MemberExpression","start":8764,"end":8782,"loc":{"start":{"line":236,"column":18},"end":{"line":236,"column":36}},"object":{"type":"ThisExpression","start":8764,"end":8768,"loc":{"start":{"line":236,"column":18},"end":{"line":236,"column":22}}},"property":{"type":"Identifier","start":8769,"end":8782,"loc":{"start":{"line":236,"column":23},"end":{"line":236,"column":36},"identifierName":"cellpixelsact"},"name":"cellpixelsact"},"computed":false},"body":{"type":"BlockStatement","start":8784,"end":8936,"loc":{"start":{"line":236,"column":38},"end":{"line":241,"column":3}},"body":[{"type":"IfStatement","start":8851,"end":8932,"loc":{"start":{"line":238,"column":3},"end":{"line":240,"column":4}},"test":{"type":"BinaryExpression","start":8855,"end":8887,"loc":{"start":{"line":238,"column":7},"end":{"line":238,"column":39}},"left":{"type":"UpdateExpression","start":8855,"end":8882,"loc":{"start":{"line":238,"column":7},"end":{"line":238,"column":34}},"operator":"--","prefix":true,"argument":{"type":"MemberExpression","start":8857,"end":8882,"loc":{"start":{"line":238,"column":9},"end":{"line":238,"column":34}},"object":{"type":"MemberExpression","start":8857,"end":8875,"loc":{"start":{"line":238,"column":9},"end":{"line":238,"column":27}},"object":{"type":"ThisExpression","start":8857,"end":8861,"loc":{"start":{"line":238,"column":9},"end":{"line":238,"column":13}},"leadingComments":null},"property":{"type":"Identifier","start":8862,"end":8875,"loc":{"start":{"line":238,"column":14},"end":{"line":238,"column":27},"identifierName":"cellpixelsact"},"name":"cellpixelsact"},"computed":false,"leadingComments":null},"property":{"type":"Identifier","start":8877,"end":8880,"loc":{"start":{"line":238,"column":29},"end":{"line":238,"column":32},"identifierName":"key"},"name":"key"},"computed":true,"leadingComments":null},"extra":{"parenthesizedArgument":false},"leadingComments":null},"operator":"<=","right":{"type":"NumericLiteral","start":8886,"end":8887,"loc":{"start":{"line":238,"column":38},"end":{"line":238,"column":39}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null},"consequent":{"type":"BlockStatement","start":8889,"end":8932,"loc":{"start":{"line":238,"column":41},"end":{"line":240,"column":4}},"body":[{"type":"ExpressionStatement","start":8895,"end":8927,"loc":{"start":{"line":239,"column":4},"end":{"line":239,"column":36}},"expression":{"type":"UnaryExpression","start":8895,"end":8927,"loc":{"start":{"line":239,"column":4},"end":{"line":239,"column":36}},"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":8902,"end":8927,"loc":{"start":{"line":239,"column":11},"end":{"line":239,"column":36}},"object":{"type":"MemberExpression","start":8902,"end":8920,"loc":{"start":{"line":239,"column":11},"end":{"line":239,"column":29}},"object":{"type":"ThisExpression","start":8902,"end":8906,"loc":{"start":{"line":239,"column":11},"end":{"line":239,"column":15}}},"property":{"type":"Identifier","start":8907,"end":8920,"loc":{"start":{"line":239,"column":16},"end":{"line":239,"column":29},"identifierName":"cellpixelsact"},"name":"cellpixelsact"},"computed":false},"property":{"type":"Identifier","start":8922,"end":8925,"loc":{"start":{"line":239,"column":31},"end":{"line":239,"column":34},"identifierName":"key"},"name":"key"},"computed":true},"extra":{"parenthesizedArgument":false}}}],"directives":[]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" activities that reach zero no longer need to be stored.","start":8789,"end":8847,"loc":{"start":{"line":237,"column":3},"end":{"line":237,"column":61}}}]}],"directives":[]},"leadingComments":[{"type":"CommentLine","value":" iterate over cellpixelsage and decrease all activities by one.","start":8680,"end":8745,"loc":{"start":{"line":235,"column":2},"end":{"line":235,"column":67}}}]}],"directives":[]},"leadingComments":[{"type":"CommentBlock","value":"* The postMCSListener of the ActivityConstraint ensures that pixel activities\n\tdecline with one after every MCS.\n\t@listens {CPM#timeStep} because when the CPM has finished an MCS, the activities must go down.\n\t","start":8443,"end":8657,"loc":{"start":{"line":230,"column":1},"end":{"line":233,"column":3}}}]}]},"leadingComments":[],"name":"_","trailingComments":[]},{"type":"Identifier","start":8945,"end":8978,"loc":{"start":{"line":247,"column":0},"end":{"line":247,"column":33}},"declaration":{"type":"Identifier","start":8960,"end":8978,"loc":{"start":{"line":247,"column":15},"end":{"line":247,"column":33},"identifierName":"ActivityConstraint"},"name":"ActivityConstraint"},"name":"_","leadingComments":[],"trailingComments":[]},{"type":"ExportDefaultDeclaration","start":8945,"end":8978,"loc":{"start":{"line":247,"column":0},"end":{"line":247,"column":33}},"declaration":{"type":"ClassDeclaration","start":1498,"end":8943,"loc":{"start":{"line":49,"column":0},"end":{"line":245,"column":1}},"id":{"type":"Identifier","start":1504,"end":1522,"loc":{"start":{"line":49,"column":6},"end":{"line":49,"column":24},"identifierName":"ActivityConstraint"},"name":"ActivityConstraint","leadingComments":null},"superClass":{"type":"Identifier","start":1531,"end":1545,"loc":{"start":{"line":49,"column":33},"end":{"line":49,"column":47},"identifierName":"SoftConstraint"},"name":"SoftConstraint"},"body":{"type":"ClassBody","start":1546,"end":8943,"loc":{"start":{"line":49,"column":48},"end":{"line":245,"column":1}},"body":[{"type":"ClassMethod","start":2037,"end":2700,"loc":{"start":{"line":58,"column":1},"end":{"line":76,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":2037,"end":2048,"loc":{"start":{"line":58,"column":1},"end":{"line":58,"column":12},"identifierName":"constructor"},"name":"constructor","leadingComments":null},"kind":"constructor","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":2050,"end":2054,"loc":{"start":{"line":58,"column":14},"end":{"line":58,"column":18},"identifierName":"conf"},"name":"conf"}],"body":{"type":"BlockStatement","start":2056,"end":2700,"loc":{"start":{"line":58,"column":20},"end":{"line":76,"column":2}},"body":[{"type":"ExpressionStatement","start":2060,"end":2073,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":15}},"expression":{"type":"CallExpression","start":2060,"end":2073,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":15}},"callee":{"type":"Super","start":2060,"end":2065,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":7}}},"arguments":[{"type":"Identifier","start":2067,"end":2071,"loc":{"start":{"line":59,"column":9},"end":{"line":59,"column":13},"identifierName":"conf"},"name":"conf"}],"trailingComments":null},"trailingComments":[{"type":"CommentBlock","value":"* Activity of all cellpixels with a non-zero activity is stored in this object,\n\t\twith the {@link IndexCoordinate} of each pixel as key and its current activity as\n\t\tvalue. When the activity reaches 0, the pixel is removed from the object until it\n\t\tis added again. \n\t\t@type {object}","start":2077,"end":2364,"loc":{"start":{"line":61,"column":2},"end":{"line":65,"column":18}}}]},{"type":"ExpressionStatement","start":2367,"end":2390,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":25}},"expression":{"type":"AssignmentExpression","start":2367,"end":2390,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":25}},"operator":"=","left":{"type":"MemberExpression","start":2367,"end":2385,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":20}},"object":{"type":"ThisExpression","start":2367,"end":2371,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":6}},"leadingComments":null},"property":{"type":"Identifier","start":2372,"end":2385,"loc":{"start":{"line":66,"column":7},"end":{"line":66,"column":20},"identifierName":"cellpixelsact"},"name":"cellpixelsact"},"computed":false,"leadingComments":null},"right":{"type":"ObjectExpression","start":2388,"end":2390,"loc":{"start":{"line":66,"column":23},"end":{"line":66,"column":25}},"properties":[],"leadingComments":null,"trailingComments":null},"leadingComments":null,"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* Activity of all cellpixels with a non-zero activity is stored in this object,\n\t\twith the {@link IndexCoordinate} of each pixel as key and its current activity as\n\t\tvalue. When the activity reaches 0, the pixel is removed from the object until it\n\t\tis added again. \n\t\t@type {object}","start":2077,"end":2364,"loc":{"start":{"line":61,"column":2},"end":{"line":65,"column":18}}}],"trailingComments":[{"type":"CommentBlock","value":"* Wrapper: select function to compute activities based on ACT_MEAN in conf.\n\t\tDefault is to use the {@link activityAtGeom} for a geometric mean.\n\t\t@type {function}","start":2396,"end":2563,"loc":{"start":{"line":68,"column":2},"end":{"line":70,"column":20}}}]},{"type":"ExpressionStatement","start":2566,"end":2603,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":39}},"expression":{"type":"AssignmentExpression","start":2566,"end":2603,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":39}},"operator":"=","left":{"type":"MemberExpression","start":2566,"end":2581,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":17}},"object":{"type":"ThisExpression","start":2566,"end":2570,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":6}},"leadingComments":null},"property":{"type":"Identifier","start":2571,"end":2581,"loc":{"start":{"line":71,"column":7},"end":{"line":71,"column":17},"identifierName":"activityAt"},"name":"activityAt"},"computed":false,"leadingComments":null},"right":{"type":"MemberExpression","start":2584,"end":2603,"loc":{"start":{"line":71,"column":20},"end":{"line":71,"column":39}},"object":{"type":"ThisExpression","start":2584,"end":2588,"loc":{"start":{"line":71,"column":20},"end":{"line":71,"column":24}}},"property":{"type":"Identifier","start":2589,"end":2603,"loc":{"start":{"line":71,"column":25},"end":{"line":71,"column":39},"identifierName":"activityAtGeom"},"name":"activityAtGeom"},"computed":false},"leadingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* Wrapper: select function to compute activities based on ACT_MEAN in conf.\n\t\tDefault is to use the {@link activityAtGeom} for a geometric mean.\n\t\t@type {function}","start":2396,"end":2563,"loc":{"start":{"line":68,"column":2},"end":{"line":70,"column":20}}}]},{"type":"IfStatement","start":2606,"end":2693,"loc":{"start":{"line":72,"column":2},"end":{"line":74,"column":3}},"test":{"type":"BinaryExpression","start":2610,"end":2644,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":40}},"left":{"type":"MemberExpression","start":2610,"end":2628,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":24}},"object":{"type":"MemberExpression","start":2610,"end":2619,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":15}},"object":{"type":"ThisExpression","start":2610,"end":2614,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":10}}},"property":{"type":"Identifier","start":2615,"end":2619,"loc":{"start":{"line":72,"column":11},"end":{"line":72,"column":15},"identifierName":"conf"},"name":"conf"},"computed":false},"property":{"type":"Identifier","start":2620,"end":2628,"loc":{"start":{"line":72,"column":16},"end":{"line":72,"column":24},"identifierName":"ACT_MEAN"},"name":"ACT_MEAN"},"computed":false},"operator":"==","right":{"type":"StringLiteral","start":2632,"end":2644,"loc":{"start":{"line":72,"column":28},"end":{"line":72,"column":40}},"extra":{"rawValue":"arithmetic","raw":"\"arithmetic\""},"value":"arithmetic"}},"consequent":{"type":"BlockStatement","start":2646,"end":2693,"loc":{"start":{"line":72,"column":42},"end":{"line":74,"column":3}},"body":[{"type":"ExpressionStatement","start":2651,"end":2689,"loc":{"start":{"line":73,"column":3},"end":{"line":73,"column":41}},"expression":{"type":"AssignmentExpression","start":2651,"end":2689,"loc":{"start":{"line":73,"column":3},"end":{"line":73,"column":41}},"operator":"=","left":{"type":"MemberExpression","start":2651,"end":2666,"loc":{"start":{"line":73,"column":3},"end":{"line":73,"column":18}},"object":{"type":"ThisExpression","start":2651,"end":2655,"loc":{"start":{"line":73,"column":3},"end":{"line":73,"column":7}}},"property":{"type":"Identifier","start":2656,"end":2666,"loc":{"start":{"line":73,"column":8},"end":{"line":73,"column":18},"identifierName":"activityAt"},"name":"activityAt"},"computed":false},"right":{"type":"MemberExpression","start":2669,"end":2689,"loc":{"start":{"line":73,"column":21},"end":{"line":73,"column":41}},"object":{"type":"ThisExpression","start":2669,"end":2673,"loc":{"start":{"line":73,"column":21},"end":{"line":73,"column":25}}},"property":{"type":"Identifier","start":2674,"end":2689,"loc":{"start":{"line":73,"column":26},"end":{"line":73,"column":41},"identifierName":"activityAtArith"},"name":"activityAtArith"},"computed":false}}}],"directives":[]},"alternate":null}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* The constructor of the ActivityConstraint requires a conf object with parameters.\n\t@param {object} conf - parameter object for this constraint\n\t@param {string} [conf.ACT_MEAN=\"geometric\"] - should local mean activity be measured with an\n\t\"arithmetic\" or a \"geometric\" mean?\n\t@param {PerKindNonNegative} conf.LAMBDA_ACT - strength of the activityconstraint per cellkind.\n\t@param {PerKindNonNegative} conf.MAX_ACT - how long do pixels remember their activity? Given per cellkind.\n\t","start":1550,"end":2035,"loc":{"start":{"line":51,"column":1},"end":{"line":57,"column":3}}}],"trailingComments":[{"type":"CommentBlock","value":"* This method checks that all required parameters are present in the object supplied to\n\tthe constructor, and that they are of the right format. It throws an error when this\n\tis not the case.","start":2704,"end":2899,"loc":{"start":{"line":78,"column":1},"end":{"line":80,"column":19}}}]},{"type":"ClassMethod","start":2901,"end":3218,"loc":{"start":{"line":81,"column":1},"end":{"line":86,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":2901,"end":2912,"loc":{"start":{"line":81,"column":1},"end":{"line":81,"column":12},"identifierName":"confChecker"},"name":"confChecker","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2914,"end":3218,"loc":{"start":{"line":81,"column":14},"end":{"line":86,"column":2}},"body":[{"type":"VariableDeclaration","start":2918,"end":2973,"loc":{"start":{"line":82,"column":2},"end":{"line":82,"column":57}},"declarations":[{"type":"VariableDeclarator","start":2922,"end":2973,"loc":{"start":{"line":82,"column":6},"end":{"line":82,"column":57}},"id":{"type":"Identifier","start":2922,"end":2929,"loc":{"start":{"line":82,"column":6},"end":{"line":82,"column":13},"identifierName":"checker"},"name":"checker"},"init":{"type":"NewExpression","start":2932,"end":2973,"loc":{"start":{"line":82,"column":16},"end":{"line":82,"column":57}},"callee":{"type":"Identifier","start":2936,"end":2952,"loc":{"start":{"line":82,"column":20},"end":{"line":82,"column":36},"identifierName":"ParameterChecker"},"name":"ParameterChecker"},"arguments":[{"type":"MemberExpression","start":2954,"end":2963,"loc":{"start":{"line":82,"column":38},"end":{"line":82,"column":47}},"object":{"type":"ThisExpression","start":2954,"end":2958,"loc":{"start":{"line":82,"column":38},"end":{"line":82,"column":42}}},"property":{"type":"Identifier","start":2959,"end":2963,"loc":{"start":{"line":82,"column":43},"end":{"line":82,"column":47},"identifierName":"conf"},"name":"conf"},"computed":false},{"type":"MemberExpression","start":2965,"end":2971,"loc":{"start":{"line":82,"column":49},"end":{"line":82,"column":55}},"object":{"type":"ThisExpression","start":2965,"end":2969,"loc":{"start":{"line":82,"column":49},"end":{"line":82,"column":53}}},"property":{"type":"Identifier","start":2970,"end":2971,"loc":{"start":{"line":82,"column":54},"end":{"line":82,"column":55},"identifierName":"C"},"name":"C"},"computed":false}]}}],"kind":"let"},{"type":"ExpressionStatement","start":2976,"end":3072,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":98}},"expression":{"type":"CallExpression","start":2976,"end":3072,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":98}},"callee":{"type":"MemberExpression","start":2976,"end":3002,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":28}},"object":{"type":"Identifier","start":2976,"end":2983,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":9},"identifierName":"checker"},"name":"checker"},"property":{"type":"Identifier","start":2984,"end":3002,"loc":{"start":{"line":83,"column":10},"end":{"line":83,"column":28},"identifierName":"confCheckParameter"},"name":"confCheckParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":3004,"end":3014,"loc":{"start":{"line":83,"column":30},"end":{"line":83,"column":40}},"extra":{"rawValue":"ACT_MEAN","raw":"\"ACT_MEAN\""},"value":"ACT_MEAN"},{"type":"StringLiteral","start":3016,"end":3029,"loc":{"start":{"line":83,"column":42},"end":{"line":83,"column":55}},"extra":{"rawValue":"SingleValue","raw":"\"SingleValue\""},"value":"SingleValue"},{"type":"StringLiteral","start":3031,"end":3039,"loc":{"start":{"line":83,"column":57},"end":{"line":83,"column":65}},"extra":{"rawValue":"String","raw":"\"String\""},"value":"String"},{"type":"ArrayExpression","start":3041,"end":3070,"loc":{"start":{"line":83,"column":67},"end":{"line":83,"column":96}},"elements":[{"type":"StringLiteral","start":3043,"end":3054,"loc":{"start":{"line":83,"column":69},"end":{"line":83,"column":80}},"extra":{"rawValue":"geometric","raw":"\"geometric\""},"value":"geometric"},{"type":"StringLiteral","start":3056,"end":3068,"loc":{"start":{"line":83,"column":82},"end":{"line":83,"column":94}},"extra":{"rawValue":"arithmetic","raw":"\"arithmetic\""},"value":"arithmetic"}]}]}},{"type":"ExpressionStatement","start":3075,"end":3145,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":72}},"expression":{"type":"CallExpression","start":3075,"end":3145,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":72}},"callee":{"type":"MemberExpression","start":3075,"end":3101,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":28}},"object":{"type":"Identifier","start":3075,"end":3082,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":9},"identifierName":"checker"},"name":"checker"},"property":{"type":"Identifier","start":3083,"end":3101,"loc":{"start":{"line":84,"column":10},"end":{"line":84,"column":28},"identifierName":"confCheckParameter"},"name":"confCheckParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":3103,"end":3115,"loc":{"start":{"line":84,"column":30},"end":{"line":84,"column":42}},"extra":{"rawValue":"LAMBDA_ACT","raw":"\"LAMBDA_ACT\""},"value":"LAMBDA_ACT"},{"type":"StringLiteral","start":3117,"end":3128,"loc":{"start":{"line":84,"column":44},"end":{"line":84,"column":55}},"extra":{"rawValue":"KindArray","raw":"\"KindArray\""},"value":"KindArray"},{"type":"StringLiteral","start":3130,"end":3143,"loc":{"start":{"line":84,"column":57},"end":{"line":84,"column":70}},"extra":{"rawValue":"NonNegative","raw":"\"NonNegative\""},"value":"NonNegative"}]}},{"type":"ExpressionStatement","start":3148,"end":3215,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":69}},"expression":{"type":"CallExpression","start":3148,"end":3215,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":69}},"callee":{"type":"MemberExpression","start":3148,"end":3174,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":28}},"object":{"type":"Identifier","start":3148,"end":3155,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":9},"identifierName":"checker"},"name":"checker"},"property":{"type":"Identifier","start":3156,"end":3174,"loc":{"start":{"line":85,"column":10},"end":{"line":85,"column":28},"identifierName":"confCheckParameter"},"name":"confCheckParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":3176,"end":3185,"loc":{"start":{"line":85,"column":30},"end":{"line":85,"column":39}},"extra":{"rawValue":"MAX_ACT","raw":"\"MAX_ACT\""},"value":"MAX_ACT"},{"type":"StringLiteral","start":3187,"end":3198,"loc":{"start":{"line":85,"column":41},"end":{"line":85,"column":52}},"extra":{"rawValue":"KindArray","raw":"\"KindArray\""},"value":"KindArray"},{"type":"StringLiteral","start":3200,"end":3213,"loc":{"start":{"line":85,"column":54},"end":{"line":85,"column":67}},"extra":{"rawValue":"NonNegative","raw":"\"NonNegative\""},"value":"NonNegative"}]}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* This method checks that all required parameters are present in the object supplied to\n\tthe constructor, and that they are of the right format. It throws an error when this\n\tis not the case.","start":2704,"end":2899,"loc":{"start":{"line":78,"column":1},"end":{"line":80,"column":19}}}],"trailingComments":[{"type":"CommentBlock","value":" ======= ACT MODEL ======= ","start":3222,"end":3253,"loc":{"start":{"line":88,"column":1},"end":{"line":88,"column":32}}},{"type":"CommentBlock","value":" Act model : compute local activity values within cell around pixel i.\n\t * Depending on settings in conf, this is an arithmetic (activityAtArith)\n\t * or geometric (activityAtGeom) mean of the activities of the neighbors\n\t * of pixel i.\n\t ","start":3256,"end":3498,"loc":{"start":{"line":90,"column":1},"end":{"line":94,"column":4}}},{"type":"CommentBlock","value":"* Method to compute the Hamiltonian for this constraint. \n\t @param {IndexCoordinate} sourcei - coordinate of the source pixel that tries to copy.\n\t @param {IndexCoordinate} targeti - coordinate of the target pixel the source is trying\n\t to copy into.\n\t @param {CellId} src_type - cellid of the source pixel.\n\t @param {CellId} tgt_type - cellid of the target pixel. \n\t @return {number} the change in Hamiltonian for this copy attempt and this constraint.","start":3500,"end":3957,"loc":{"start":{"line":95,"column":1},"end":{"line":101,"column":89}}}]},{"type":"ClassMethod","start":3960,"end":4960,"loc":{"start":{"line":102,"column":1},"end":{"line":126,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":3960,"end":3966,"loc":{"start":{"line":102,"column":1},"end":{"line":102,"column":7},"identifierName":"deltaH"},"name":"deltaH","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":3969,"end":3976,"loc":{"start":{"line":102,"column":10},"end":{"line":102,"column":17},"identifierName":"sourcei"},"name":"sourcei"},{"type":"Identifier","start":3978,"end":3985,"loc":{"start":{"line":102,"column":19},"end":{"line":102,"column":26},"identifierName":"targeti"},"name":"targeti"},{"type":"Identifier","start":3987,"end":3995,"loc":{"start":{"line":102,"column":28},"end":{"line":102,"column":36},"identifierName":"src_type"},"name":"src_type"},{"type":"Identifier","start":3997,"end":4005,"loc":{"start":{"line":102,"column":38},"end":{"line":102,"column":46},"identifierName":"tgt_type"},"name":"tgt_type"}],"body":{"type":"BlockStatement","start":4007,"end":4960,"loc":{"start":{"line":102,"column":48},"end":{"line":126,"column":2}},"body":[{"type":"VariableDeclaration","start":4012,"end":4045,"loc":{"start":{"line":104,"column":2},"end":{"line":104,"column":35}},"declarations":[{"type":"VariableDeclarator","start":4016,"end":4026,"loc":{"start":{"line":104,"column":6},"end":{"line":104,"column":16}},"id":{"type":"Identifier","start":4016,"end":4022,"loc":{"start":{"line":104,"column":6},"end":{"line":104,"column":12},"identifierName":"deltaH"},"name":"deltaH"},"init":{"type":"NumericLiteral","start":4025,"end":4026,"loc":{"start":{"line":104,"column":15},"end":{"line":104,"column":16}},"extra":{"rawValue":0,"raw":"0"},"value":0}},{"type":"VariableDeclarator","start":4028,"end":4034,"loc":{"start":{"line":104,"column":18},"end":{"line":104,"column":24}},"id":{"type":"Identifier","start":4028,"end":4034,"loc":{"start":{"line":104,"column":18},"end":{"line":104,"column":24},"identifierName":"maxact"},"name":"maxact"},"init":null},{"type":"VariableDeclarator","start":4036,"end":4045,"loc":{"start":{"line":104,"column":26},"end":{"line":104,"column":35}},"id":{"type":"Identifier","start":4036,"end":4045,"loc":{"start":{"line":104,"column":26},"end":{"line":104,"column":35},"identifierName":"lambdaact"},"name":"lambdaact","leadingComments":null,"trailingComments":null},"init":null,"trailingComments":null}],"kind":"let","trailingComments":[{"type":"CommentLine","value":" use parameters for the source cell, unless that is the background.","start":4049,"end":4118,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":71}}},{"type":"CommentLine","value":" In that case, use parameters of the target cell.","start":4121,"end":4172,"loc":{"start":{"line":107,"column":2},"end":{"line":107,"column":53}}}]},{"type":"IfStatement","start":4175,"end":4652,"loc":{"start":{"line":108,"column":2},"end":{"line":117,"column":3}},"test":{"type":"BinaryExpression","start":4179,"end":4192,"loc":{"start":{"line":108,"column":6},"end":{"line":108,"column":19}},"left":{"type":"Identifier","start":4179,"end":4187,"loc":{"start":{"line":108,"column":6},"end":{"line":108,"column":14},"identifierName":"src_type"},"name":"src_type","leadingComments":null},"operator":"!=","right":{"type":"NumericLiteral","start":4191,"end":4192,"loc":{"start":{"line":108,"column":18},"end":{"line":108,"column":19}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null},"consequent":{"type":"BlockStatement","start":4194,"end":4309,"loc":{"start":{"line":108,"column":21},"end":{"line":111,"column":3}},"body":[{"type":"ExpressionStatement","start":4199,"end":4247,"loc":{"start":{"line":109,"column":3},"end":{"line":109,"column":51}},"expression":{"type":"AssignmentExpression","start":4199,"end":4247,"loc":{"start":{"line":109,"column":3},"end":{"line":109,"column":51}},"operator":"=","left":{"type":"Identifier","start":4199,"end":4205,"loc":{"start":{"line":109,"column":3},"end":{"line":109,"column":9},"identifierName":"maxact"},"name":"maxact"},"right":{"type":"CallExpression","start":4208,"end":4247,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":51}},"callee":{"type":"MemberExpression","start":4208,"end":4226,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":30}},"object":{"type":"ThisExpression","start":4208,"end":4212,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":16}}},"property":{"type":"Identifier","start":4213,"end":4226,"loc":{"start":{"line":109,"column":17},"end":{"line":109,"column":30},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":4227,"end":4236,"loc":{"start":{"line":109,"column":31},"end":{"line":109,"column":40}},"extra":{"rawValue":"MAX_ACT","raw":"\"MAX_ACT\""},"value":"MAX_ACT"},{"type":"Identifier","start":4238,"end":4246,"loc":{"start":{"line":109,"column":42},"end":{"line":109,"column":50},"identifierName":"src_type"},"name":"src_type"}]}}},{"type":"ExpressionStatement","start":4251,"end":4305,"loc":{"start":{"line":110,"column":3},"end":{"line":110,"column":57}},"expression":{"type":"AssignmentExpression","start":4251,"end":4305,"loc":{"start":{"line":110,"column":3},"end":{"line":110,"column":57}},"operator":"=","left":{"type":"Identifier","start":4251,"end":4260,"loc":{"start":{"line":110,"column":3},"end":{"line":110,"column":12},"identifierName":"lambdaact"},"name":"lambdaact"},"right":{"type":"CallExpression","start":4263,"end":4305,"loc":{"start":{"line":110,"column":15},"end":{"line":110,"column":57}},"callee":{"type":"MemberExpression","start":4263,"end":4281,"loc":{"start":{"line":110,"column":15},"end":{"line":110,"column":33}},"object":{"type":"ThisExpression","start":4263,"end":4267,"loc":{"start":{"line":110,"column":15},"end":{"line":110,"column":19}}},"property":{"type":"Identifier","start":4268,"end":4281,"loc":{"start":{"line":110,"column":20},"end":{"line":110,"column":33},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":4282,"end":4294,"loc":{"start":{"line":110,"column":34},"end":{"line":110,"column":46}},"extra":{"rawValue":"LAMBDA_ACT","raw":"\"LAMBDA_ACT\""},"value":"LAMBDA_ACT"},{"type":"Identifier","start":4296,"end":4304,"loc":{"start":{"line":110,"column":48},"end":{"line":110,"column":56},"identifierName":"src_type"},"name":"src_type"}]}}}],"directives":[]},"alternate":{"type":"BlockStatement","start":4315,"end":4652,"loc":{"start":{"line":111,"column":9},"end":{"line":117,"column":3}},"body":[{"type":"ExpressionStatement","start":4542,"end":4590,"loc":{"start":{"line":115,"column":3},"end":{"line":115,"column":51}},"expression":{"type":"AssignmentExpression","start":4542,"end":4590,"loc":{"start":{"line":115,"column":3},"end":{"line":115,"column":51}},"operator":"=","left":{"type":"Identifier","start":4542,"end":4548,"loc":{"start":{"line":115,"column":3},"end":{"line":115,"column":9},"identifierName":"maxact"},"name":"maxact","leadingComments":null},"right":{"type":"CallExpression","start":4551,"end":4590,"loc":{"start":{"line":115,"column":12},"end":{"line":115,"column":51}},"callee":{"type":"MemberExpression","start":4551,"end":4569,"loc":{"start":{"line":115,"column":12},"end":{"line":115,"column":30}},"object":{"type":"ThisExpression","start":4551,"end":4555,"loc":{"start":{"line":115,"column":12},"end":{"line":115,"column":16}}},"property":{"type":"Identifier","start":4556,"end":4569,"loc":{"start":{"line":115,"column":17},"end":{"line":115,"column":30},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":4570,"end":4579,"loc":{"start":{"line":115,"column":31},"end":{"line":115,"column":40}},"extra":{"rawValue":"MAX_ACT","raw":"\"MAX_ACT\""},"value":"MAX_ACT"},{"type":"Identifier","start":4581,"end":4589,"loc":{"start":{"line":115,"column":42},"end":{"line":115,"column":50},"identifierName":"tgt_type"},"name":"tgt_type"}]},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" special case: punishment for a copy attempt from background into","start":4320,"end":4387,"loc":{"start":{"line":112,"column":3},"end":{"line":112,"column":70}}},{"type":"CommentLine","value":" an active cell. This effectively means that the active cell retracts,","start":4391,"end":4463,"loc":{"start":{"line":113,"column":3},"end":{"line":113,"column":75}}},{"type":"CommentLine","value":" which is different from one cell pushing into another (active) cell.","start":4467,"end":4538,"loc":{"start":{"line":114,"column":3},"end":{"line":114,"column":74}}}]},{"type":"ExpressionStatement","start":4594,"end":4648,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":57}},"expression":{"type":"AssignmentExpression","start":4594,"end":4648,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":57}},"operator":"=","left":{"type":"Identifier","start":4594,"end":4603,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":12},"identifierName":"lambdaact"},"name":"lambdaact"},"right":{"type":"CallExpression","start":4606,"end":4648,"loc":{"start":{"line":116,"column":15},"end":{"line":116,"column":57}},"callee":{"type":"MemberExpression","start":4606,"end":4624,"loc":{"start":{"line":116,"column":15},"end":{"line":116,"column":33}},"object":{"type":"ThisExpression","start":4606,"end":4610,"loc":{"start":{"line":116,"column":15},"end":{"line":116,"column":19}}},"property":{"type":"Identifier","start":4611,"end":4624,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":33},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":4625,"end":4637,"loc":{"start":{"line":116,"column":34},"end":{"line":116,"column":46}},"extra":{"rawValue":"LAMBDA_ACT","raw":"\"LAMBDA_ACT\""},"value":"LAMBDA_ACT"},{"type":"Identifier","start":4639,"end":4647,"loc":{"start":{"line":116,"column":48},"end":{"line":116,"column":56},"identifierName":"tgt_type"},"name":"tgt_type"}]}}}],"directives":[]},"leadingComments":[{"type":"CommentLine","value":" use parameters for the source cell, unless that is the background.","start":4049,"end":4118,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":71}}},{"type":"CommentLine","value":" In that case, use parameters of the target cell.","start":4121,"end":4172,"loc":{"start":{"line":107,"column":2},"end":{"line":107,"column":53}}}]},{"type":"IfStatement","start":4655,"end":4699,"loc":{"start":{"line":118,"column":2},"end":{"line":120,"column":3}},"test":{"type":"LogicalExpression","start":4659,"end":4680,"loc":{"start":{"line":118,"column":6},"end":{"line":118,"column":27}},"left":{"type":"UnaryExpression","start":4659,"end":4666,"loc":{"start":{"line":118,"column":6},"end":{"line":118,"column":13}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":4660,"end":4666,"loc":{"start":{"line":118,"column":7},"end":{"line":118,"column":13},"identifierName":"maxact"},"name":"maxact"},"extra":{"parenthesizedArgument":false}},"operator":"||","right":{"type":"UnaryExpression","start":4670,"end":4680,"loc":{"start":{"line":118,"column":17},"end":{"line":118,"column":27}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":4671,"end":4680,"loc":{"start":{"line":118,"column":18},"end":{"line":118,"column":27},"identifierName":"lambdaact"},"name":"lambdaact"},"extra":{"parenthesizedArgument":false}}},"consequent":{"type":"BlockStatement","start":4682,"end":4699,"loc":{"start":{"line":118,"column":29},"end":{"line":120,"column":3}},"body":[{"type":"ReturnStatement","start":4687,"end":4695,"loc":{"start":{"line":119,"column":3},"end":{"line":119,"column":11}},"argument":{"type":"NumericLiteral","start":4694,"end":4695,"loc":{"start":{"line":119,"column":10},"end":{"line":119,"column":11}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"directives":[],"trailingComments":null},"alternate":null,"trailingComments":[{"type":"CommentLine","value":" compute the Hamiltonian. The activityAt method is a wrapper for either activityAtArith","start":4703,"end":4792,"loc":{"start":{"line":122,"column":2},"end":{"line":122,"column":91}}},{"type":"CommentLine","value":" or activityAtGeom, depending on conf (see constructor).\t","start":4795,"end":4854,"loc":{"start":{"line":123,"column":2},"end":{"line":123,"column":61}}}]},{"type":"ExpressionStatement","start":4857,"end":4941,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":86}},"expression":{"type":"AssignmentExpression","start":4857,"end":4941,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":86}},"operator":"+=","left":{"type":"Identifier","start":4857,"end":4863,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":8},"identifierName":"deltaH"},"name":"deltaH","leadingComments":null},"right":{"type":"BinaryExpression","start":4867,"end":4941,"loc":{"start":{"line":124,"column":12},"end":{"line":124,"column":86}},"left":{"type":"BinaryExpression","start":4867,"end":4934,"loc":{"start":{"line":124,"column":12},"end":{"line":124,"column":79}},"left":{"type":"Identifier","start":4867,"end":4876,"loc":{"start":{"line":124,"column":12},"end":{"line":124,"column":21},"identifierName":"lambdaact"},"name":"lambdaact"},"operator":"*","right":{"type":"BinaryExpression","start":4878,"end":4933,"loc":{"start":{"line":124,"column":23},"end":{"line":124,"column":78}},"left":{"type":"CallExpression","start":4878,"end":4904,"loc":{"start":{"line":124,"column":23},"end":{"line":124,"column":49}},"callee":{"type":"MemberExpression","start":4878,"end":4893,"loc":{"start":{"line":124,"column":23},"end":{"line":124,"column":38}},"object":{"type":"ThisExpression","start":4878,"end":4882,"loc":{"start":{"line":124,"column":23},"end":{"line":124,"column":27}}},"property":{"type":"Identifier","start":4883,"end":4893,"loc":{"start":{"line":124,"column":28},"end":{"line":124,"column":38},"identifierName":"activityAt"},"name":"activityAt"},"computed":false},"arguments":[{"type":"Identifier","start":4895,"end":4902,"loc":{"start":{"line":124,"column":40},"end":{"line":124,"column":47},"identifierName":"targeti"},"name":"targeti"}]},"operator":"-","right":{"type":"CallExpression","start":4907,"end":4933,"loc":{"start":{"line":124,"column":52},"end":{"line":124,"column":78}},"callee":{"type":"MemberExpression","start":4907,"end":4922,"loc":{"start":{"line":124,"column":52},"end":{"line":124,"column":67}},"object":{"type":"ThisExpression","start":4907,"end":4911,"loc":{"start":{"line":124,"column":52},"end":{"line":124,"column":56}}},"property":{"type":"Identifier","start":4912,"end":4922,"loc":{"start":{"line":124,"column":57},"end":{"line":124,"column":67},"identifierName":"activityAt"},"name":"activityAt"},"computed":false},"arguments":[{"type":"Identifier","start":4924,"end":4931,"loc":{"start":{"line":124,"column":69},"end":{"line":124,"column":76},"identifierName":"sourcei"},"name":"sourcei"}]},"extra":{"parenthesized":true,"parenStart":4877}}},"operator":"/","right":{"type":"Identifier","start":4935,"end":4941,"loc":{"start":{"line":124,"column":80},"end":{"line":124,"column":86},"identifierName":"maxact"},"name":"maxact"}},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" compute the Hamiltonian. The activityAt method is a wrapper for either activityAtArith","start":4703,"end":4792,"loc":{"start":{"line":122,"column":2},"end":{"line":122,"column":91}}},{"type":"CommentLine","value":" or activityAtGeom, depending on conf (see constructor).\t","start":4795,"end":4854,"loc":{"start":{"line":123,"column":2},"end":{"line":123,"column":61}}}]},{"type":"ReturnStatement","start":4944,"end":4957,"loc":{"start":{"line":125,"column":2},"end":{"line":125,"column":15}},"argument":{"type":"Identifier","start":4951,"end":4957,"loc":{"start":{"line":125,"column":9},"end":{"line":125,"column":15},"identifierName":"deltaH"},"name":"deltaH"}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":" ======= ACT MODEL ======= ","start":3222,"end":3253,"loc":{"start":{"line":88,"column":1},"end":{"line":88,"column":32}}},{"type":"CommentBlock","value":" Act model : compute local activity values within cell around pixel i.\n\t * Depending on settings in conf, this is an arithmetic (activityAtArith)\n\t * or geometric (activityAtGeom) mean of the activities of the neighbors\n\t * of pixel i.\n\t ","start":3256,"end":3498,"loc":{"start":{"line":90,"column":1},"end":{"line":94,"column":4}}},{"type":"CommentBlock","value":"* Method to compute the Hamiltonian for this constraint. \n\t @param {IndexCoordinate} sourcei - coordinate of the source pixel that tries to copy.\n\t @param {IndexCoordinate} targeti - coordinate of the target pixel the source is trying\n\t to copy into.\n\t @param {CellId} src_type - cellid of the source pixel.\n\t @param {CellId} tgt_type - cellid of the target pixel. \n\t @return {number} the change in Hamiltonian for this copy attempt and this constraint.","start":3500,"end":3957,"loc":{"start":{"line":95,"column":1},"end":{"line":101,"column":89}}}],"trailingComments":[{"type":"CommentBlock","value":"* Activity mean computation methods for arithmetic mean. It computes the mean activity\n\t\tof a pixel and all its neighbors belonging to the same cell.\n\t\t\n\t\tThis method is generally called indirectly via {@link activityAt}, which is set\n\t\tbased on the value of ACT_MEAN in the configuration object given to the constructor.\n\t\t\n\t\t@param {IndexCoordinate} i - pixel to evaluate local activity at.\n\t\t@return {number} the arithmetic mean of activities in this part of the cell.\n\t\t@private\n\t","start":4963,"end":5451,"loc":{"start":{"line":128,"column":1},"end":{"line":137,"column":3}}}]},{"type":"ClassMethod","start":5453,"end":6068,"loc":{"start":{"line":138,"column":1},"end":{"line":164,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":5453,"end":5468,"loc":{"start":{"line":138,"column":1},"end":{"line":138,"column":16},"identifierName":"activityAtArith"},"name":"activityAtArith","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":5470,"end":5471,"loc":{"start":{"line":138,"column":18},"end":{"line":138,"column":19},"identifierName":"i"},"name":"i"}],"body":{"type":"BlockStatement","start":5473,"end":6068,"loc":{"start":{"line":138,"column":21},"end":{"line":164,"column":2}},"body":[{"type":"VariableDeclaration","start":5477,"end":5504,"loc":{"start":{"line":139,"column":2},"end":{"line":139,"column":29}},"declarations":[{"type":"VariableDeclarator","start":5483,"end":5504,"loc":{"start":{"line":139,"column":8},"end":{"line":139,"column":29}},"id":{"type":"Identifier","start":5483,"end":5484,"loc":{"start":{"line":139,"column":8},"end":{"line":139,"column":9},"identifierName":"t"},"name":"t"},"init":{"type":"CallExpression","start":5487,"end":5504,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":29}},"callee":{"type":"MemberExpression","start":5487,"end":5499,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":24}},"object":{"type":"MemberExpression","start":5487,"end":5493,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":18}},"object":{"type":"ThisExpression","start":5487,"end":5491,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":16}}},"property":{"type":"Identifier","start":5492,"end":5493,"loc":{"start":{"line":139,"column":17},"end":{"line":139,"column":18},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":5494,"end":5499,"loc":{"start":{"line":139,"column":19},"end":{"line":139,"column":24},"identifierName":"pixti"},"name":"pixti"},"computed":false},"arguments":[{"type":"Identifier","start":5501,"end":5502,"loc":{"start":{"line":139,"column":26},"end":{"line":139,"column":27},"identifierName":"i"},"name":"i"}],"trailingComments":null},"trailingComments":null}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" no activity for background/stroma","start":5510,"end":5546,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":38}}}]},{"type":"IfStatement","start":5549,"end":5573,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":26}},"test":{"type":"BinaryExpression","start":5553,"end":5559,"loc":{"start":{"line":142,"column":6},"end":{"line":142,"column":12}},"left":{"type":"Identifier","start":5553,"end":5554,"loc":{"start":{"line":142,"column":6},"end":{"line":142,"column":7},"identifierName":"t"},"name":"t","leadingComments":null},"operator":"<=","right":{"type":"NumericLiteral","start":5558,"end":5559,"loc":{"start":{"line":142,"column":11},"end":{"line":142,"column":12}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null},"consequent":{"type":"BlockStatement","start":5561,"end":5573,"loc":{"start":{"line":142,"column":14},"end":{"line":142,"column":26}},"body":[{"type":"ReturnStatement","start":5563,"end":5571,"loc":{"start":{"line":142,"column":16},"end":{"line":142,"column":24}},"argument":{"type":"NumericLiteral","start":5570,"end":5571,"loc":{"start":{"line":142,"column":23},"end":{"line":142,"column":24}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"directives":[],"trailingComments":null},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" no activity for background/stroma","start":5510,"end":5546,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":38}}}],"trailingComments":[{"type":"CommentLine","value":" neighborhood pixels","start":5579,"end":5601,"loc":{"start":{"line":144,"column":2},"end":{"line":144,"column":24}}}]},{"type":"VariableDeclaration","start":5604,"end":5630,"loc":{"start":{"line":145,"column":2},"end":{"line":145,"column":28}},"declarations":[{"type":"VariableDeclarator","start":5610,"end":5630,"loc":{"start":{"line":145,"column":8},"end":{"line":145,"column":28}},"id":{"type":"Identifier","start":5610,"end":5611,"loc":{"start":{"line":145,"column":8},"end":{"line":145,"column":9},"identifierName":"N"},"name":"N","leadingComments":null},"init":{"type":"CallExpression","start":5614,"end":5630,"loc":{"start":{"line":145,"column":12},"end":{"line":145,"column":28}},"callee":{"type":"MemberExpression","start":5614,"end":5627,"loc":{"start":{"line":145,"column":12},"end":{"line":145,"column":25}},"object":{"type":"MemberExpression","start":5614,"end":5620,"loc":{"start":{"line":145,"column":12},"end":{"line":145,"column":18}},"object":{"type":"ThisExpression","start":5614,"end":5618,"loc":{"start":{"line":145,"column":12},"end":{"line":145,"column":16}}},"property":{"type":"Identifier","start":5619,"end":5620,"loc":{"start":{"line":145,"column":17},"end":{"line":145,"column":18},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":5621,"end":5627,"loc":{"start":{"line":145,"column":19},"end":{"line":145,"column":25},"identifierName":"neighi"},"name":"neighi"},"computed":false},"arguments":[{"type":"Identifier","start":5628,"end":5629,"loc":{"start":{"line":145,"column":26},"end":{"line":145,"column":27},"identifierName":"i"},"name":"i"}],"trailingComments":null},"leadingComments":null,"trailingComments":null}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" neighborhood pixels","start":5579,"end":5601,"loc":{"start":{"line":144,"column":2},"end":{"line":144,"column":24}}}],"trailingComments":[{"type":"CommentLine","value":" r activity summed, nN number of neighbors","start":5636,"end":5680,"loc":{"start":{"line":147,"column":2},"end":{"line":147,"column":46}}},{"type":"CommentLine","value":" we start with the current pixel. ","start":5683,"end":5719,"loc":{"start":{"line":148,"column":2},"end":{"line":148,"column":38}}}]},{"type":"VariableDeclaration","start":5722,"end":5751,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":31}},"declarations":[{"type":"VariableDeclarator","start":5726,"end":5743,"loc":{"start":{"line":149,"column":6},"end":{"line":149,"column":23}},"id":{"type":"Identifier","start":5726,"end":5727,"loc":{"start":{"line":149,"column":6},"end":{"line":149,"column":7},"identifierName":"r"},"name":"r","leadingComments":null},"init":{"type":"CallExpression","start":5730,"end":5743,"loc":{"start":{"line":149,"column":10},"end":{"line":149,"column":23}},"callee":{"type":"MemberExpression","start":5730,"end":5740,"loc":{"start":{"line":149,"column":10},"end":{"line":149,"column":20}},"object":{"type":"ThisExpression","start":5730,"end":5734,"loc":{"start":{"line":149,"column":10},"end":{"line":149,"column":14}}},"property":{"type":"Identifier","start":5735,"end":5740,"loc":{"start":{"line":149,"column":15},"end":{"line":149,"column":20},"identifierName":"pxact"},"name":"pxact"},"computed":false},"arguments":[{"type":"Identifier","start":5741,"end":5742,"loc":{"start":{"line":149,"column":21},"end":{"line":149,"column":22},"identifierName":"i"},"name":"i"}]},"leadingComments":null},{"type":"VariableDeclarator","start":5745,"end":5751,"loc":{"start":{"line":149,"column":25},"end":{"line":149,"column":31}},"id":{"type":"Identifier","start":5745,"end":5747,"loc":{"start":{"line":149,"column":25},"end":{"line":149,"column":27},"identifierName":"nN"},"name":"nN"},"init":{"type":"NumericLiteral","start":5750,"end":5751,"loc":{"start":{"line":149,"column":30},"end":{"line":149,"column":31}},"extra":{"rawValue":1,"raw":"1"},"value":1,"leadingComments":null,"trailingComments":null},"trailingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" r activity summed, nN number of neighbors","start":5636,"end":5680,"loc":{"start":{"line":147,"column":2},"end":{"line":147,"column":46}}},{"type":"CommentLine","value":" we start with the current pixel. ","start":5683,"end":5719,"loc":{"start":{"line":148,"column":2},"end":{"line":148,"column":38}}}],"trailingComments":[{"type":"CommentLine","value":" loop over neighbor pixels","start":5757,"end":5785,"loc":{"start":{"line":151,"column":2},"end":{"line":151,"column":30}}}]},{"type":"ForStatement","start":5788,"end":5999,"loc":{"start":{"line":152,"column":2},"end":{"line":160,"column":3}},"init":{"type":"VariableDeclaration","start":5793,"end":5802,"loc":{"start":{"line":152,"column":7},"end":{"line":152,"column":16}},"declarations":[{"type":"VariableDeclarator","start":5797,"end":5802,"loc":{"start":{"line":152,"column":11},"end":{"line":152,"column":16}},"id":{"type":"Identifier","start":5797,"end":5798,"loc":{"start":{"line":152,"column":11},"end":{"line":152,"column":12},"identifierName":"j"},"name":"j","leadingComments":null},"init":{"type":"NumericLiteral","start":5801,"end":5802,"loc":{"start":{"line":152,"column":15},"end":{"line":152,"column":16}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null}],"kind":"let","leadingComments":null},"test":{"type":"BinaryExpression","start":5805,"end":5817,"loc":{"start":{"line":152,"column":19},"end":{"line":152,"column":31}},"left":{"type":"Identifier","start":5805,"end":5806,"loc":{"start":{"line":152,"column":19},"end":{"line":152,"column":20},"identifierName":"j"},"name":"j"},"operator":"<","right":{"type":"MemberExpression","start":5809,"end":5817,"loc":{"start":{"line":152,"column":23},"end":{"line":152,"column":31}},"object":{"type":"Identifier","start":5809,"end":5810,"loc":{"start":{"line":152,"column":23},"end":{"line":152,"column":24},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":5811,"end":5817,"loc":{"start":{"line":152,"column":25},"end":{"line":152,"column":31},"identifierName":"length"},"name":"length"},"computed":false}},"update":{"type":"UpdateExpression","start":5820,"end":5824,"loc":{"start":{"line":152,"column":34},"end":{"line":152,"column":38}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":5820,"end":5821,"loc":{"start":{"line":152,"column":34},"end":{"line":152,"column":35},"identifierName":"j"},"name":"j"}},"body":{"type":"BlockStatement","start":5826,"end":5999,"loc":{"start":{"line":152,"column":40},"end":{"line":160,"column":3}},"body":[{"type":"VariableDeclaration","start":5832,"end":5863,"loc":{"start":{"line":153,"column":3},"end":{"line":153,"column":34}},"declarations":[{"type":"VariableDeclarator","start":5838,"end":5863,"loc":{"start":{"line":153,"column":9},"end":{"line":153,"column":34}},"id":{"type":"Identifier","start":5838,"end":5840,"loc":{"start":{"line":153,"column":9},"end":{"line":153,"column":11},"identifierName":"tn"},"name":"tn"},"init":{"type":"CallExpression","start":5843,"end":5863,"loc":{"start":{"line":153,"column":14},"end":{"line":153,"column":34}},"callee":{"type":"MemberExpression","start":5843,"end":5855,"loc":{"start":{"line":153,"column":14},"end":{"line":153,"column":26}},"object":{"type":"MemberExpression","start":5843,"end":5849,"loc":{"start":{"line":153,"column":14},"end":{"line":153,"column":20}},"object":{"type":"ThisExpression","start":5843,"end":5847,"loc":{"start":{"line":153,"column":14},"end":{"line":153,"column":18}}},"property":{"type":"Identifier","start":5848,"end":5849,"loc":{"start":{"line":153,"column":19},"end":{"line":153,"column":20},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":5850,"end":5855,"loc":{"start":{"line":153,"column":21},"end":{"line":153,"column":26},"identifierName":"pixti"},"name":"pixti"},"computed":false},"arguments":[{"type":"MemberExpression","start":5857,"end":5861,"loc":{"start":{"line":153,"column":28},"end":{"line":153,"column":32}},"object":{"type":"Identifier","start":5857,"end":5858,"loc":{"start":{"line":153,"column":28},"end":{"line":153,"column":29},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":5859,"end":5860,"loc":{"start":{"line":153,"column":30},"end":{"line":153,"column":31},"identifierName":"j"},"name":"j"},"computed":true}],"trailingComments":null},"trailingComments":null}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" a neighbor only contributes if it belongs to the same cell","start":5872,"end":5933,"loc":{"start":{"line":155,"column":3},"end":{"line":155,"column":64}}}]},{"type":"IfStatement","start":5937,"end":5995,"loc":{"start":{"line":156,"column":3},"end":{"line":159,"column":4}},"test":{"type":"BinaryExpression","start":5941,"end":5948,"loc":{"start":{"line":156,"column":7},"end":{"line":156,"column":14}},"left":{"type":"Identifier","start":5941,"end":5943,"loc":{"start":{"line":156,"column":7},"end":{"line":156,"column":9},"identifierName":"tn"},"name":"tn","leadingComments":null},"operator":"==","right":{"type":"Identifier","start":5947,"end":5948,"loc":{"start":{"line":156,"column":13},"end":{"line":156,"column":14},"identifierName":"t"},"name":"t"},"leadingComments":null},"consequent":{"type":"BlockStatement","start":5950,"end":5995,"loc":{"start":{"line":156,"column":16},"end":{"line":159,"column":4}},"body":[{"type":"ExpressionStatement","start":5956,"end":5979,"loc":{"start":{"line":157,"column":4},"end":{"line":157,"column":27}},"expression":{"type":"AssignmentExpression","start":5956,"end":5979,"loc":{"start":{"line":157,"column":4},"end":{"line":157,"column":27}},"operator":"+=","left":{"type":"Identifier","start":5956,"end":5957,"loc":{"start":{"line":157,"column":4},"end":{"line":157,"column":5},"identifierName":"r"},"name":"r"},"right":{"type":"CallExpression","start":5961,"end":5979,"loc":{"start":{"line":157,"column":9},"end":{"line":157,"column":27}},"callee":{"type":"MemberExpression","start":5961,"end":5971,"loc":{"start":{"line":157,"column":9},"end":{"line":157,"column":19}},"object":{"type":"ThisExpression","start":5961,"end":5965,"loc":{"start":{"line":157,"column":9},"end":{"line":157,"column":13}}},"property":{"type":"Identifier","start":5966,"end":5971,"loc":{"start":{"line":157,"column":14},"end":{"line":157,"column":19},"identifierName":"pxact"},"name":"pxact"},"computed":false},"arguments":[{"type":"MemberExpression","start":5973,"end":5977,"loc":{"start":{"line":157,"column":21},"end":{"line":157,"column":25}},"object":{"type":"Identifier","start":5973,"end":5974,"loc":{"start":{"line":157,"column":21},"end":{"line":157,"column":22},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":5975,"end":5976,"loc":{"start":{"line":157,"column":23},"end":{"line":157,"column":24},"identifierName":"j"},"name":"j"},"computed":true}]}}},{"type":"ExpressionStatement","start":5984,"end":5989,"loc":{"start":{"line":158,"column":4},"end":{"line":158,"column":9}},"expression":{"type":"UpdateExpression","start":5984,"end":5989,"loc":{"start":{"line":158,"column":4},"end":{"line":158,"column":9}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":5984,"end":5986,"loc":{"start":{"line":158,"column":4},"end":{"line":158,"column":6},"identifierName":"nN"},"name":"nN"}}}],"directives":[]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" a neighbor only contributes if it belongs to the same cell","start":5872,"end":5933,"loc":{"start":{"line":155,"column":3},"end":{"line":155,"column":64}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentLine","value":" loop over neighbor pixels","start":5757,"end":5785,"loc":{"start":{"line":151,"column":2},"end":{"line":151,"column":30}}}],"trailingComments":[{"type":"CommentLine","value":" average is summed r divided by num neighbors.","start":6003,"end":6051,"loc":{"start":{"line":162,"column":2},"end":{"line":162,"column":50}}}]},{"type":"ReturnStatement","start":6054,"end":6065,"loc":{"start":{"line":163,"column":2},"end":{"line":163,"column":13}},"argument":{"type":"BinaryExpression","start":6061,"end":6065,"loc":{"start":{"line":163,"column":9},"end":{"line":163,"column":13}},"left":{"type":"Identifier","start":6061,"end":6062,"loc":{"start":{"line":163,"column":9},"end":{"line":163,"column":10},"identifierName":"r"},"name":"r","leadingComments":null},"operator":"/","right":{"type":"Identifier","start":6063,"end":6065,"loc":{"start":{"line":163,"column":11},"end":{"line":163,"column":13},"identifierName":"nN"},"name":"nN"},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" average is summed r divided by num neighbors.","start":6003,"end":6051,"loc":{"start":{"line":162,"column":2},"end":{"line":162,"column":50}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* Activity mean computation methods for arithmetic mean. It computes the mean activity\n\t\tof a pixel and all its neighbors belonging to the same cell.\n\t\t\n\t\tThis method is generally called indirectly via {@link activityAt}, which is set\n\t\tbased on the value of ACT_MEAN in the configuration object given to the constructor.\n\t\t\n\t\t@param {IndexCoordinate} i - pixel to evaluate local activity at.\n\t\t@return {number} the arithmetic mean of activities in this part of the cell.\n\t\t@private\n\t","start":4963,"end":5451,"loc":{"start":{"line":128,"column":1},"end":{"line":137,"column":3}}}],"trailingComments":[{"type":"CommentBlock","value":"* Activity mean computation methods for geometric mean. It computes the mean activity\n\t\tof a pixel and all its neighbors belonging to the same cell.\n\t\t\n\t\tThis method is generally called indirectly via {@link activityAt}, which is set\n\t\tbased on the value of ACT_MEAN in the configuration object given to the constructor.\n\t\t\n\t\t@param {IndexCoordinate} i - pixel to evaluate local activity at.\n\t\t@return {number} the geometric mean of activities in this part of the cell.\n\t\t@private\n\t","start":6070,"end":6556,"loc":{"start":{"line":165,"column":1},"end":{"line":174,"column":3}}}]},{"type":"ClassMethod","start":6558,"end":7310,"loc":{"start":{"line":175,"column":1},"end":{"line":204,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":6558,"end":6572,"loc":{"start":{"line":175,"column":1},"end":{"line":175,"column":15},"identifierName":"activityAtGeom"},"name":"activityAtGeom","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":6575,"end":6576,"loc":{"start":{"line":175,"column":18},"end":{"line":175,"column":19},"identifierName":"i"},"name":"i"}],"body":{"type":"BlockStatement","start":6578,"end":7310,"loc":{"start":{"line":175,"column":21},"end":{"line":204,"column":2}},"body":[{"type":"VariableDeclaration","start":6582,"end":6609,"loc":{"start":{"line":176,"column":2},"end":{"line":176,"column":29}},"declarations":[{"type":"VariableDeclarator","start":6588,"end":6609,"loc":{"start":{"line":176,"column":8},"end":{"line":176,"column":29}},"id":{"type":"Identifier","start":6588,"end":6589,"loc":{"start":{"line":176,"column":8},"end":{"line":176,"column":9},"identifierName":"t"},"name":"t"},"init":{"type":"CallExpression","start":6592,"end":6609,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":29}},"callee":{"type":"MemberExpression","start":6592,"end":6604,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":24}},"object":{"type":"MemberExpression","start":6592,"end":6598,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":18}},"object":{"type":"ThisExpression","start":6592,"end":6596,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":16}}},"property":{"type":"Identifier","start":6597,"end":6598,"loc":{"start":{"line":176,"column":17},"end":{"line":176,"column":18},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":6599,"end":6604,"loc":{"start":{"line":176,"column":19},"end":{"line":176,"column":24},"identifierName":"pixti"},"name":"pixti"},"computed":false},"arguments":[{"type":"Identifier","start":6606,"end":6607,"loc":{"start":{"line":176,"column":26},"end":{"line":176,"column":27},"identifierName":"i"},"name":"i"}],"trailingComments":null},"trailingComments":null}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" no activity for background/stroma","start":6613,"end":6649,"loc":{"start":{"line":178,"column":2},"end":{"line":178,"column":38}}}]},{"type":"IfStatement","start":6652,"end":6676,"loc":{"start":{"line":179,"column":2},"end":{"line":179,"column":26}},"test":{"type":"BinaryExpression","start":6656,"end":6662,"loc":{"start":{"line":179,"column":6},"end":{"line":179,"column":12}},"left":{"type":"Identifier","start":6656,"end":6657,"loc":{"start":{"line":179,"column":6},"end":{"line":179,"column":7},"identifierName":"t"},"name":"t","leadingComments":null},"operator":"<=","right":{"type":"NumericLiteral","start":6661,"end":6662,"loc":{"start":{"line":179,"column":11},"end":{"line":179,"column":12}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null},"consequent":{"type":"BlockStatement","start":6664,"end":6676,"loc":{"start":{"line":179,"column":14},"end":{"line":179,"column":26}},"body":[{"type":"ReturnStatement","start":6666,"end":6674,"loc":{"start":{"line":179,"column":16},"end":{"line":179,"column":24}},"argument":{"type":"NumericLiteral","start":6673,"end":6674,"loc":{"start":{"line":179,"column":23},"end":{"line":179,"column":24}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"directives":[],"trailingComments":null},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" no activity for background/stroma","start":6613,"end":6649,"loc":{"start":{"line":178,"column":2},"end":{"line":178,"column":38}}}],"trailingComments":[{"type":"CommentLine","value":"neighborhood pixels","start":6682,"end":6703,"loc":{"start":{"line":181,"column":2},"end":{"line":181,"column":23}}}]},{"type":"VariableDeclaration","start":6706,"end":6734,"loc":{"start":{"line":182,"column":2},"end":{"line":182,"column":30}},"declarations":[{"type":"VariableDeclarator","start":6712,"end":6734,"loc":{"start":{"line":182,"column":8},"end":{"line":182,"column":30}},"id":{"type":"Identifier","start":6712,"end":6713,"loc":{"start":{"line":182,"column":8},"end":{"line":182,"column":9},"identifierName":"N"},"name":"N","leadingComments":null},"init":{"type":"CallExpression","start":6716,"end":6734,"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":30}},"callee":{"type":"MemberExpression","start":6716,"end":6729,"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":25}},"object":{"type":"MemberExpression","start":6716,"end":6722,"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":18}},"object":{"type":"ThisExpression","start":6716,"end":6720,"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":16}}},"property":{"type":"Identifier","start":6721,"end":6722,"loc":{"start":{"line":182,"column":17},"end":{"line":182,"column":18},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":6723,"end":6729,"loc":{"start":{"line":182,"column":19},"end":{"line":182,"column":25},"identifierName":"neighi"},"name":"neighi"},"computed":false},"arguments":[{"type":"Identifier","start":6731,"end":6732,"loc":{"start":{"line":182,"column":27},"end":{"line":182,"column":28},"identifierName":"i"},"name":"i"}],"trailingComments":null},"leadingComments":null,"trailingComments":null}],"kind":"const","leadingComments":[{"type":"CommentLine","value":"neighborhood pixels","start":6682,"end":6703,"loc":{"start":{"line":181,"column":2},"end":{"line":181,"column":23}}}],"trailingComments":[{"type":"CommentLine","value":" r activity product, nN number of neighbors.","start":6740,"end":6786,"loc":{"start":{"line":184,"column":2},"end":{"line":184,"column":48}}},{"type":"CommentLine","value":" we start with the current pixel.","start":6789,"end":6824,"loc":{"start":{"line":185,"column":2},"end":{"line":185,"column":37}}}]},{"type":"VariableDeclaration","start":6827,"end":6858,"loc":{"start":{"line":186,"column":2},"end":{"line":186,"column":33}},"declarations":[{"type":"VariableDeclarator","start":6831,"end":6837,"loc":{"start":{"line":186,"column":6},"end":{"line":186,"column":12}},"id":{"type":"Identifier","start":6831,"end":6833,"loc":{"start":{"line":186,"column":6},"end":{"line":186,"column":8},"identifierName":"nN"},"name":"nN","leadingComments":null},"init":{"type":"NumericLiteral","start":6836,"end":6837,"loc":{"start":{"line":186,"column":11},"end":{"line":186,"column":12}},"extra":{"rawValue":1,"raw":"1"},"value":1},"leadingComments":null},{"type":"VariableDeclarator","start":6839,"end":6858,"loc":{"start":{"line":186,"column":14},"end":{"line":186,"column":33}},"id":{"type":"Identifier","start":6839,"end":6840,"loc":{"start":{"line":186,"column":14},"end":{"line":186,"column":15},"identifierName":"r"},"name":"r"},"init":{"type":"CallExpression","start":6843,"end":6858,"loc":{"start":{"line":186,"column":18},"end":{"line":186,"column":33}},"callee":{"type":"MemberExpression","start":6843,"end":6853,"loc":{"start":{"line":186,"column":18},"end":{"line":186,"column":28}},"object":{"type":"ThisExpression","start":6843,"end":6847,"loc":{"start":{"line":186,"column":18},"end":{"line":186,"column":22}}},"property":{"type":"Identifier","start":6848,"end":6853,"loc":{"start":{"line":186,"column":23},"end":{"line":186,"column":28},"identifierName":"pxact"},"name":"pxact"},"computed":false},"arguments":[{"type":"Identifier","start":6855,"end":6856,"loc":{"start":{"line":186,"column":30},"end":{"line":186,"column":31},"identifierName":"i"},"name":"i"}],"trailingComments":null},"trailingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" r activity product, nN number of neighbors.","start":6740,"end":6786,"loc":{"start":{"line":184,"column":2},"end":{"line":184,"column":48}}},{"type":"CommentLine","value":" we start with the current pixel.","start":6789,"end":6824,"loc":{"start":{"line":185,"column":2},"end":{"line":185,"column":37}}}],"trailingComments":[{"type":"CommentLine","value":" loop over neighbor pixels","start":6862,"end":6890,"loc":{"start":{"line":188,"column":2},"end":{"line":188,"column":30}}}]},{"type":"ForStatement","start":6893,"end":7244,"loc":{"start":{"line":189,"column":2},"end":{"line":200,"column":3}},"init":{"type":"VariableDeclaration","start":6898,"end":6907,"loc":{"start":{"line":189,"column":7},"end":{"line":189,"column":16}},"declarations":[{"type":"VariableDeclarator","start":6902,"end":6907,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":16}},"id":{"type":"Identifier","start":6902,"end":6903,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":12},"identifierName":"j"},"name":"j","leadingComments":null},"init":{"type":"NumericLiteral","start":6906,"end":6907,"loc":{"start":{"line":189,"column":15},"end":{"line":189,"column":16}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null}],"kind":"let","leadingComments":null},"test":{"type":"BinaryExpression","start":6910,"end":6922,"loc":{"start":{"line":189,"column":19},"end":{"line":189,"column":31}},"left":{"type":"Identifier","start":6910,"end":6911,"loc":{"start":{"line":189,"column":19},"end":{"line":189,"column":20},"identifierName":"j"},"name":"j"},"operator":"<","right":{"type":"MemberExpression","start":6914,"end":6922,"loc":{"start":{"line":189,"column":23},"end":{"line":189,"column":31}},"object":{"type":"Identifier","start":6914,"end":6915,"loc":{"start":{"line":189,"column":23},"end":{"line":189,"column":24},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":6916,"end":6922,"loc":{"start":{"line":189,"column":25},"end":{"line":189,"column":31},"identifierName":"length"},"name":"length"},"computed":false}},"update":{"type":"UpdateExpression","start":6925,"end":6929,"loc":{"start":{"line":189,"column":34},"end":{"line":189,"column":38}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":6925,"end":6926,"loc":{"start":{"line":189,"column":34},"end":{"line":189,"column":35},"identifierName":"j"},"name":"j"}},"body":{"type":"BlockStatement","start":6931,"end":7244,"loc":{"start":{"line":189,"column":40},"end":{"line":200,"column":3}},"body":[{"type":"VariableDeclaration","start":6937,"end":6968,"loc":{"start":{"line":190,"column":3},"end":{"line":190,"column":34}},"declarations":[{"type":"VariableDeclarator","start":6943,"end":6968,"loc":{"start":{"line":190,"column":9},"end":{"line":190,"column":34}},"id":{"type":"Identifier","start":6943,"end":6945,"loc":{"start":{"line":190,"column":9},"end":{"line":190,"column":11},"identifierName":"tn"},"name":"tn"},"init":{"type":"CallExpression","start":6948,"end":6968,"loc":{"start":{"line":190,"column":14},"end":{"line":190,"column":34}},"callee":{"type":"MemberExpression","start":6948,"end":6960,"loc":{"start":{"line":190,"column":14},"end":{"line":190,"column":26}},"object":{"type":"MemberExpression","start":6948,"end":6954,"loc":{"start":{"line":190,"column":14},"end":{"line":190,"column":20}},"object":{"type":"ThisExpression","start":6948,"end":6952,"loc":{"start":{"line":190,"column":14},"end":{"line":190,"column":18}}},"property":{"type":"Identifier","start":6953,"end":6954,"loc":{"start":{"line":190,"column":19},"end":{"line":190,"column":20},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":6955,"end":6960,"loc":{"start":{"line":190,"column":21},"end":{"line":190,"column":26},"identifierName":"pixti"},"name":"pixti"},"computed":false},"arguments":[{"type":"MemberExpression","start":6962,"end":6966,"loc":{"start":{"line":190,"column":28},"end":{"line":190,"column":32}},"object":{"type":"Identifier","start":6962,"end":6963,"loc":{"start":{"line":190,"column":28},"end":{"line":190,"column":29},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":6964,"end":6965,"loc":{"start":{"line":190,"column":30},"end":{"line":190,"column":31},"identifierName":"j"},"name":"j"},"computed":true}],"trailingComments":null},"trailingComments":null}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" a neighbor only contributes if it belongs to the same cell.","start":6974,"end":7036,"loc":{"start":{"line":192,"column":3},"end":{"line":192,"column":65}}},{"type":"CommentLine","value":" if it does and has activity 0, the product will also be zero so","start":7040,"end":7106,"loc":{"start":{"line":193,"column":3},"end":{"line":193,"column":69}}},{"type":"CommentLine","value":" we can already return.","start":7110,"end":7135,"loc":{"start":{"line":194,"column":3},"end":{"line":194,"column":28}}}]},{"type":"IfStatement","start":7139,"end":7240,"loc":{"start":{"line":195,"column":3},"end":{"line":199,"column":4}},"test":{"type":"BinaryExpression","start":7143,"end":7150,"loc":{"start":{"line":195,"column":7},"end":{"line":195,"column":14}},"left":{"type":"Identifier","start":7143,"end":7145,"loc":{"start":{"line":195,"column":7},"end":{"line":195,"column":9},"identifierName":"tn"},"name":"tn","leadingComments":null},"operator":"==","right":{"type":"Identifier","start":7149,"end":7150,"loc":{"start":{"line":195,"column":13},"end":{"line":195,"column":14},"identifierName":"t"},"name":"t"},"leadingComments":null},"consequent":{"type":"BlockStatement","start":7152,"end":7240,"loc":{"start":{"line":195,"column":16},"end":{"line":199,"column":4}},"body":[{"type":"IfStatement","start":7158,"end":7196,"loc":{"start":{"line":196,"column":4},"end":{"line":196,"column":42}},"test":{"type":"BinaryExpression","start":7162,"end":7185,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":31}},"left":{"type":"CallExpression","start":7162,"end":7180,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":26}},"callee":{"type":"MemberExpression","start":7162,"end":7172,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":18}},"object":{"type":"ThisExpression","start":7162,"end":7166,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":12}}},"property":{"type":"Identifier","start":7167,"end":7172,"loc":{"start":{"line":196,"column":13},"end":{"line":196,"column":18},"identifierName":"pxact"},"name":"pxact"},"computed":false},"arguments":[{"type":"MemberExpression","start":7174,"end":7178,"loc":{"start":{"line":196,"column":20},"end":{"line":196,"column":24}},"object":{"type":"Identifier","start":7174,"end":7175,"loc":{"start":{"line":196,"column":20},"end":{"line":196,"column":21},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":7176,"end":7177,"loc":{"start":{"line":196,"column":22},"end":{"line":196,"column":23},"identifierName":"j"},"name":"j"},"computed":true}]},"operator":"==","right":{"type":"NumericLiteral","start":7184,"end":7185,"loc":{"start":{"line":196,"column":30},"end":{"line":196,"column":31}},"extra":{"rawValue":0,"raw":"0"},"value":0}},"consequent":{"type":"ReturnStatement","start":7188,"end":7196,"loc":{"start":{"line":196,"column":34},"end":{"line":196,"column":42}},"argument":{"type":"NumericLiteral","start":7195,"end":7196,"loc":{"start":{"line":196,"column":41},"end":{"line":196,"column":42}},"extra":{"rawValue":0,"raw":"0"},"value":0}},"alternate":null},{"type":"ExpressionStatement","start":7201,"end":7224,"loc":{"start":{"line":197,"column":4},"end":{"line":197,"column":27}},"expression":{"type":"AssignmentExpression","start":7201,"end":7224,"loc":{"start":{"line":197,"column":4},"end":{"line":197,"column":27}},"operator":"*=","left":{"type":"Identifier","start":7201,"end":7202,"loc":{"start":{"line":197,"column":4},"end":{"line":197,"column":5},"identifierName":"r"},"name":"r"},"right":{"type":"CallExpression","start":7206,"end":7224,"loc":{"start":{"line":197,"column":9},"end":{"line":197,"column":27}},"callee":{"type":"MemberExpression","start":7206,"end":7216,"loc":{"start":{"line":197,"column":9},"end":{"line":197,"column":19}},"object":{"type":"ThisExpression","start":7206,"end":7210,"loc":{"start":{"line":197,"column":9},"end":{"line":197,"column":13}}},"property":{"type":"Identifier","start":7211,"end":7216,"loc":{"start":{"line":197,"column":14},"end":{"line":197,"column":19},"identifierName":"pxact"},"name":"pxact"},"computed":false},"arguments":[{"type":"MemberExpression","start":7218,"end":7222,"loc":{"start":{"line":197,"column":21},"end":{"line":197,"column":25}},"object":{"type":"Identifier","start":7218,"end":7219,"loc":{"start":{"line":197,"column":21},"end":{"line":197,"column":22},"identifierName":"N"},"name":"N"},"property":{"type":"Identifier","start":7220,"end":7221,"loc":{"start":{"line":197,"column":23},"end":{"line":197,"column":24},"identifierName":"j"},"name":"j"},"computed":true}]}}},{"type":"ExpressionStatement","start":7229,"end":7234,"loc":{"start":{"line":198,"column":4},"end":{"line":198,"column":9}},"expression":{"type":"UpdateExpression","start":7229,"end":7234,"loc":{"start":{"line":198,"column":4},"end":{"line":198,"column":9}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":7229,"end":7231,"loc":{"start":{"line":198,"column":4},"end":{"line":198,"column":6},"identifierName":"nN"},"name":"nN"}}}],"directives":[]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" a neighbor only contributes if it belongs to the same cell.","start":6974,"end":7036,"loc":{"start":{"line":192,"column":3},"end":{"line":192,"column":65}}},{"type":"CommentLine","value":" if it does and has activity 0, the product will also be zero so","start":7040,"end":7106,"loc":{"start":{"line":193,"column":3},"end":{"line":193,"column":69}}},{"type":"CommentLine","value":" we can already return.","start":7110,"end":7135,"loc":{"start":{"line":194,"column":3},"end":{"line":194,"column":28}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentLine","value":" loop over neighbor pixels","start":6862,"end":6890,"loc":{"start":{"line":188,"column":2},"end":{"line":188,"column":30}}}],"trailingComments":[{"type":"CommentLine","value":" Geometric mean computation. ","start":7250,"end":7281,"loc":{"start":{"line":202,"column":2},"end":{"line":202,"column":33}}}]},{"type":"ReturnStatement","start":7284,"end":7307,"loc":{"start":{"line":203,"column":2},"end":{"line":203,"column":25}},"argument":{"type":"CallExpression","start":7291,"end":7307,"loc":{"start":{"line":203,"column":9},"end":{"line":203,"column":25}},"callee":{"type":"MemberExpression","start":7291,"end":7299,"loc":{"start":{"line":203,"column":9},"end":{"line":203,"column":17}},"object":{"type":"Identifier","start":7291,"end":7295,"loc":{"start":{"line":203,"column":9},"end":{"line":203,"column":13},"identifierName":"Math"},"name":"Math","leadingComments":null},"property":{"type":"Identifier","start":7296,"end":7299,"loc":{"start":{"line":203,"column":14},"end":{"line":203,"column":17},"identifierName":"pow"},"name":"pow"},"computed":false,"leadingComments":null},"arguments":[{"type":"Identifier","start":7300,"end":7301,"loc":{"start":{"line":203,"column":18},"end":{"line":203,"column":19},"identifierName":"r"},"name":"r"},{"type":"BinaryExpression","start":7302,"end":7306,"loc":{"start":{"line":203,"column":20},"end":{"line":203,"column":24}},"left":{"type":"NumericLiteral","start":7302,"end":7303,"loc":{"start":{"line":203,"column":20},"end":{"line":203,"column":21}},"extra":{"rawValue":1,"raw":"1"},"value":1},"operator":"/","right":{"type":"Identifier","start":7304,"end":7306,"loc":{"start":{"line":203,"column":22},"end":{"line":203,"column":24},"identifierName":"nN"},"name":"nN"}}],"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" Geometric mean computation. ","start":7250,"end":7281,"loc":{"start":{"line":202,"column":2},"end":{"line":202,"column":33}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* Activity mean computation methods for geometric mean. It computes the mean activity\n\t\tof a pixel and all its neighbors belonging to the same cell.\n\t\t\n\t\tThis method is generally called indirectly via {@link activityAt}, which is set\n\t\tbased on the value of ACT_MEAN in the configuration object given to the constructor.\n\t\t\n\t\t@param {IndexCoordinate} i - pixel to evaluate local activity at.\n\t\t@return {number} the geometric mean of activities in this part of the cell.\n\t\t@private\n\t","start":6070,"end":6556,"loc":{"start":{"line":165,"column":1},"end":{"line":174,"column":3}}}],"trailingComments":[{"type":"CommentBlock","value":"* Current activity (under the Act model) of the pixel at position i. \n\t@param {IndexCoordinate} i the position of the pixel to evaluate the activity of.\n\t@return {number} the current activity of this pixel, which is >= 0.","start":7314,"end":7539,"loc":{"start":{"line":207,"column":1},"end":{"line":209,"column":70}}}]},{"type":"ClassMethod","start":7541,"end":7719,"loc":{"start":{"line":210,"column":1},"end":{"line":214,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":7541,"end":7546,"loc":{"start":{"line":210,"column":1},"end":{"line":210,"column":6},"identifierName":"pxact"},"name":"pxact","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":7549,"end":7550,"loc":{"start":{"line":210,"column":9},"end":{"line":210,"column":10},"identifierName":"i"},"name":"i"}],"body":{"type":"BlockStatement","start":7552,"end":7719,"loc":{"start":{"line":210,"column":12},"end":{"line":214,"column":2}},"body":[{"type":"ReturnStatement","start":7683,"end":7716,"loc":{"start":{"line":213,"column":2},"end":{"line":213,"column":35}},"argument":{"type":"LogicalExpression","start":7690,"end":7716,"loc":{"start":{"line":213,"column":9},"end":{"line":213,"column":35}},"left":{"type":"MemberExpression","start":7690,"end":7711,"loc":{"start":{"line":213,"column":9},"end":{"line":213,"column":30}},"object":{"type":"MemberExpression","start":7690,"end":7708,"loc":{"start":{"line":213,"column":9},"end":{"line":213,"column":27}},"object":{"type":"ThisExpression","start":7690,"end":7694,"loc":{"start":{"line":213,"column":9},"end":{"line":213,"column":13}},"leadingComments":null},"property":{"type":"Identifier","start":7695,"end":7708,"loc":{"start":{"line":213,"column":14},"end":{"line":213,"column":27},"identifierName":"cellpixelsact"},"name":"cellpixelsact"},"computed":false,"leadingComments":null},"property":{"type":"Identifier","start":7709,"end":7710,"loc":{"start":{"line":213,"column":28},"end":{"line":213,"column":29},"identifierName":"i"},"name":"i"},"computed":true,"leadingComments":null},"operator":"||","right":{"type":"NumericLiteral","start":7715,"end":7716,"loc":{"start":{"line":213,"column":34},"end":{"line":213,"column":35}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" If the pixel is not in the cellpixelsact object, it has activity 0.","start":7556,"end":7626,"loc":{"start":{"line":211,"column":2},"end":{"line":211,"column":72}}},{"type":"CommentLine","value":" Otherwise, its activity is stored in the object.","start":7629,"end":7680,"loc":{"start":{"line":212,"column":2},"end":{"line":212,"column":53}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* Current activity (under the Act model) of the pixel at position i. \n\t@param {IndexCoordinate} i the position of the pixel to evaluate the activity of.\n\t@return {number} the current activity of this pixel, which is >= 0.","start":7314,"end":7539,"loc":{"start":{"line":207,"column":1},"end":{"line":209,"column":70}}}],"trailingComments":[{"type":"CommentBlock","value":"* The postSetpixListener of the ActivityConstraint ensures that pixels are \n\tgiven their maximal activity when they are freshly added to a CPM.\n\t@listens {CPM#setpixi} because when a new pixel is set (which is determined in the CPM),\n\tits activity must change so that this class knows about the update.\n\t@param {IndexCoordinate} i - the coordinate of the pixel that is changed.\n\t@param {CellId} t_old - the cellid of this pixel before the copy\n\t@param {CellId} t - the cellid of this pixel after the copy.\n\t","start":7723,"end":8234,"loc":{"start":{"line":216,"column":1},"end":{"line":223,"column":3}}},{"type":"CommentBlock","value":" eslint-disable no-unused-vars","start":8236,"end":8270,"loc":{"start":{"line":224,"column":1},"end":{"line":224,"column":35}}}]},{"type":"ClassMethod","start":8272,"end":8439,"loc":{"start":{"line":225,"column":1},"end":{"line":228,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":8272,"end":8290,"loc":{"start":{"line":225,"column":1},"end":{"line":225,"column":19},"identifierName":"postSetpixListener"},"name":"postSetpixListener","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":8292,"end":8293,"loc":{"start":{"line":225,"column":21},"end":{"line":225,"column":22},"identifierName":"i"},"name":"i"},{"type":"Identifier","start":8295,"end":8300,"loc":{"start":{"line":225,"column":24},"end":{"line":225,"column":29},"identifierName":"t_old"},"name":"t_old"},{"type":"Identifier","start":8302,"end":8303,"loc":{"start":{"line":225,"column":31},"end":{"line":225,"column":32},"identifierName":"t"},"name":"t"}],"body":{"type":"BlockStatement","start":8305,"end":8439,"loc":{"start":{"line":225,"column":34},"end":{"line":228,"column":2}},"body":[{"type":"ExpressionStatement","start":8380,"end":8436,"loc":{"start":{"line":227,"column":2},"end":{"line":227,"column":58}},"expression":{"type":"AssignmentExpression","start":8380,"end":8436,"loc":{"start":{"line":227,"column":2},"end":{"line":227,"column":58}},"operator":"=","left":{"type":"MemberExpression","start":8380,"end":8401,"loc":{"start":{"line":227,"column":2},"end":{"line":227,"column":23}},"object":{"type":"MemberExpression","start":8380,"end":8398,"loc":{"start":{"line":227,"column":2},"end":{"line":227,"column":20}},"object":{"type":"ThisExpression","start":8380,"end":8384,"loc":{"start":{"line":227,"column":2},"end":{"line":227,"column":6}},"leadingComments":null},"property":{"type":"Identifier","start":8385,"end":8398,"loc":{"start":{"line":227,"column":7},"end":{"line":227,"column":20},"identifierName":"cellpixelsact"},"name":"cellpixelsact"},"computed":false,"leadingComments":null},"property":{"type":"Identifier","start":8399,"end":8400,"loc":{"start":{"line":227,"column":21},"end":{"line":227,"column":22},"identifierName":"i"},"name":"i"},"computed":true,"leadingComments":null},"right":{"type":"CallExpression","start":8404,"end":8436,"loc":{"start":{"line":227,"column":26},"end":{"line":227,"column":58}},"callee":{"type":"MemberExpression","start":8404,"end":8422,"loc":{"start":{"line":227,"column":26},"end":{"line":227,"column":44}},"object":{"type":"ThisExpression","start":8404,"end":8408,"loc":{"start":{"line":227,"column":26},"end":{"line":227,"column":30}}},"property":{"type":"Identifier","start":8409,"end":8422,"loc":{"start":{"line":227,"column":31},"end":{"line":227,"column":44},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":8423,"end":8432,"loc":{"start":{"line":227,"column":45},"end":{"line":227,"column":54}},"extra":{"rawValue":"MAX_ACT","raw":"\"MAX_ACT\""},"value":"MAX_ACT"},{"type":"Identifier","start":8434,"end":8435,"loc":{"start":{"line":227,"column":56},"end":{"line":227,"column":57},"identifierName":"t"},"name":"t"}]},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" After setting a pixel, it gets the MAX_ACT value of its cellkind.","start":8309,"end":8377,"loc":{"start":{"line":226,"column":2},"end":{"line":226,"column":70}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* The postSetpixListener of the ActivityConstraint ensures that pixels are \n\tgiven their maximal activity when they are freshly added to a CPM.\n\t@listens {CPM#setpixi} because when a new pixel is set (which is determined in the CPM),\n\tits activity must change so that this class knows about the update.\n\t@param {IndexCoordinate} i - the coordinate of the pixel that is changed.\n\t@param {CellId} t_old - the cellid of this pixel before the copy\n\t@param {CellId} t - the cellid of this pixel after the copy.\n\t","start":7723,"end":8234,"loc":{"start":{"line":216,"column":1},"end":{"line":223,"column":3}}},{"type":"CommentBlock","value":" eslint-disable no-unused-vars","start":8236,"end":8270,"loc":{"start":{"line":224,"column":1},"end":{"line":224,"column":35}}}],"trailingComments":[{"type":"CommentBlock","value":"* The postMCSListener of the ActivityConstraint ensures that pixel activities\n\tdecline with one after every MCS.\n\t@listens {CPM#timeStep} because when the CPM has finished an MCS, the activities must go down.\n\t","start":8443,"end":8657,"loc":{"start":{"line":230,"column":1},"end":{"line":233,"column":3}}}]},{"type":"ClassMethod","start":8659,"end":8939,"loc":{"start":{"line":234,"column":1},"end":{"line":242,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":8659,"end":8674,"loc":{"start":{"line":234,"column":1},"end":{"line":234,"column":16},"identifierName":"postMCSListener"},"name":"postMCSListener","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":8676,"end":8939,"loc":{"start":{"line":234,"column":18},"end":{"line":242,"column":2}},"body":[{"type":"ForInStatement","start":8748,"end":8936,"loc":{"start":{"line":236,"column":2},"end":{"line":241,"column":3}},"left":{"type":"VariableDeclaration","start":8753,"end":8760,"loc":{"start":{"line":236,"column":7},"end":{"line":236,"column":14}},"declarations":[{"type":"VariableDeclarator","start":8757,"end":8760,"loc":{"start":{"line":236,"column":11},"end":{"line":236,"column":14}},"id":{"type":"Identifier","start":8757,"end":8760,"loc":{"start":{"line":236,"column":11},"end":{"line":236,"column":14},"identifierName":"key"},"name":"key","leadingComments":null},"init":null,"leadingComments":null}],"kind":"let","leadingComments":null},"right":{"type":"MemberExpression","start":8764,"end":8782,"loc":{"start":{"line":236,"column":18},"end":{"line":236,"column":36}},"object":{"type":"ThisExpression","start":8764,"end":8768,"loc":{"start":{"line":236,"column":18},"end":{"line":236,"column":22}}},"property":{"type":"Identifier","start":8769,"end":8782,"loc":{"start":{"line":236,"column":23},"end":{"line":236,"column":36},"identifierName":"cellpixelsact"},"name":"cellpixelsact"},"computed":false},"body":{"type":"BlockStatement","start":8784,"end":8936,"loc":{"start":{"line":236,"column":38},"end":{"line":241,"column":3}},"body":[{"type":"IfStatement","start":8851,"end":8932,"loc":{"start":{"line":238,"column":3},"end":{"line":240,"column":4}},"test":{"type":"BinaryExpression","start":8855,"end":8887,"loc":{"start":{"line":238,"column":7},"end":{"line":238,"column":39}},"left":{"type":"UpdateExpression","start":8855,"end":8882,"loc":{"start":{"line":238,"column":7},"end":{"line":238,"column":34}},"operator":"--","prefix":true,"argument":{"type":"MemberExpression","start":8857,"end":8882,"loc":{"start":{"line":238,"column":9},"end":{"line":238,"column":34}},"object":{"type":"MemberExpression","start":8857,"end":8875,"loc":{"start":{"line":238,"column":9},"end":{"line":238,"column":27}},"object":{"type":"ThisExpression","start":8857,"end":8861,"loc":{"start":{"line":238,"column":9},"end":{"line":238,"column":13}},"leadingComments":null},"property":{"type":"Identifier","start":8862,"end":8875,"loc":{"start":{"line":238,"column":14},"end":{"line":238,"column":27},"identifierName":"cellpixelsact"},"name":"cellpixelsact"},"computed":false,"leadingComments":null},"property":{"type":"Identifier","start":8877,"end":8880,"loc":{"start":{"line":238,"column":29},"end":{"line":238,"column":32},"identifierName":"key"},"name":"key"},"computed":true,"leadingComments":null},"extra":{"parenthesizedArgument":false},"leadingComments":null},"operator":"<=","right":{"type":"NumericLiteral","start":8886,"end":8887,"loc":{"start":{"line":238,"column":38},"end":{"line":238,"column":39}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null},"consequent":{"type":"BlockStatement","start":8889,"end":8932,"loc":{"start":{"line":238,"column":41},"end":{"line":240,"column":4}},"body":[{"type":"ExpressionStatement","start":8895,"end":8927,"loc":{"start":{"line":239,"column":4},"end":{"line":239,"column":36}},"expression":{"type":"UnaryExpression","start":8895,"end":8927,"loc":{"start":{"line":239,"column":4},"end":{"line":239,"column":36}},"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":8902,"end":8927,"loc":{"start":{"line":239,"column":11},"end":{"line":239,"column":36}},"object":{"type":"MemberExpression","start":8902,"end":8920,"loc":{"start":{"line":239,"column":11},"end":{"line":239,"column":29}},"object":{"type":"ThisExpression","start":8902,"end":8906,"loc":{"start":{"line":239,"column":11},"end":{"line":239,"column":15}}},"property":{"type":"Identifier","start":8907,"end":8920,"loc":{"start":{"line":239,"column":16},"end":{"line":239,"column":29},"identifierName":"cellpixelsact"},"name":"cellpixelsact"},"computed":false},"property":{"type":"Identifier","start":8922,"end":8925,"loc":{"start":{"line":239,"column":31},"end":{"line":239,"column":34},"identifierName":"key"},"name":"key"},"computed":true},"extra":{"parenthesizedArgument":false}}}],"directives":[]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" activities that reach zero no longer need to be stored.","start":8789,"end":8847,"loc":{"start":{"line":237,"column":3},"end":{"line":237,"column":61}}}]}],"directives":[]},"leadingComments":[{"type":"CommentLine","value":" iterate over cellpixelsage and decrease all activities by one.","start":8680,"end":8745,"loc":{"start":{"line":235,"column":2},"end":{"line":235,"column":67}}}]}],"directives":[]},"leadingComments":[{"type":"CommentBlock","value":"* The postMCSListener of the ActivityConstraint ensures that pixel activities\n\tdecline with one after every MCS.\n\t@listens {CPM#timeStep} because when the CPM has finished an MCS, the activities must go down.\n\t","start":8443,"end":8657,"loc":{"start":{"line":230,"column":1},"end":{"line":233,"column":3}}}]}]},"leadingComments":[{"type":"CommentBlock","value":"* This class implements the activity constraint of Potts models published in:\n *\n *\tNiculescu I, Textor J, de Boer RJ (2015) \n *\tCrawling and Gliding: A Computational Model for Shape-Driven Cell Migration. \n *\tPLoS Comput Biol 11(10): e1004280. \n * \n * Pixels recently added to a cell get an \"activity\", which then declines with every MCS.\n * Copy attempts from more active into less active pixels have a higher success rate,\n * which puts a positive feedback on protrusive activity and leads to cell migration.\n * \n * This constraint is generally used together with {@link Adhesion}, {@link VolumeConstraint},\n * and {@link PerimeterConstraint}.\n * \n * @see https://doi.org/10.1371/journal.pcbi.1004280\n *\n * @example\n * // Build a CPM and add the constraint\n * let CPM = require( \"path/to/build\" )\n * let C = new CPM.CPM( [200,200], {\n * \tT : 20,\n * \tJ : [[0,20],[20,10]],\n * \tV : [0,500],\n * \tLAMBDA_V : [0,5],\n * \tP : [0,260],\n * \tLAMBDA_P : [0,2] \t\n * })\n * C.add( new CPM.ActivityConstraint( {\n * \tLAMBDA_ACT : [0,500],\n * \tMAX_ACT : [0,30],\n * \tACT_MEAN : \"geometric\"\n * } ) )\n * \n * // Or add automatically by entering the parameters in the CPM\n * let C2 = new CPM.CPM( [200,200], {\n * \tT : 20,\n * \tJ : [[0,20],[20,10]],\n * \tV : [0,500],\n * \tLAMBDA_V : [0,5],\n * \tP : [0,260],\n * \tLAMBDA_P : [0,2],\n * \tLAMBDA_ACT : [0,500],\n * \tMAX_ACT : [0,30],\n * \tACT_MEAN : \"geometric\"\t\n * })\n ","start":103,"end":1497,"loc":{"start":{"line":4,"column":0},"end":{"line":48,"column":3}}}],"__PseudoExport__":false,"trailingComments":[]},"leadingComments":null}],"directives":[]},"comments":[{"type":"CommentBlock","value":"* This class implements the activity constraint of Potts models published in:\n *\n *\tNiculescu I, Textor J, de Boer RJ (2015) \n *\tCrawling and Gliding: A Computational Model for Shape-Driven Cell Migration. \n *\tPLoS Comput Biol 11(10): e1004280. \n * \n * Pixels recently added to a cell get an \"activity\", which then declines with every MCS.\n * Copy attempts from more active into less active pixels have a higher success rate,\n * which puts a positive feedback on protrusive activity and leads to cell migration.\n * \n * This constraint is generally used together with {@link Adhesion}, {@link VolumeConstraint},\n * and {@link PerimeterConstraint}.\n * \n * @see https://doi.org/10.1371/journal.pcbi.1004280\n *\n * @example\n * // Build a CPM and add the constraint\n * let CPM = require( \"path/to/build\" )\n * let C = new CPM.CPM( [200,200], {\n * \tT : 20,\n * \tJ : [[0,20],[20,10]],\n * \tV : [0,500],\n * \tLAMBDA_V : [0,5],\n * \tP : [0,260],\n * \tLAMBDA_P : [0,2] \t\n * })\n * C.add( new CPM.ActivityConstraint( {\n * \tLAMBDA_ACT : [0,500],\n * \tMAX_ACT : [0,30],\n * \tACT_MEAN : \"geometric\"\n * } ) )\n * \n * // Or add automatically by entering the parameters in the CPM\n * let C2 = new CPM.CPM( [200,200], {\n * \tT : 20,\n * \tJ : [[0,20],[20,10]],\n * \tV : [0,500],\n * \tLAMBDA_V : [0,5],\n * \tP : [0,260],\n * \tLAMBDA_P : [0,2],\n * \tLAMBDA_ACT : [0,500],\n * \tMAX_ACT : [0,30],\n * \tACT_MEAN : \"geometric\"\t\n * })\n ","start":103,"end":1497,"loc":{"start":{"line":4,"column":0},"end":{"line":48,"column":3}}},{"type":"CommentBlock","value":"* The constructor of the ActivityConstraint requires a conf object with parameters.\n\t@param {object} conf - parameter object for this constraint\n\t@param {string} [conf.ACT_MEAN=\"geometric\"] - should local mean activity be measured with an\n\t\"arithmetic\" or a \"geometric\" mean?\n\t@param {PerKindNonNegative} conf.LAMBDA_ACT - strength of the activityconstraint per cellkind.\n\t@param {PerKindNonNegative} conf.MAX_ACT - how long do pixels remember their activity? Given per cellkind.\n\t","start":1550,"end":2035,"loc":{"start":{"line":51,"column":1},"end":{"line":57,"column":3}}},{"type":"CommentBlock","value":"* Activity of all cellpixels with a non-zero activity is stored in this object,\n\t\twith the {@link IndexCoordinate} of each pixel as key and its current activity as\n\t\tvalue. When the activity reaches 0, the pixel is removed from the object until it\n\t\tis added again. \n\t\t@type {object}","start":2077,"end":2364,"loc":{"start":{"line":61,"column":2},"end":{"line":65,"column":18}}},{"type":"CommentBlock","value":"* Wrapper: select function to compute activities based on ACT_MEAN in conf.\n\t\tDefault is to use the {@link activityAtGeom} for a geometric mean.\n\t\t@type {function}","start":2396,"end":2563,"loc":{"start":{"line":68,"column":2},"end":{"line":70,"column":20}}},{"type":"CommentBlock","value":"* This method checks that all required parameters are present in the object supplied to\n\tthe constructor, and that they are of the right format. It throws an error when this\n\tis not the case.","start":2704,"end":2899,"loc":{"start":{"line":78,"column":1},"end":{"line":80,"column":19}}},{"type":"CommentBlock","value":" ======= ACT MODEL ======= ","start":3222,"end":3253,"loc":{"start":{"line":88,"column":1},"end":{"line":88,"column":32}}},{"type":"CommentBlock","value":" Act model : compute local activity values within cell around pixel i.\n\t * Depending on settings in conf, this is an arithmetic (activityAtArith)\n\t * or geometric (activityAtGeom) mean of the activities of the neighbors\n\t * of pixel i.\n\t ","start":3256,"end":3498,"loc":{"start":{"line":90,"column":1},"end":{"line":94,"column":4}}},{"type":"CommentBlock","value":"* Method to compute the Hamiltonian for this constraint. \n\t @param {IndexCoordinate} sourcei - coordinate of the source pixel that tries to copy.\n\t @param {IndexCoordinate} targeti - coordinate of the target pixel the source is trying\n\t to copy into.\n\t @param {CellId} src_type - cellid of the source pixel.\n\t @param {CellId} tgt_type - cellid of the target pixel. \n\t @return {number} the change in Hamiltonian for this copy attempt and this constraint.","start":3500,"end":3957,"loc":{"start":{"line":95,"column":1},"end":{"line":101,"column":89}}},{"type":"CommentLine","value":" use parameters for the source cell, unless that is the background.","start":4049,"end":4118,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":71}}},{"type":"CommentLine","value":" In that case, use parameters of the target cell.","start":4121,"end":4172,"loc":{"start":{"line":107,"column":2},"end":{"line":107,"column":53}}},{"type":"CommentLine","value":" special case: punishment for a copy attempt from background into","start":4320,"end":4387,"loc":{"start":{"line":112,"column":3},"end":{"line":112,"column":70}}},{"type":"CommentLine","value":" an active cell. This effectively means that the active cell retracts,","start":4391,"end":4463,"loc":{"start":{"line":113,"column":3},"end":{"line":113,"column":75}}},{"type":"CommentLine","value":" which is different from one cell pushing into another (active) cell.","start":4467,"end":4538,"loc":{"start":{"line":114,"column":3},"end":{"line":114,"column":74}}},{"type":"CommentLine","value":" compute the Hamiltonian. The activityAt method is a wrapper for either activityAtArith","start":4703,"end":4792,"loc":{"start":{"line":122,"column":2},"end":{"line":122,"column":91}}},{"type":"CommentLine","value":" or activityAtGeom, depending on conf (see constructor).\t","start":4795,"end":4854,"loc":{"start":{"line":123,"column":2},"end":{"line":123,"column":61}}},{"type":"CommentBlock","value":"* Activity mean computation methods for arithmetic mean. It computes the mean activity\n\t\tof a pixel and all its neighbors belonging to the same cell.\n\t\t\n\t\tThis method is generally called indirectly via {@link activityAt}, which is set\n\t\tbased on the value of ACT_MEAN in the configuration object given to the constructor.\n\t\t\n\t\t@param {IndexCoordinate} i - pixel to evaluate local activity at.\n\t\t@return {number} the arithmetic mean of activities in this part of the cell.\n\t\t@private\n\t","start":4963,"end":5451,"loc":{"start":{"line":128,"column":1},"end":{"line":137,"column":3}}},{"type":"CommentLine","value":" no activity for background/stroma","start":5510,"end":5546,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":38}}},{"type":"CommentLine","value":" neighborhood pixels","start":5579,"end":5601,"loc":{"start":{"line":144,"column":2},"end":{"line":144,"column":24}}},{"type":"CommentLine","value":" r activity summed, nN number of neighbors","start":5636,"end":5680,"loc":{"start":{"line":147,"column":2},"end":{"line":147,"column":46}}},{"type":"CommentLine","value":" we start with the current pixel. ","start":5683,"end":5719,"loc":{"start":{"line":148,"column":2},"end":{"line":148,"column":38}}},{"type":"CommentLine","value":" loop over neighbor pixels","start":5757,"end":5785,"loc":{"start":{"line":151,"column":2},"end":{"line":151,"column":30}}},{"type":"CommentLine","value":" a neighbor only contributes if it belongs to the same cell","start":5872,"end":5933,"loc":{"start":{"line":155,"column":3},"end":{"line":155,"column":64}}},{"type":"CommentLine","value":" average is summed r divided by num neighbors.","start":6003,"end":6051,"loc":{"start":{"line":162,"column":2},"end":{"line":162,"column":50}}},{"type":"CommentBlock","value":"* Activity mean computation methods for geometric mean. It computes the mean activity\n\t\tof a pixel and all its neighbors belonging to the same cell.\n\t\t\n\t\tThis method is generally called indirectly via {@link activityAt}, which is set\n\t\tbased on the value of ACT_MEAN in the configuration object given to the constructor.\n\t\t\n\t\t@param {IndexCoordinate} i - pixel to evaluate local activity at.\n\t\t@return {number} the geometric mean of activities in this part of the cell.\n\t\t@private\n\t","start":6070,"end":6556,"loc":{"start":{"line":165,"column":1},"end":{"line":174,"column":3}}},{"type":"CommentLine","value":" no activity for background/stroma","start":6613,"end":6649,"loc":{"start":{"line":178,"column":2},"end":{"line":178,"column":38}}},{"type":"CommentLine","value":"neighborhood pixels","start":6682,"end":6703,"loc":{"start":{"line":181,"column":2},"end":{"line":181,"column":23}}},{"type":"CommentLine","value":" r activity product, nN number of neighbors.","start":6740,"end":6786,"loc":{"start":{"line":184,"column":2},"end":{"line":184,"column":48}}},{"type":"CommentLine","value":" we start with the current pixel.","start":6789,"end":6824,"loc":{"start":{"line":185,"column":2},"end":{"line":185,"column":37}}},{"type":"CommentLine","value":" loop over neighbor pixels","start":6862,"end":6890,"loc":{"start":{"line":188,"column":2},"end":{"line":188,"column":30}}},{"type":"CommentLine","value":" a neighbor only contributes if it belongs to the same cell.","start":6974,"end":7036,"loc":{"start":{"line":192,"column":3},"end":{"line":192,"column":65}}},{"type":"CommentLine","value":" if it does and has activity 0, the product will also be zero so","start":7040,"end":7106,"loc":{"start":{"line":193,"column":3},"end":{"line":193,"column":69}}},{"type":"CommentLine","value":" we can already return.","start":7110,"end":7135,"loc":{"start":{"line":194,"column":3},"end":{"line":194,"column":28}}},{"type":"CommentLine","value":" Geometric mean computation. ","start":7250,"end":7281,"loc":{"start":{"line":202,"column":2},"end":{"line":202,"column":33}}},{"type":"CommentBlock","value":"* Current activity (under the Act model) of the pixel at position i. \n\t@param {IndexCoordinate} i the position of the pixel to evaluate the activity of.\n\t@return {number} the current activity of this pixel, which is >= 0.","start":7314,"end":7539,"loc":{"start":{"line":207,"column":1},"end":{"line":209,"column":70}}},{"type":"CommentLine","value":" If the pixel is not in the cellpixelsact object, it has activity 0.","start":7556,"end":7626,"loc":{"start":{"line":211,"column":2},"end":{"line":211,"column":72}}},{"type":"CommentLine","value":" Otherwise, its activity is stored in the object.","start":7629,"end":7680,"loc":{"start":{"line":212,"column":2},"end":{"line":212,"column":53}}},{"type":"CommentBlock","value":"* The postSetpixListener of the ActivityConstraint ensures that pixels are \n\tgiven their maximal activity when they are freshly added to a CPM.\n\t@listens {CPM#setpixi} because when a new pixel is set (which is determined in the CPM),\n\tits activity must change so that this class knows about the update.\n\t@param {IndexCoordinate} i - the coordinate of the pixel that is changed.\n\t@param {CellId} t_old - the cellid of this pixel before the copy\n\t@param {CellId} t - the cellid of this pixel after the copy.\n\t","start":7723,"end":8234,"loc":{"start":{"line":216,"column":1},"end":{"line":223,"column":3}}},{"type":"CommentBlock","value":" eslint-disable no-unused-vars","start":8236,"end":8270,"loc":{"start":{"line":224,"column":1},"end":{"line":224,"column":35}}},{"type":"CommentLine","value":" After setting a pixel, it gets the MAX_ACT value of its cellkind.","start":8309,"end":8377,"loc":{"start":{"line":226,"column":2},"end":{"line":226,"column":70}}},{"type":"CommentBlock","value":"* The postMCSListener of the ActivityConstraint ensures that pixel activities\n\tdecline with one after every MCS.\n\t@listens {CPM#timeStep} because when the CPM has finished an MCS, the activities must go down.\n\t","start":8443,"end":8657,"loc":{"start":{"line":230,"column":1},"end":{"line":233,"column":3}}},{"type":"CommentLine","value":" iterate over cellpixelsage and decrease all activities by one.","start":8680,"end":8745,"loc":{"start":{"line":235,"column":2},"end":{"line":235,"column":67}}},{"type":"CommentLine","value":" activities that reach zero no longer need to be stored.","start":8789,"end":8847,"loc":{"start":{"line":237,"column":3},"end":{"line":237,"column":61}}}],"tokens":[{"type":{"label":"import","keyword":"import","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"import","start":0,"end":6,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":6}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"SoftConstraint","start":7,"end":21,"loc":{"start":{"line":1,"column":7},"end":{"line":1,"column":21}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"from","start":22,"end":26,"loc":{"start":{"line":1,"column":22},"end":{"line":1,"column":26}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"./SoftConstraint.js","start":27,"end":48,"loc":{"start":{"line":1,"column":27},"end":{"line":1,"column":48}}},{"type":{"label":"import","keyword":"import","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"import","start":49,"end":55,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":6}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"ParameterChecker","start":56,"end":72,"loc":{"start":{"line":2,"column":7},"end":{"line":2,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"from","start":73,"end":77,"loc":{"start":{"line":2,"column":24},"end":{"line":2,"column":28}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"./ParameterChecker.js","start":78,"end":101,"loc":{"start":{"line":2,"column":29},"end":{"line":2,"column":52}}},{"type":"CommentBlock","value":"* This class implements the activity constraint of Potts models published in:\n *\n *\tNiculescu I, Textor J, de Boer RJ (2015) \n *\tCrawling and Gliding: A Computational Model for Shape-Driven Cell Migration. \n *\tPLoS Comput Biol 11(10): e1004280. \n * \n * Pixels recently added to a cell get an \"activity\", which then declines with every MCS.\n * Copy attempts from more active into less active pixels have a higher success rate,\n * which puts a positive feedback on protrusive activity and leads to cell migration.\n * \n * This constraint is generally used together with {@link Adhesion}, {@link VolumeConstraint},\n * and {@link PerimeterConstraint}.\n * \n * @see https://doi.org/10.1371/journal.pcbi.1004280\n *\n * @example\n * // Build a CPM and add the constraint\n * let CPM = require( \"path/to/build\" )\n * let C = new CPM.CPM( [200,200], {\n * \tT : 20,\n * \tJ : [[0,20],[20,10]],\n * \tV : [0,500],\n * \tLAMBDA_V : [0,5],\n * \tP : [0,260],\n * \tLAMBDA_P : [0,2] \t\n * })\n * C.add( new CPM.ActivityConstraint( {\n * \tLAMBDA_ACT : [0,500],\n * \tMAX_ACT : [0,30],\n * \tACT_MEAN : \"geometric\"\n * } ) )\n * \n * // Or add automatically by entering the parameters in the CPM\n * let C2 = new CPM.CPM( [200,200], {\n * \tT : 20,\n * \tJ : [[0,20],[20,10]],\n * \tV : [0,500],\n * \tLAMBDA_V : [0,5],\n * \tP : [0,260],\n * \tLAMBDA_P : [0,2],\n * \tLAMBDA_ACT : [0,500],\n * \tMAX_ACT : [0,30],\n * \tACT_MEAN : \"geometric\"\t\n * })\n ","start":103,"end":1497,"loc":{"start":{"line":4,"column":0},"end":{"line":48,"column":3}}},{"type":{"label":"class","keyword":"class","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"class","start":1498,"end":1503,"loc":{"start":{"line":49,"column":0},"end":{"line":49,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"ActivityConstraint","start":1504,"end":1522,"loc":{"start":{"line":49,"column":6},"end":{"line":49,"column":24}}},{"type":{"label":"extends","keyword":"extends","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"extends","start":1523,"end":1530,"loc":{"start":{"line":49,"column":25},"end":{"line":49,"column":32}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"SoftConstraint","start":1531,"end":1545,"loc":{"start":{"line":49,"column":33},"end":{"line":49,"column":47}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1546,"end":1547,"loc":{"start":{"line":49,"column":48},"end":{"line":49,"column":49}}},{"type":"CommentBlock","value":"* The constructor of the ActivityConstraint requires a conf object with parameters.\n\t@param {object} conf - parameter object for this constraint\n\t@param {string} [conf.ACT_MEAN=\"geometric\"] - should local mean activity be measured with an\n\t\"arithmetic\" or a \"geometric\" mean?\n\t@param {PerKindNonNegative} conf.LAMBDA_ACT - strength of the activityconstraint per cellkind.\n\t@param {PerKindNonNegative} conf.MAX_ACT - how long do pixels remember their activity? Given per cellkind.\n\t","start":1550,"end":2035,"loc":{"start":{"line":51,"column":1},"end":{"line":57,"column":3}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"constructor","start":2037,"end":2048,"loc":{"start":{"line":58,"column":1},"end":{"line":58,"column":12}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2048,"end":2049,"loc":{"start":{"line":58,"column":12},"end":{"line":58,"column":13}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"conf","start":2050,"end":2054,"loc":{"start":{"line":58,"column":14},"end":{"line":58,"column":18}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2055,"end":2056,"loc":{"start":{"line":58,"column":19},"end":{"line":58,"column":20}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2056,"end":2057,"loc":{"start":{"line":58,"column":20},"end":{"line":58,"column":21}}},{"type":{"label":"super","keyword":"super","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"super","start":2060,"end":2065,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":7}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2065,"end":2066,"loc":{"start":{"line":59,"column":7},"end":{"line":59,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"conf","start":2067,"end":2071,"loc":{"start":{"line":59,"column":9},"end":{"line":59,"column":13}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2072,"end":2073,"loc":{"start":{"line":59,"column":14},"end":{"line":59,"column":15}}},{"type":"CommentBlock","value":"* Activity of all cellpixels with a non-zero activity is stored in this object,\n\t\twith the {@link IndexCoordinate} of each pixel as key and its current activity as\n\t\tvalue. When the activity reaches 0, the pixel is removed from the object until it\n\t\tis added again. \n\t\t@type {object}","start":2077,"end":2364,"loc":{"start":{"line":61,"column":2},"end":{"line":65,"column":18}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2367,"end":2371,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":6}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2371,"end":2372,"loc":{"start":{"line":66,"column":6},"end":{"line":66,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellpixelsact","start":2372,"end":2385,"loc":{"start":{"line":66,"column":7},"end":{"line":66,"column":20}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2386,"end":2387,"loc":{"start":{"line":66,"column":21},"end":{"line":66,"column":22}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2388,"end":2389,"loc":{"start":{"line":66,"column":23},"end":{"line":66,"column":24}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2389,"end":2390,"loc":{"start":{"line":66,"column":24},"end":{"line":66,"column":25}}},{"type":"CommentBlock","value":"* Wrapper: select function to compute activities based on ACT_MEAN in conf.\n\t\tDefault is to use the {@link activityAtGeom} for a geometric mean.\n\t\t@type {function}","start":2396,"end":2563,"loc":{"start":{"line":68,"column":2},"end":{"line":70,"column":20}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2566,"end":2570,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":6}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2570,"end":2571,"loc":{"start":{"line":71,"column":6},"end":{"line":71,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"activityAt","start":2571,"end":2581,"loc":{"start":{"line":71,"column":7},"end":{"line":71,"column":17}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2582,"end":2583,"loc":{"start":{"line":71,"column":18},"end":{"line":71,"column":19}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2584,"end":2588,"loc":{"start":{"line":71,"column":20},"end":{"line":71,"column":24}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2588,"end":2589,"loc":{"start":{"line":71,"column":24},"end":{"line":71,"column":25}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"activityAtGeom","start":2589,"end":2603,"loc":{"start":{"line":71,"column":25},"end":{"line":71,"column":39}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":2606,"end":2608,"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":4}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2608,"end":2609,"loc":{"start":{"line":72,"column":4},"end":{"line":72,"column":5}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2610,"end":2614,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":10}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2614,"end":2615,"loc":{"start":{"line":72,"column":10},"end":{"line":72,"column":11}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"conf","start":2615,"end":2619,"loc":{"start":{"line":72,"column":11},"end":{"line":72,"column":15}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2619,"end":2620,"loc":{"start":{"line":72,"column":15},"end":{"line":72,"column":16}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"ACT_MEAN","start":2620,"end":2628,"loc":{"start":{"line":72,"column":16},"end":{"line":72,"column":24}}},{"type":{"label":"==/!=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":6,"updateContext":null},"value":"==","start":2629,"end":2631,"loc":{"start":{"line":72,"column":25},"end":{"line":72,"column":27}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"arithmetic","start":2632,"end":2644,"loc":{"start":{"line":72,"column":28},"end":{"line":72,"column":40}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2645,"end":2646,"loc":{"start":{"line":72,"column":41},"end":{"line":72,"column":42}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2646,"end":2647,"loc":{"start":{"line":72,"column":42},"end":{"line":72,"column":43}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2651,"end":2655,"loc":{"start":{"line":73,"column":3},"end":{"line":73,"column":7}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2655,"end":2656,"loc":{"start":{"line":73,"column":7},"end":{"line":73,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"activityAt","start":2656,"end":2666,"loc":{"start":{"line":73,"column":8},"end":{"line":73,"column":18}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2667,"end":2668,"loc":{"start":{"line":73,"column":19},"end":{"line":73,"column":20}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2669,"end":2673,"loc":{"start":{"line":73,"column":21},"end":{"line":73,"column":25}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2673,"end":2674,"loc":{"start":{"line":73,"column":25},"end":{"line":73,"column":26}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"activityAtArith","start":2674,"end":2689,"loc":{"start":{"line":73,"column":26},"end":{"line":73,"column":41}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2692,"end":2693,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":3}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2699,"end":2700,"loc":{"start":{"line":76,"column":1},"end":{"line":76,"column":2}}},{"type":"CommentBlock","value":"* This method checks that all required parameters are present in the object supplied to\n\tthe constructor, and that they are of the right format. It throws an error when this\n\tis not the case.","start":2704,"end":2899,"loc":{"start":{"line":78,"column":1},"end":{"line":80,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"confChecker","start":2901,"end":2912,"loc":{"start":{"line":81,"column":1},"end":{"line":81,"column":12}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2912,"end":2913,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":13}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2913,"end":2914,"loc":{"start":{"line":81,"column":13},"end":{"line":81,"column":14}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2914,"end":2915,"loc":{"start":{"line":81,"column":14},"end":{"line":81,"column":15}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":2918,"end":2921,"loc":{"start":{"line":82,"column":2},"end":{"line":82,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"checker","start":2922,"end":2929,"loc":{"start":{"line":82,"column":6},"end":{"line":82,"column":13}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2930,"end":2931,"loc":{"start":{"line":82,"column":14},"end":{"line":82,"column":15}}},{"type":{"label":"new","keyword":"new","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"new","start":2932,"end":2935,"loc":{"start":{"line":82,"column":16},"end":{"line":82,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"ParameterChecker","start":2936,"end":2952,"loc":{"start":{"line":82,"column":20},"end":{"line":82,"column":36}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2952,"end":2953,"loc":{"start":{"line":82,"column":36},"end":{"line":82,"column":37}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2954,"end":2958,"loc":{"start":{"line":82,"column":38},"end":{"line":82,"column":42}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2958,"end":2959,"loc":{"start":{"line":82,"column":42},"end":{"line":82,"column":43}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"conf","start":2959,"end":2963,"loc":{"start":{"line":82,"column":43},"end":{"line":82,"column":47}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2963,"end":2964,"loc":{"start":{"line":82,"column":47},"end":{"line":82,"column":48}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2965,"end":2969,"loc":{"start":{"line":82,"column":49},"end":{"line":82,"column":53}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2969,"end":2970,"loc":{"start":{"line":82,"column":53},"end":{"line":82,"column":54}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"C","start":2970,"end":2971,"loc":{"start":{"line":82,"column":54},"end":{"line":82,"column":55}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2972,"end":2973,"loc":{"start":{"line":82,"column":56},"end":{"line":82,"column":57}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"checker","start":2976,"end":2983,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":9}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2983,"end":2984,"loc":{"start":{"line":83,"column":9},"end":{"line":83,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"confCheckParameter","start":2984,"end":3002,"loc":{"start":{"line":83,"column":10},"end":{"line":83,"column":28}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3002,"end":3003,"loc":{"start":{"line":83,"column":28},"end":{"line":83,"column":29}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"ACT_MEAN","start":3004,"end":3014,"loc":{"start":{"line":83,"column":30},"end":{"line":83,"column":40}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3014,"end":3015,"loc":{"start":{"line":83,"column":40},"end":{"line":83,"column":41}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"SingleValue","start":3016,"end":3029,"loc":{"start":{"line":83,"column":42},"end":{"line":83,"column":55}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3029,"end":3030,"loc":{"start":{"line":83,"column":55},"end":{"line":83,"column":56}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"String","start":3031,"end":3039,"loc":{"start":{"line":83,"column":57},"end":{"line":83,"column":65}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3039,"end":3040,"loc":{"start":{"line":83,"column":65},"end":{"line":83,"column":66}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3041,"end":3042,"loc":{"start":{"line":83,"column":67},"end":{"line":83,"column":68}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"geometric","start":3043,"end":3054,"loc":{"start":{"line":83,"column":69},"end":{"line":83,"column":80}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3054,"end":3055,"loc":{"start":{"line":83,"column":80},"end":{"line":83,"column":81}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"arithmetic","start":3056,"end":3068,"loc":{"start":{"line":83,"column":82},"end":{"line":83,"column":94}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3069,"end":3070,"loc":{"start":{"line":83,"column":95},"end":{"line":83,"column":96}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3071,"end":3072,"loc":{"start":{"line":83,"column":97},"end":{"line":83,"column":98}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"checker","start":3075,"end":3082,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":9}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3082,"end":3083,"loc":{"start":{"line":84,"column":9},"end":{"line":84,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"confCheckParameter","start":3083,"end":3101,"loc":{"start":{"line":84,"column":10},"end":{"line":84,"column":28}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3101,"end":3102,"loc":{"start":{"line":84,"column":28},"end":{"line":84,"column":29}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"LAMBDA_ACT","start":3103,"end":3115,"loc":{"start":{"line":84,"column":30},"end":{"line":84,"column":42}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3115,"end":3116,"loc":{"start":{"line":84,"column":42},"end":{"line":84,"column":43}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"KindArray","start":3117,"end":3128,"loc":{"start":{"line":84,"column":44},"end":{"line":84,"column":55}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3128,"end":3129,"loc":{"start":{"line":84,"column":55},"end":{"line":84,"column":56}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"NonNegative","start":3130,"end":3143,"loc":{"start":{"line":84,"column":57},"end":{"line":84,"column":70}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3144,"end":3145,"loc":{"start":{"line":84,"column":71},"end":{"line":84,"column":72}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"checker","start":3148,"end":3155,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":9}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3155,"end":3156,"loc":{"start":{"line":85,"column":9},"end":{"line":85,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"confCheckParameter","start":3156,"end":3174,"loc":{"start":{"line":85,"column":10},"end":{"line":85,"column":28}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3174,"end":3175,"loc":{"start":{"line":85,"column":28},"end":{"line":85,"column":29}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"MAX_ACT","start":3176,"end":3185,"loc":{"start":{"line":85,"column":30},"end":{"line":85,"column":39}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3185,"end":3186,"loc":{"start":{"line":85,"column":39},"end":{"line":85,"column":40}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"KindArray","start":3187,"end":3198,"loc":{"start":{"line":85,"column":41},"end":{"line":85,"column":52}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3198,"end":3199,"loc":{"start":{"line":85,"column":52},"end":{"line":85,"column":53}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"NonNegative","start":3200,"end":3213,"loc":{"start":{"line":85,"column":54},"end":{"line":85,"column":67}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3214,"end":3215,"loc":{"start":{"line":85,"column":68},"end":{"line":85,"column":69}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3217,"end":3218,"loc":{"start":{"line":86,"column":1},"end":{"line":86,"column":2}}},{"type":"CommentBlock","value":" ======= ACT MODEL ======= ","start":3222,"end":3253,"loc":{"start":{"line":88,"column":1},"end":{"line":88,"column":32}}},{"type":"CommentBlock","value":" Act model : compute local activity values within cell around pixel i.\n\t * Depending on settings in conf, this is an arithmetic (activityAtArith)\n\t * or geometric (activityAtGeom) mean of the activities of the neighbors\n\t * of pixel i.\n\t ","start":3256,"end":3498,"loc":{"start":{"line":90,"column":1},"end":{"line":94,"column":4}}},{"type":"CommentBlock","value":"* Method to compute the Hamiltonian for this constraint. \n\t @param {IndexCoordinate} sourcei - coordinate of the source pixel that tries to copy.\n\t @param {IndexCoordinate} targeti - coordinate of the target pixel the source is trying\n\t to copy into.\n\t @param {CellId} src_type - cellid of the source pixel.\n\t @param {CellId} tgt_type - cellid of the target pixel. \n\t @return {number} the change in Hamiltonian for this copy attempt and this constraint.","start":3500,"end":3957,"loc":{"start":{"line":95,"column":1},"end":{"line":101,"column":89}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"deltaH","start":3960,"end":3966,"loc":{"start":{"line":102,"column":1},"end":{"line":102,"column":7}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3967,"end":3968,"loc":{"start":{"line":102,"column":8},"end":{"line":102,"column":9}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"sourcei","start":3969,"end":3976,"loc":{"start":{"line":102,"column":10},"end":{"line":102,"column":17}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3976,"end":3977,"loc":{"start":{"line":102,"column":17},"end":{"line":102,"column":18}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"targeti","start":3978,"end":3985,"loc":{"start":{"line":102,"column":19},"end":{"line":102,"column":26}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3985,"end":3986,"loc":{"start":{"line":102,"column":26},"end":{"line":102,"column":27}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"src_type","start":3987,"end":3995,"loc":{"start":{"line":102,"column":28},"end":{"line":102,"column":36}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3995,"end":3996,"loc":{"start":{"line":102,"column":36},"end":{"line":102,"column":37}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"tgt_type","start":3997,"end":4005,"loc":{"start":{"line":102,"column":38},"end":{"line":102,"column":46}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4006,"end":4007,"loc":{"start":{"line":102,"column":47},"end":{"line":102,"column":48}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4007,"end":4008,"loc":{"start":{"line":102,"column":48},"end":{"line":102,"column":49}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":4012,"end":4015,"loc":{"start":{"line":104,"column":2},"end":{"line":104,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"deltaH","start":4016,"end":4022,"loc":{"start":{"line":104,"column":6},"end":{"line":104,"column":12}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":4023,"end":4024,"loc":{"start":{"line":104,"column":13},"end":{"line":104,"column":14}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":4025,"end":4026,"loc":{"start":{"line":104,"column":15},"end":{"line":104,"column":16}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":4026,"end":4027,"loc":{"start":{"line":104,"column":16},"end":{"line":104,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"maxact","start":4028,"end":4034,"loc":{"start":{"line":104,"column":18},"end":{"line":104,"column":24}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":4034,"end":4035,"loc":{"start":{"line":104,"column":24},"end":{"line":104,"column":25}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"lambdaact","start":4036,"end":4045,"loc":{"start":{"line":104,"column":26},"end":{"line":104,"column":35}}},{"type":"CommentLine","value":" use parameters for the source cell, unless that is the background.","start":4049,"end":4118,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":71}}},{"type":"CommentLine","value":" In that case, use parameters of the target cell.","start":4121,"end":4172,"loc":{"start":{"line":107,"column":2},"end":{"line":107,"column":53}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":4175,"end":4177,"loc":{"start":{"line":108,"column":2},"end":{"line":108,"column":4}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4177,"end":4178,"loc":{"start":{"line":108,"column":4},"end":{"line":108,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"src_type","start":4179,"end":4187,"loc":{"start":{"line":108,"column":6},"end":{"line":108,"column":14}}},{"type":{"label":"==/!=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":6,"updateContext":null},"value":"!=","start":4188,"end":4190,"loc":{"start":{"line":108,"column":15},"end":{"line":108,"column":17}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":4191,"end":4192,"loc":{"start":{"line":108,"column":18},"end":{"line":108,"column":19}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4193,"end":4194,"loc":{"start":{"line":108,"column":20},"end":{"line":108,"column":21}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4194,"end":4195,"loc":{"start":{"line":108,"column":21},"end":{"line":108,"column":22}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"maxact","start":4199,"end":4205,"loc":{"start":{"line":109,"column":3},"end":{"line":109,"column":9}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":4206,"end":4207,"loc":{"start":{"line":109,"column":10},"end":{"line":109,"column":11}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":4208,"end":4212,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":16}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":4212,"end":4213,"loc":{"start":{"line":109,"column":16},"end":{"line":109,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellParameter","start":4213,"end":4226,"loc":{"start":{"line":109,"column":17},"end":{"line":109,"column":30}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4226,"end":4227,"loc":{"start":{"line":109,"column":30},"end":{"line":109,"column":31}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"MAX_ACT","start":4227,"end":4236,"loc":{"start":{"line":109,"column":31},"end":{"line":109,"column":40}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":4236,"end":4237,"loc":{"start":{"line":109,"column":40},"end":{"line":109,"column":41}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"src_type","start":4238,"end":4246,"loc":{"start":{"line":109,"column":42},"end":{"line":109,"column":50}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4246,"end":4247,"loc":{"start":{"line":109,"column":50},"end":{"line":109,"column":51}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"lambdaact","start":4251,"end":4260,"loc":{"start":{"line":110,"column":3},"end":{"line":110,"column":12}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":4261,"end":4262,"loc":{"start":{"line":110,"column":13},"end":{"line":110,"column":14}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":4263,"end":4267,"loc":{"start":{"line":110,"column":15},"end":{"line":110,"column":19}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":4267,"end":4268,"loc":{"start":{"line":110,"column":19},"end":{"line":110,"column":20}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellParameter","start":4268,"end":4281,"loc":{"start":{"line":110,"column":20},"end":{"line":110,"column":33}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4281,"end":4282,"loc":{"start":{"line":110,"column":33},"end":{"line":110,"column":34}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"LAMBDA_ACT","start":4282,"end":4294,"loc":{"start":{"line":110,"column":34},"end":{"line":110,"column":46}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":4294,"end":4295,"loc":{"start":{"line":110,"column":46},"end":{"line":110,"column":47}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"src_type","start":4296,"end":4304,"loc":{"start":{"line":110,"column":48},"end":{"line":110,"column":56}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4304,"end":4305,"loc":{"start":{"line":110,"column":56},"end":{"line":110,"column":57}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4308,"end":4309,"loc":{"start":{"line":111,"column":2},"end":{"line":111,"column":3}}},{"type":{"label":"else","keyword":"else","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"else","start":4310,"end":4314,"loc":{"start":{"line":111,"column":4},"end":{"line":111,"column":8}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4315,"end":4316,"loc":{"start":{"line":111,"column":9},"end":{"line":111,"column":10}}},{"type":"CommentLine","value":" special case: punishment for a copy attempt from background into","start":4320,"end":4387,"loc":{"start":{"line":112,"column":3},"end":{"line":112,"column":70}}},{"type":"CommentLine","value":" an active cell. This effectively means that the active cell retracts,","start":4391,"end":4463,"loc":{"start":{"line":113,"column":3},"end":{"line":113,"column":75}}},{"type":"CommentLine","value":" which is different from one cell pushing into another (active) cell.","start":4467,"end":4538,"loc":{"start":{"line":114,"column":3},"end":{"line":114,"column":74}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"maxact","start":4542,"end":4548,"loc":{"start":{"line":115,"column":3},"end":{"line":115,"column":9}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":4549,"end":4550,"loc":{"start":{"line":115,"column":10},"end":{"line":115,"column":11}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":4551,"end":4555,"loc":{"start":{"line":115,"column":12},"end":{"line":115,"column":16}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":4555,"end":4556,"loc":{"start":{"line":115,"column":16},"end":{"line":115,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellParameter","start":4556,"end":4569,"loc":{"start":{"line":115,"column":17},"end":{"line":115,"column":30}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4569,"end":4570,"loc":{"start":{"line":115,"column":30},"end":{"line":115,"column":31}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"MAX_ACT","start":4570,"end":4579,"loc":{"start":{"line":115,"column":31},"end":{"line":115,"column":40}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":4579,"end":4580,"loc":{"start":{"line":115,"column":40},"end":{"line":115,"column":41}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"tgt_type","start":4581,"end":4589,"loc":{"start":{"line":115,"column":42},"end":{"line":115,"column":50}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4589,"end":4590,"loc":{"start":{"line":115,"column":50},"end":{"line":115,"column":51}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"lambdaact","start":4594,"end":4603,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":12}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":4604,"end":4605,"loc":{"start":{"line":116,"column":13},"end":{"line":116,"column":14}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":4606,"end":4610,"loc":{"start":{"line":116,"column":15},"end":{"line":116,"column":19}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":4610,"end":4611,"loc":{"start":{"line":116,"column":19},"end":{"line":116,"column":20}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellParameter","start":4611,"end":4624,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":33}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4624,"end":4625,"loc":{"start":{"line":116,"column":33},"end":{"line":116,"column":34}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"LAMBDA_ACT","start":4625,"end":4637,"loc":{"start":{"line":116,"column":34},"end":{"line":116,"column":46}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":4637,"end":4638,"loc":{"start":{"line":116,"column":46},"end":{"line":116,"column":47}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"tgt_type","start":4639,"end":4647,"loc":{"start":{"line":116,"column":48},"end":{"line":116,"column":56}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4647,"end":4648,"loc":{"start":{"line":116,"column":56},"end":{"line":116,"column":57}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4651,"end":4652,"loc":{"start":{"line":117,"column":2},"end":{"line":117,"column":3}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":4655,"end":4657,"loc":{"start":{"line":118,"column":2},"end":{"line":118,"column":4}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4657,"end":4658,"loc":{"start":{"line":118,"column":4},"end":{"line":118,"column":5}}},{"type":{"label":"prefix","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":false,"binop":null,"updateContext":null},"value":"!","start":4659,"end":4660,"loc":{"start":{"line":118,"column":6},"end":{"line":118,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"maxact","start":4660,"end":4666,"loc":{"start":{"line":118,"column":7},"end":{"line":118,"column":13}}},{"type":{"label":"||","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":1,"updateContext":null},"value":"||","start":4667,"end":4669,"loc":{"start":{"line":118,"column":14},"end":{"line":118,"column":16}}},{"type":{"label":"prefix","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":false,"binop":null,"updateContext":null},"value":"!","start":4670,"end":4671,"loc":{"start":{"line":118,"column":17},"end":{"line":118,"column":18}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"lambdaact","start":4671,"end":4680,"loc":{"start":{"line":118,"column":18},"end":{"line":118,"column":27}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4681,"end":4682,"loc":{"start":{"line":118,"column":28},"end":{"line":118,"column":29}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4682,"end":4683,"loc":{"start":{"line":118,"column":29},"end":{"line":118,"column":30}}},{"type":{"label":"return","keyword":"return","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"return","start":4687,"end":4693,"loc":{"start":{"line":119,"column":3},"end":{"line":119,"column":9}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":4694,"end":4695,"loc":{"start":{"line":119,"column":10},"end":{"line":119,"column":11}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4698,"end":4699,"loc":{"start":{"line":120,"column":2},"end":{"line":120,"column":3}}},{"type":"CommentLine","value":" compute the Hamiltonian. The activityAt method is a wrapper for either activityAtArith","start":4703,"end":4792,"loc":{"start":{"line":122,"column":2},"end":{"line":122,"column":91}}},{"type":"CommentLine","value":" or activityAtGeom, depending on conf (see constructor).\t","start":4795,"end":4854,"loc":{"start":{"line":123,"column":2},"end":{"line":123,"column":61}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"deltaH","start":4857,"end":4863,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":8}}},{"type":{"label":"_=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"+=","start":4864,"end":4866,"loc":{"start":{"line":124,"column":9},"end":{"line":124,"column":11}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"lambdaact","start":4867,"end":4876,"loc":{"start":{"line":124,"column":12},"end":{"line":124,"column":21}}},{"type":{"label":"*","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":10,"updateContext":null},"value":"*","start":4876,"end":4877,"loc":{"start":{"line":124,"column":21},"end":{"line":124,"column":22}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4877,"end":4878,"loc":{"start":{"line":124,"column":22},"end":{"line":124,"column":23}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":4878,"end":4882,"loc":{"start":{"line":124,"column":23},"end":{"line":124,"column":27}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":4882,"end":4883,"loc":{"start":{"line":124,"column":27},"end":{"line":124,"column":28}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"activityAt","start":4883,"end":4893,"loc":{"start":{"line":124,"column":28},"end":{"line":124,"column":38}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4893,"end":4894,"loc":{"start":{"line":124,"column":38},"end":{"line":124,"column":39}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"targeti","start":4895,"end":4902,"loc":{"start":{"line":124,"column":40},"end":{"line":124,"column":47}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4903,"end":4904,"loc":{"start":{"line":124,"column":48},"end":{"line":124,"column":49}}},{"type":{"label":"+/-","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":false,"binop":9,"updateContext":null},"value":"-","start":4905,"end":4906,"loc":{"start":{"line":124,"column":50},"end":{"line":124,"column":51}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":4907,"end":4911,"loc":{"start":{"line":124,"column":52},"end":{"line":124,"column":56}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":4911,"end":4912,"loc":{"start":{"line":124,"column":56},"end":{"line":124,"column":57}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"activityAt","start":4912,"end":4922,"loc":{"start":{"line":124,"column":57},"end":{"line":124,"column":67}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4922,"end":4923,"loc":{"start":{"line":124,"column":67},"end":{"line":124,"column":68}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"sourcei","start":4924,"end":4931,"loc":{"start":{"line":124,"column":69},"end":{"line":124,"column":76}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4932,"end":4933,"loc":{"start":{"line":124,"column":77},"end":{"line":124,"column":78}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4933,"end":4934,"loc":{"start":{"line":124,"column":78},"end":{"line":124,"column":79}}},{"type":{"label":"/","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":10,"updateContext":null},"value":"/","start":4934,"end":4935,"loc":{"start":{"line":124,"column":79},"end":{"line":124,"column":80}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"maxact","start":4935,"end":4941,"loc":{"start":{"line":124,"column":80},"end":{"line":124,"column":86}}},{"type":{"label":"return","keyword":"return","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"return","start":4944,"end":4950,"loc":{"start":{"line":125,"column":2},"end":{"line":125,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"deltaH","start":4951,"end":4957,"loc":{"start":{"line":125,"column":9},"end":{"line":125,"column":15}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":4959,"end":4960,"loc":{"start":{"line":126,"column":1},"end":{"line":126,"column":2}}},{"type":"CommentBlock","value":"* Activity mean computation methods for arithmetic mean. It computes the mean activity\n\t\tof a pixel and all its neighbors belonging to the same cell.\n\t\t\n\t\tThis method is generally called indirectly via {@link activityAt}, which is set\n\t\tbased on the value of ACT_MEAN in the configuration object given to the constructor.\n\t\t\n\t\t@param {IndexCoordinate} i - pixel to evaluate local activity at.\n\t\t@return {number} the arithmetic mean of activities in this part of the cell.\n\t\t@private\n\t","start":4963,"end":5451,"loc":{"start":{"line":128,"column":1},"end":{"line":137,"column":3}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"activityAtArith","start":5453,"end":5468,"loc":{"start":{"line":138,"column":1},"end":{"line":138,"column":16}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5468,"end":5469,"loc":{"start":{"line":138,"column":16},"end":{"line":138,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":5470,"end":5471,"loc":{"start":{"line":138,"column":18},"end":{"line":138,"column":19}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5472,"end":5473,"loc":{"start":{"line":138,"column":20},"end":{"line":138,"column":21}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5473,"end":5474,"loc":{"start":{"line":138,"column":21},"end":{"line":138,"column":22}}},{"type":{"label":"const","keyword":"const","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"const","start":5477,"end":5482,"loc":{"start":{"line":139,"column":2},"end":{"line":139,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"t","start":5483,"end":5484,"loc":{"start":{"line":139,"column":8},"end":{"line":139,"column":9}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":5485,"end":5486,"loc":{"start":{"line":139,"column":10},"end":{"line":139,"column":11}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":5487,"end":5491,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":16}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5491,"end":5492,"loc":{"start":{"line":139,"column":16},"end":{"line":139,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"C","start":5492,"end":5493,"loc":{"start":{"line":139,"column":17},"end":{"line":139,"column":18}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5493,"end":5494,"loc":{"start":{"line":139,"column":18},"end":{"line":139,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pixti","start":5494,"end":5499,"loc":{"start":{"line":139,"column":19},"end":{"line":139,"column":24}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5499,"end":5500,"loc":{"start":{"line":139,"column":24},"end":{"line":139,"column":25}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":5501,"end":5502,"loc":{"start":{"line":139,"column":26},"end":{"line":139,"column":27}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5503,"end":5504,"loc":{"start":{"line":139,"column":28},"end":{"line":139,"column":29}}},{"type":"CommentLine","value":" no activity for background/stroma","start":5510,"end":5546,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":38}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":5549,"end":5551,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":4}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5551,"end":5552,"loc":{"start":{"line":142,"column":4},"end":{"line":142,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"t","start":5553,"end":5554,"loc":{"start":{"line":142,"column":6},"end":{"line":142,"column":7}}},{"type":{"label":"</>","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"<=","start":5555,"end":5557,"loc":{"start":{"line":142,"column":8},"end":{"line":142,"column":10}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":5558,"end":5559,"loc":{"start":{"line":142,"column":11},"end":{"line":142,"column":12}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5560,"end":5561,"loc":{"start":{"line":142,"column":13},"end":{"line":142,"column":14}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5561,"end":5562,"loc":{"start":{"line":142,"column":14},"end":{"line":142,"column":15}}},{"type":{"label":"return","keyword":"return","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"return","start":5563,"end":5569,"loc":{"start":{"line":142,"column":16},"end":{"line":142,"column":22}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":5570,"end":5571,"loc":{"start":{"line":142,"column":23},"end":{"line":142,"column":24}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5572,"end":5573,"loc":{"start":{"line":142,"column":25},"end":{"line":142,"column":26}}},{"type":"CommentLine","value":" neighborhood pixels","start":5579,"end":5601,"loc":{"start":{"line":144,"column":2},"end":{"line":144,"column":24}}},{"type":{"label":"const","keyword":"const","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"const","start":5604,"end":5609,"loc":{"start":{"line":145,"column":2},"end":{"line":145,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"N","start":5610,"end":5611,"loc":{"start":{"line":145,"column":8},"end":{"line":145,"column":9}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":5612,"end":5613,"loc":{"start":{"line":145,"column":10},"end":{"line":145,"column":11}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":5614,"end":5618,"loc":{"start":{"line":145,"column":12},"end":{"line":145,"column":16}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5618,"end":5619,"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"C","start":5619,"end":5620,"loc":{"start":{"line":145,"column":17},"end":{"line":145,"column":18}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5620,"end":5621,"loc":{"start":{"line":145,"column":18},"end":{"line":145,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"neighi","start":5621,"end":5627,"loc":{"start":{"line":145,"column":19},"end":{"line":145,"column":25}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5627,"end":5628,"loc":{"start":{"line":145,"column":25},"end":{"line":145,"column":26}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":5628,"end":5629,"loc":{"start":{"line":145,"column":26},"end":{"line":145,"column":27}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5629,"end":5630,"loc":{"start":{"line":145,"column":27},"end":{"line":145,"column":28}}},{"type":"CommentLine","value":" r activity summed, nN number of neighbors","start":5636,"end":5680,"loc":{"start":{"line":147,"column":2},"end":{"line":147,"column":46}}},{"type":"CommentLine","value":" we start with the current pixel. ","start":5683,"end":5719,"loc":{"start":{"line":148,"column":2},"end":{"line":148,"column":38}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":5722,"end":5725,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"r","start":5726,"end":5727,"loc":{"start":{"line":149,"column":6},"end":{"line":149,"column":7}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":5728,"end":5729,"loc":{"start":{"line":149,"column":8},"end":{"line":149,"column":9}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":5730,"end":5734,"loc":{"start":{"line":149,"column":10},"end":{"line":149,"column":14}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5734,"end":5735,"loc":{"start":{"line":149,"column":14},"end":{"line":149,"column":15}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pxact","start":5735,"end":5740,"loc":{"start":{"line":149,"column":15},"end":{"line":149,"column":20}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5740,"end":5741,"loc":{"start":{"line":149,"column":20},"end":{"line":149,"column":21}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":5741,"end":5742,"loc":{"start":{"line":149,"column":21},"end":{"line":149,"column":22}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5742,"end":5743,"loc":{"start":{"line":149,"column":22},"end":{"line":149,"column":23}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5743,"end":5744,"loc":{"start":{"line":149,"column":23},"end":{"line":149,"column":24}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"nN","start":5745,"end":5747,"loc":{"start":{"line":149,"column":25},"end":{"line":149,"column":27}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":5748,"end":5749,"loc":{"start":{"line":149,"column":28},"end":{"line":149,"column":29}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":1,"start":5750,"end":5751,"loc":{"start":{"line":149,"column":30},"end":{"line":149,"column":31}}},{"type":"CommentLine","value":" loop over neighbor pixels","start":5757,"end":5785,"loc":{"start":{"line":151,"column":2},"end":{"line":151,"column":30}}},{"type":{"label":"for","keyword":"for","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":true,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"for","start":5788,"end":5791,"loc":{"start":{"line":152,"column":2},"end":{"line":152,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5791,"end":5792,"loc":{"start":{"line":152,"column":5},"end":{"line":152,"column":6}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":5793,"end":5796,"loc":{"start":{"line":152,"column":7},"end":{"line":152,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":5797,"end":5798,"loc":{"start":{"line":152,"column":11},"end":{"line":152,"column":12}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":5799,"end":5800,"loc":{"start":{"line":152,"column":13},"end":{"line":152,"column":14}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":5801,"end":5802,"loc":{"start":{"line":152,"column":15},"end":{"line":152,"column":16}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5803,"end":5804,"loc":{"start":{"line":152,"column":17},"end":{"line":152,"column":18}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":5805,"end":5806,"loc":{"start":{"line":152,"column":19},"end":{"line":152,"column":20}}},{"type":{"label":"</>","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"<","start":5807,"end":5808,"loc":{"start":{"line":152,"column":21},"end":{"line":152,"column":22}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"N","start":5809,"end":5810,"loc":{"start":{"line":152,"column":23},"end":{"line":152,"column":24}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5810,"end":5811,"loc":{"start":{"line":152,"column":24},"end":{"line":152,"column":25}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"length","start":5811,"end":5817,"loc":{"start":{"line":152,"column":25},"end":{"line":152,"column":31}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5818,"end":5819,"loc":{"start":{"line":152,"column":32},"end":{"line":152,"column":33}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":5820,"end":5821,"loc":{"start":{"line":152,"column":34},"end":{"line":152,"column":35}}},{"type":{"label":"++/--","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":true,"binop":null},"value":"++","start":5822,"end":5824,"loc":{"start":{"line":152,"column":36},"end":{"line":152,"column":38}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5825,"end":5826,"loc":{"start":{"line":152,"column":39},"end":{"line":152,"column":40}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5826,"end":5827,"loc":{"start":{"line":152,"column":40},"end":{"line":152,"column":41}}},{"type":{"label":"const","keyword":"const","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"const","start":5832,"end":5837,"loc":{"start":{"line":153,"column":3},"end":{"line":153,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"tn","start":5838,"end":5840,"loc":{"start":{"line":153,"column":9},"end":{"line":153,"column":11}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":5841,"end":5842,"loc":{"start":{"line":153,"column":12},"end":{"line":153,"column":13}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":5843,"end":5847,"loc":{"start":{"line":153,"column":14},"end":{"line":153,"column":18}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5847,"end":5848,"loc":{"start":{"line":153,"column":18},"end":{"line":153,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"C","start":5848,"end":5849,"loc":{"start":{"line":153,"column":19},"end":{"line":153,"column":20}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5849,"end":5850,"loc":{"start":{"line":153,"column":20},"end":{"line":153,"column":21}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pixti","start":5850,"end":5855,"loc":{"start":{"line":153,"column":21},"end":{"line":153,"column":26}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5855,"end":5856,"loc":{"start":{"line":153,"column":26},"end":{"line":153,"column":27}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"N","start":5857,"end":5858,"loc":{"start":{"line":153,"column":28},"end":{"line":153,"column":29}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5858,"end":5859,"loc":{"start":{"line":153,"column":29},"end":{"line":153,"column":30}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":5859,"end":5860,"loc":{"start":{"line":153,"column":30},"end":{"line":153,"column":31}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5860,"end":5861,"loc":{"start":{"line":153,"column":31},"end":{"line":153,"column":32}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5862,"end":5863,"loc":{"start":{"line":153,"column":33},"end":{"line":153,"column":34}}},{"type":"CommentLine","value":" a neighbor only contributes if it belongs to the same cell","start":5872,"end":5933,"loc":{"start":{"line":155,"column":3},"end":{"line":155,"column":64}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":5937,"end":5939,"loc":{"start":{"line":156,"column":3},"end":{"line":156,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5939,"end":5940,"loc":{"start":{"line":156,"column":5},"end":{"line":156,"column":6}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"tn","start":5941,"end":5943,"loc":{"start":{"line":156,"column":7},"end":{"line":156,"column":9}}},{"type":{"label":"==/!=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":6,"updateContext":null},"value":"==","start":5944,"end":5946,"loc":{"start":{"line":156,"column":10},"end":{"line":156,"column":12}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"t","start":5947,"end":5948,"loc":{"start":{"line":156,"column":13},"end":{"line":156,"column":14}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5949,"end":5950,"loc":{"start":{"line":156,"column":15},"end":{"line":156,"column":16}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5950,"end":5951,"loc":{"start":{"line":156,"column":16},"end":{"line":156,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"r","start":5956,"end":5957,"loc":{"start":{"line":157,"column":4},"end":{"line":157,"column":5}}},{"type":{"label":"_=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"+=","start":5958,"end":5960,"loc":{"start":{"line":157,"column":6},"end":{"line":157,"column":8}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":5961,"end":5965,"loc":{"start":{"line":157,"column":9},"end":{"line":157,"column":13}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5965,"end":5966,"loc":{"start":{"line":157,"column":13},"end":{"line":157,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pxact","start":5966,"end":5971,"loc":{"start":{"line":157,"column":14},"end":{"line":157,"column":19}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5971,"end":5972,"loc":{"start":{"line":157,"column":19},"end":{"line":157,"column":20}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"N","start":5973,"end":5974,"loc":{"start":{"line":157,"column":21},"end":{"line":157,"column":22}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5974,"end":5975,"loc":{"start":{"line":157,"column":22},"end":{"line":157,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":5975,"end":5976,"loc":{"start":{"line":157,"column":23},"end":{"line":157,"column":24}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":5976,"end":5977,"loc":{"start":{"line":157,"column":24},"end":{"line":157,"column":25}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5978,"end":5979,"loc":{"start":{"line":157,"column":26},"end":{"line":157,"column":27}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"nN","start":5984,"end":5986,"loc":{"start":{"line":158,"column":4},"end":{"line":158,"column":6}}},{"type":{"label":"++/--","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":true,"binop":null},"value":"++","start":5987,"end":5989,"loc":{"start":{"line":158,"column":7},"end":{"line":158,"column":9}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5994,"end":5995,"loc":{"start":{"line":159,"column":3},"end":{"line":159,"column":4}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":5998,"end":5999,"loc":{"start":{"line":160,"column":2},"end":{"line":160,"column":3}}},{"type":"CommentLine","value":" average is summed r divided by num neighbors.","start":6003,"end":6051,"loc":{"start":{"line":162,"column":2},"end":{"line":162,"column":50}}},{"type":{"label":"return","keyword":"return","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"return","start":6054,"end":6060,"loc":{"start":{"line":163,"column":2},"end":{"line":163,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"r","start":6061,"end":6062,"loc":{"start":{"line":163,"column":9},"end":{"line":163,"column":10}}},{"type":{"label":"/","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":10,"updateContext":null},"value":"/","start":6062,"end":6063,"loc":{"start":{"line":163,"column":10},"end":{"line":163,"column":11}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"nN","start":6063,"end":6065,"loc":{"start":{"line":163,"column":11},"end":{"line":163,"column":13}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6067,"end":6068,"loc":{"start":{"line":164,"column":1},"end":{"line":164,"column":2}}},{"type":"CommentBlock","value":"* Activity mean computation methods for geometric mean. It computes the mean activity\n\t\tof a pixel and all its neighbors belonging to the same cell.\n\t\t\n\t\tThis method is generally called indirectly via {@link activityAt}, which is set\n\t\tbased on the value of ACT_MEAN in the configuration object given to the constructor.\n\t\t\n\t\t@param {IndexCoordinate} i - pixel to evaluate local activity at.\n\t\t@return {number} the geometric mean of activities in this part of the cell.\n\t\t@private\n\t","start":6070,"end":6556,"loc":{"start":{"line":165,"column":1},"end":{"line":174,"column":3}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"activityAtGeom","start":6558,"end":6572,"loc":{"start":{"line":175,"column":1},"end":{"line":175,"column":15}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6573,"end":6574,"loc":{"start":{"line":175,"column":16},"end":{"line":175,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":6575,"end":6576,"loc":{"start":{"line":175,"column":18},"end":{"line":175,"column":19}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6577,"end":6578,"loc":{"start":{"line":175,"column":20},"end":{"line":175,"column":21}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6578,"end":6579,"loc":{"start":{"line":175,"column":21},"end":{"line":175,"column":22}}},{"type":{"label":"const","keyword":"const","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"const","start":6582,"end":6587,"loc":{"start":{"line":176,"column":2},"end":{"line":176,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"t","start":6588,"end":6589,"loc":{"start":{"line":176,"column":8},"end":{"line":176,"column":9}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":6590,"end":6591,"loc":{"start":{"line":176,"column":10},"end":{"line":176,"column":11}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":6592,"end":6596,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":16}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6596,"end":6597,"loc":{"start":{"line":176,"column":16},"end":{"line":176,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"C","start":6597,"end":6598,"loc":{"start":{"line":176,"column":17},"end":{"line":176,"column":18}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6598,"end":6599,"loc":{"start":{"line":176,"column":18},"end":{"line":176,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pixti","start":6599,"end":6604,"loc":{"start":{"line":176,"column":19},"end":{"line":176,"column":24}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6604,"end":6605,"loc":{"start":{"line":176,"column":24},"end":{"line":176,"column":25}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":6606,"end":6607,"loc":{"start":{"line":176,"column":26},"end":{"line":176,"column":27}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6608,"end":6609,"loc":{"start":{"line":176,"column":28},"end":{"line":176,"column":29}}},{"type":"CommentLine","value":" no activity for background/stroma","start":6613,"end":6649,"loc":{"start":{"line":178,"column":2},"end":{"line":178,"column":38}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":6652,"end":6654,"loc":{"start":{"line":179,"column":2},"end":{"line":179,"column":4}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6654,"end":6655,"loc":{"start":{"line":179,"column":4},"end":{"line":179,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"t","start":6656,"end":6657,"loc":{"start":{"line":179,"column":6},"end":{"line":179,"column":7}}},{"type":{"label":"</>","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"<=","start":6658,"end":6660,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":10}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":6661,"end":6662,"loc":{"start":{"line":179,"column":11},"end":{"line":179,"column":12}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6663,"end":6664,"loc":{"start":{"line":179,"column":13},"end":{"line":179,"column":14}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6664,"end":6665,"loc":{"start":{"line":179,"column":14},"end":{"line":179,"column":15}}},{"type":{"label":"return","keyword":"return","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"return","start":6666,"end":6672,"loc":{"start":{"line":179,"column":16},"end":{"line":179,"column":22}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":6673,"end":6674,"loc":{"start":{"line":179,"column":23},"end":{"line":179,"column":24}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6675,"end":6676,"loc":{"start":{"line":179,"column":25},"end":{"line":179,"column":26}}},{"type":"CommentLine","value":"neighborhood pixels","start":6682,"end":6703,"loc":{"start":{"line":181,"column":2},"end":{"line":181,"column":23}}},{"type":{"label":"const","keyword":"const","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"const","start":6706,"end":6711,"loc":{"start":{"line":182,"column":2},"end":{"line":182,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"N","start":6712,"end":6713,"loc":{"start":{"line":182,"column":8},"end":{"line":182,"column":9}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":6714,"end":6715,"loc":{"start":{"line":182,"column":10},"end":{"line":182,"column":11}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":6716,"end":6720,"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":16}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6720,"end":6721,"loc":{"start":{"line":182,"column":16},"end":{"line":182,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"C","start":6721,"end":6722,"loc":{"start":{"line":182,"column":17},"end":{"line":182,"column":18}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6722,"end":6723,"loc":{"start":{"line":182,"column":18},"end":{"line":182,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"neighi","start":6723,"end":6729,"loc":{"start":{"line":182,"column":19},"end":{"line":182,"column":25}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6729,"end":6730,"loc":{"start":{"line":182,"column":25},"end":{"line":182,"column":26}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":6731,"end":6732,"loc":{"start":{"line":182,"column":27},"end":{"line":182,"column":28}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6733,"end":6734,"loc":{"start":{"line":182,"column":29},"end":{"line":182,"column":30}}},{"type":"CommentLine","value":" r activity product, nN number of neighbors.","start":6740,"end":6786,"loc":{"start":{"line":184,"column":2},"end":{"line":184,"column":48}}},{"type":"CommentLine","value":" we start with the current pixel.","start":6789,"end":6824,"loc":{"start":{"line":185,"column":2},"end":{"line":185,"column":37}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":6827,"end":6830,"loc":{"start":{"line":186,"column":2},"end":{"line":186,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"nN","start":6831,"end":6833,"loc":{"start":{"line":186,"column":6},"end":{"line":186,"column":8}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":6834,"end":6835,"loc":{"start":{"line":186,"column":9},"end":{"line":186,"column":10}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":1,"start":6836,"end":6837,"loc":{"start":{"line":186,"column":11},"end":{"line":186,"column":12}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6837,"end":6838,"loc":{"start":{"line":186,"column":12},"end":{"line":186,"column":13}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"r","start":6839,"end":6840,"loc":{"start":{"line":186,"column":14},"end":{"line":186,"column":15}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":6841,"end":6842,"loc":{"start":{"line":186,"column":16},"end":{"line":186,"column":17}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":6843,"end":6847,"loc":{"start":{"line":186,"column":18},"end":{"line":186,"column":22}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6847,"end":6848,"loc":{"start":{"line":186,"column":22},"end":{"line":186,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pxact","start":6848,"end":6853,"loc":{"start":{"line":186,"column":23},"end":{"line":186,"column":28}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6853,"end":6854,"loc":{"start":{"line":186,"column":28},"end":{"line":186,"column":29}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":6855,"end":6856,"loc":{"start":{"line":186,"column":30},"end":{"line":186,"column":31}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6857,"end":6858,"loc":{"start":{"line":186,"column":32},"end":{"line":186,"column":33}}},{"type":"CommentLine","value":" loop over neighbor pixels","start":6862,"end":6890,"loc":{"start":{"line":188,"column":2},"end":{"line":188,"column":30}}},{"type":{"label":"for","keyword":"for","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":true,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"for","start":6893,"end":6896,"loc":{"start":{"line":189,"column":2},"end":{"line":189,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6896,"end":6897,"loc":{"start":{"line":189,"column":5},"end":{"line":189,"column":6}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":6898,"end":6901,"loc":{"start":{"line":189,"column":7},"end":{"line":189,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":6902,"end":6903,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":12}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":6904,"end":6905,"loc":{"start":{"line":189,"column":13},"end":{"line":189,"column":14}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":6906,"end":6907,"loc":{"start":{"line":189,"column":15},"end":{"line":189,"column":16}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6908,"end":6909,"loc":{"start":{"line":189,"column":17},"end":{"line":189,"column":18}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":6910,"end":6911,"loc":{"start":{"line":189,"column":19},"end":{"line":189,"column":20}}},{"type":{"label":"</>","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"<","start":6912,"end":6913,"loc":{"start":{"line":189,"column":21},"end":{"line":189,"column":22}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"N","start":6914,"end":6915,"loc":{"start":{"line":189,"column":23},"end":{"line":189,"column":24}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6915,"end":6916,"loc":{"start":{"line":189,"column":24},"end":{"line":189,"column":25}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"length","start":6916,"end":6922,"loc":{"start":{"line":189,"column":25},"end":{"line":189,"column":31}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6923,"end":6924,"loc":{"start":{"line":189,"column":32},"end":{"line":189,"column":33}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":6925,"end":6926,"loc":{"start":{"line":189,"column":34},"end":{"line":189,"column":35}}},{"type":{"label":"++/--","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":true,"binop":null},"value":"++","start":6927,"end":6929,"loc":{"start":{"line":189,"column":36},"end":{"line":189,"column":38}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6930,"end":6931,"loc":{"start":{"line":189,"column":39},"end":{"line":189,"column":40}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6931,"end":6932,"loc":{"start":{"line":189,"column":40},"end":{"line":189,"column":41}}},{"type":{"label":"const","keyword":"const","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"const","start":6937,"end":6942,"loc":{"start":{"line":190,"column":3},"end":{"line":190,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"tn","start":6943,"end":6945,"loc":{"start":{"line":190,"column":9},"end":{"line":190,"column":11}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":6946,"end":6947,"loc":{"start":{"line":190,"column":12},"end":{"line":190,"column":13}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":6948,"end":6952,"loc":{"start":{"line":190,"column":14},"end":{"line":190,"column":18}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6952,"end":6953,"loc":{"start":{"line":190,"column":18},"end":{"line":190,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"C","start":6953,"end":6954,"loc":{"start":{"line":190,"column":19},"end":{"line":190,"column":20}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6954,"end":6955,"loc":{"start":{"line":190,"column":20},"end":{"line":190,"column":21}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pixti","start":6955,"end":6960,"loc":{"start":{"line":190,"column":21},"end":{"line":190,"column":26}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6960,"end":6961,"loc":{"start":{"line":190,"column":26},"end":{"line":190,"column":27}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"N","start":6962,"end":6963,"loc":{"start":{"line":190,"column":28},"end":{"line":190,"column":29}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6963,"end":6964,"loc":{"start":{"line":190,"column":29},"end":{"line":190,"column":30}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":6964,"end":6965,"loc":{"start":{"line":190,"column":30},"end":{"line":190,"column":31}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":6965,"end":6966,"loc":{"start":{"line":190,"column":31},"end":{"line":190,"column":32}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":6967,"end":6968,"loc":{"start":{"line":190,"column":33},"end":{"line":190,"column":34}}},{"type":"CommentLine","value":" a neighbor only contributes if it belongs to the same cell.","start":6974,"end":7036,"loc":{"start":{"line":192,"column":3},"end":{"line":192,"column":65}}},{"type":"CommentLine","value":" if it does and has activity 0, the product will also be zero so","start":7040,"end":7106,"loc":{"start":{"line":193,"column":3},"end":{"line":193,"column":69}}},{"type":"CommentLine","value":" we can already return.","start":7110,"end":7135,"loc":{"start":{"line":194,"column":3},"end":{"line":194,"column":28}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":7139,"end":7141,"loc":{"start":{"line":195,"column":3},"end":{"line":195,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7141,"end":7142,"loc":{"start":{"line":195,"column":5},"end":{"line":195,"column":6}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"tn","start":7143,"end":7145,"loc":{"start":{"line":195,"column":7},"end":{"line":195,"column":9}}},{"type":{"label":"==/!=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":6,"updateContext":null},"value":"==","start":7146,"end":7148,"loc":{"start":{"line":195,"column":10},"end":{"line":195,"column":12}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"t","start":7149,"end":7150,"loc":{"start":{"line":195,"column":13},"end":{"line":195,"column":14}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7151,"end":7152,"loc":{"start":{"line":195,"column":15},"end":{"line":195,"column":16}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7152,"end":7153,"loc":{"start":{"line":195,"column":16},"end":{"line":195,"column":17}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":7158,"end":7160,"loc":{"start":{"line":196,"column":4},"end":{"line":196,"column":6}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7160,"end":7161,"loc":{"start":{"line":196,"column":6},"end":{"line":196,"column":7}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":7162,"end":7166,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":12}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":7166,"end":7167,"loc":{"start":{"line":196,"column":12},"end":{"line":196,"column":13}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pxact","start":7167,"end":7172,"loc":{"start":{"line":196,"column":13},"end":{"line":196,"column":18}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7172,"end":7173,"loc":{"start":{"line":196,"column":18},"end":{"line":196,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"N","start":7174,"end":7175,"loc":{"start":{"line":196,"column":20},"end":{"line":196,"column":21}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":7175,"end":7176,"loc":{"start":{"line":196,"column":21},"end":{"line":196,"column":22}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":7176,"end":7177,"loc":{"start":{"line":196,"column":22},"end":{"line":196,"column":23}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":7177,"end":7178,"loc":{"start":{"line":196,"column":23},"end":{"line":196,"column":24}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7179,"end":7180,"loc":{"start":{"line":196,"column":25},"end":{"line":196,"column":26}}},{"type":{"label":"==/!=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":6,"updateContext":null},"value":"==","start":7181,"end":7183,"loc":{"start":{"line":196,"column":27},"end":{"line":196,"column":29}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":7184,"end":7185,"loc":{"start":{"line":196,"column":30},"end":{"line":196,"column":31}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7186,"end":7187,"loc":{"start":{"line":196,"column":32},"end":{"line":196,"column":33}}},{"type":{"label":"return","keyword":"return","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"return","start":7188,"end":7194,"loc":{"start":{"line":196,"column":34},"end":{"line":196,"column":40}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":7195,"end":7196,"loc":{"start":{"line":196,"column":41},"end":{"line":196,"column":42}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"r","start":7201,"end":7202,"loc":{"start":{"line":197,"column":4},"end":{"line":197,"column":5}}},{"type":{"label":"_=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"*=","start":7203,"end":7205,"loc":{"start":{"line":197,"column":6},"end":{"line":197,"column":8}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":7206,"end":7210,"loc":{"start":{"line":197,"column":9},"end":{"line":197,"column":13}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":7210,"end":7211,"loc":{"start":{"line":197,"column":13},"end":{"line":197,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pxact","start":7211,"end":7216,"loc":{"start":{"line":197,"column":14},"end":{"line":197,"column":19}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7216,"end":7217,"loc":{"start":{"line":197,"column":19},"end":{"line":197,"column":20}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"N","start":7218,"end":7219,"loc":{"start":{"line":197,"column":21},"end":{"line":197,"column":22}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":7219,"end":7220,"loc":{"start":{"line":197,"column":22},"end":{"line":197,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":7220,"end":7221,"loc":{"start":{"line":197,"column":23},"end":{"line":197,"column":24}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":7221,"end":7222,"loc":{"start":{"line":197,"column":24},"end":{"line":197,"column":25}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7223,"end":7224,"loc":{"start":{"line":197,"column":26},"end":{"line":197,"column":27}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"nN","start":7229,"end":7231,"loc":{"start":{"line":198,"column":4},"end":{"line":198,"column":6}}},{"type":{"label":"++/--","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":true,"binop":null},"value":"++","start":7232,"end":7234,"loc":{"start":{"line":198,"column":7},"end":{"line":198,"column":9}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7239,"end":7240,"loc":{"start":{"line":199,"column":3},"end":{"line":199,"column":4}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7243,"end":7244,"loc":{"start":{"line":200,"column":2},"end":{"line":200,"column":3}}},{"type":"CommentLine","value":" Geometric mean computation. ","start":7250,"end":7281,"loc":{"start":{"line":202,"column":2},"end":{"line":202,"column":33}}},{"type":{"label":"return","keyword":"return","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"return","start":7284,"end":7290,"loc":{"start":{"line":203,"column":2},"end":{"line":203,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"Math","start":7291,"end":7295,"loc":{"start":{"line":203,"column":9},"end":{"line":203,"column":13}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":7295,"end":7296,"loc":{"start":{"line":203,"column":13},"end":{"line":203,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pow","start":7296,"end":7299,"loc":{"start":{"line":203,"column":14},"end":{"line":203,"column":17}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7299,"end":7300,"loc":{"start":{"line":203,"column":17},"end":{"line":203,"column":18}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"r","start":7300,"end":7301,"loc":{"start":{"line":203,"column":18},"end":{"line":203,"column":19}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":7301,"end":7302,"loc":{"start":{"line":203,"column":19},"end":{"line":203,"column":20}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":1,"start":7302,"end":7303,"loc":{"start":{"line":203,"column":20},"end":{"line":203,"column":21}}},{"type":{"label":"/","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":10,"updateContext":null},"value":"/","start":7303,"end":7304,"loc":{"start":{"line":203,"column":21},"end":{"line":203,"column":22}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"nN","start":7304,"end":7306,"loc":{"start":{"line":203,"column":22},"end":{"line":203,"column":24}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7306,"end":7307,"loc":{"start":{"line":203,"column":24},"end":{"line":203,"column":25}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7309,"end":7310,"loc":{"start":{"line":204,"column":1},"end":{"line":204,"column":2}}},{"type":"CommentBlock","value":"* Current activity (under the Act model) of the pixel at position i. \n\t@param {IndexCoordinate} i the position of the pixel to evaluate the activity of.\n\t@return {number} the current activity of this pixel, which is >= 0.","start":7314,"end":7539,"loc":{"start":{"line":207,"column":1},"end":{"line":209,"column":70}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pxact","start":7541,"end":7546,"loc":{"start":{"line":210,"column":1},"end":{"line":210,"column":6}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7547,"end":7548,"loc":{"start":{"line":210,"column":7},"end":{"line":210,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":7549,"end":7550,"loc":{"start":{"line":210,"column":9},"end":{"line":210,"column":10}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7551,"end":7552,"loc":{"start":{"line":210,"column":11},"end":{"line":210,"column":12}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7552,"end":7553,"loc":{"start":{"line":210,"column":12},"end":{"line":210,"column":13}}},{"type":"CommentLine","value":" If the pixel is not in the cellpixelsact object, it has activity 0.","start":7556,"end":7626,"loc":{"start":{"line":211,"column":2},"end":{"line":211,"column":72}}},{"type":"CommentLine","value":" Otherwise, its activity is stored in the object.","start":7629,"end":7680,"loc":{"start":{"line":212,"column":2},"end":{"line":212,"column":53}}},{"type":{"label":"return","keyword":"return","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"return","start":7683,"end":7689,"loc":{"start":{"line":213,"column":2},"end":{"line":213,"column":8}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":7690,"end":7694,"loc":{"start":{"line":213,"column":9},"end":{"line":213,"column":13}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":7694,"end":7695,"loc":{"start":{"line":213,"column":13},"end":{"line":213,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellpixelsact","start":7695,"end":7708,"loc":{"start":{"line":213,"column":14},"end":{"line":213,"column":27}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":7708,"end":7709,"loc":{"start":{"line":213,"column":27},"end":{"line":213,"column":28}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":7709,"end":7710,"loc":{"start":{"line":213,"column":28},"end":{"line":213,"column":29}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":7710,"end":7711,"loc":{"start":{"line":213,"column":29},"end":{"line":213,"column":30}}},{"type":{"label":"||","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":1,"updateContext":null},"value":"||","start":7712,"end":7714,"loc":{"start":{"line":213,"column":31},"end":{"line":213,"column":33}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":7715,"end":7716,"loc":{"start":{"line":213,"column":34},"end":{"line":213,"column":35}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":7718,"end":7719,"loc":{"start":{"line":214,"column":1},"end":{"line":214,"column":2}}},{"type":"CommentBlock","value":"* The postSetpixListener of the ActivityConstraint ensures that pixels are \n\tgiven their maximal activity when they are freshly added to a CPM.\n\t@listens {CPM#setpixi} because when a new pixel is set (which is determined in the CPM),\n\tits activity must change so that this class knows about the update.\n\t@param {IndexCoordinate} i - the coordinate of the pixel that is changed.\n\t@param {CellId} t_old - the cellid of this pixel before the copy\n\t@param {CellId} t - the cellid of this pixel after the copy.\n\t","start":7723,"end":8234,"loc":{"start":{"line":216,"column":1},"end":{"line":223,"column":3}}},{"type":"CommentBlock","value":" eslint-disable no-unused-vars","start":8236,"end":8270,"loc":{"start":{"line":224,"column":1},"end":{"line":224,"column":35}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"postSetpixListener","start":8272,"end":8290,"loc":{"start":{"line":225,"column":1},"end":{"line":225,"column":19}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8290,"end":8291,"loc":{"start":{"line":225,"column":19},"end":{"line":225,"column":20}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":8292,"end":8293,"loc":{"start":{"line":225,"column":21},"end":{"line":225,"column":22}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8293,"end":8294,"loc":{"start":{"line":225,"column":22},"end":{"line":225,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"t_old","start":8295,"end":8300,"loc":{"start":{"line":225,"column":24},"end":{"line":225,"column":29}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8300,"end":8301,"loc":{"start":{"line":225,"column":29},"end":{"line":225,"column":30}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"t","start":8302,"end":8303,"loc":{"start":{"line":225,"column":31},"end":{"line":225,"column":32}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8304,"end":8305,"loc":{"start":{"line":225,"column":33},"end":{"line":225,"column":34}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8305,"end":8306,"loc":{"start":{"line":225,"column":34},"end":{"line":225,"column":35}}},{"type":"CommentLine","value":" After setting a pixel, it gets the MAX_ACT value of its cellkind.","start":8309,"end":8377,"loc":{"start":{"line":226,"column":2},"end":{"line":226,"column":70}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":8380,"end":8384,"loc":{"start":{"line":227,"column":2},"end":{"line":227,"column":6}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8384,"end":8385,"loc":{"start":{"line":227,"column":6},"end":{"line":227,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellpixelsact","start":8385,"end":8398,"loc":{"start":{"line":227,"column":7},"end":{"line":227,"column":20}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8398,"end":8399,"loc":{"start":{"line":227,"column":20},"end":{"line":227,"column":21}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":8399,"end":8400,"loc":{"start":{"line":227,"column":21},"end":{"line":227,"column":22}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8400,"end":8401,"loc":{"start":{"line":227,"column":22},"end":{"line":227,"column":23}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":8402,"end":8403,"loc":{"start":{"line":227,"column":24},"end":{"line":227,"column":25}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":8404,"end":8408,"loc":{"start":{"line":227,"column":26},"end":{"line":227,"column":30}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8408,"end":8409,"loc":{"start":{"line":227,"column":30},"end":{"line":227,"column":31}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellParameter","start":8409,"end":8422,"loc":{"start":{"line":227,"column":31},"end":{"line":227,"column":44}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8422,"end":8423,"loc":{"start":{"line":227,"column":44},"end":{"line":227,"column":45}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"MAX_ACT","start":8423,"end":8432,"loc":{"start":{"line":227,"column":45},"end":{"line":227,"column":54}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8432,"end":8433,"loc":{"start":{"line":227,"column":54},"end":{"line":227,"column":55}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"t","start":8434,"end":8435,"loc":{"start":{"line":227,"column":56},"end":{"line":227,"column":57}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8435,"end":8436,"loc":{"start":{"line":227,"column":57},"end":{"line":227,"column":58}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8438,"end":8439,"loc":{"start":{"line":228,"column":1},"end":{"line":228,"column":2}}},{"type":"CommentBlock","value":"* The postMCSListener of the ActivityConstraint ensures that pixel activities\n\tdecline with one after every MCS.\n\t@listens {CPM#timeStep} because when the CPM has finished an MCS, the activities must go down.\n\t","start":8443,"end":8657,"loc":{"start":{"line":230,"column":1},"end":{"line":233,"column":3}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"postMCSListener","start":8659,"end":8674,"loc":{"start":{"line":234,"column":1},"end":{"line":234,"column":16}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8674,"end":8675,"loc":{"start":{"line":234,"column":16},"end":{"line":234,"column":17}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8675,"end":8676,"loc":{"start":{"line":234,"column":17},"end":{"line":234,"column":18}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8676,"end":8677,"loc":{"start":{"line":234,"column":18},"end":{"line":234,"column":19}}},{"type":"CommentLine","value":" iterate over cellpixelsage and decrease all activities by one.","start":8680,"end":8745,"loc":{"start":{"line":235,"column":2},"end":{"line":235,"column":67}}},{"type":{"label":"for","keyword":"for","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":true,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"for","start":8748,"end":8751,"loc":{"start":{"line":236,"column":2},"end":{"line":236,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8751,"end":8752,"loc":{"start":{"line":236,"column":5},"end":{"line":236,"column":6}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":8753,"end":8756,"loc":{"start":{"line":236,"column":7},"end":{"line":236,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"key","start":8757,"end":8760,"loc":{"start":{"line":236,"column":11},"end":{"line":236,"column":14}}},{"type":{"label":"in","keyword":"in","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"in","start":8761,"end":8763,"loc":{"start":{"line":236,"column":15},"end":{"line":236,"column":17}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":8764,"end":8768,"loc":{"start":{"line":236,"column":18},"end":{"line":236,"column":22}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8768,"end":8769,"loc":{"start":{"line":236,"column":22},"end":{"line":236,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellpixelsact","start":8769,"end":8782,"loc":{"start":{"line":236,"column":23},"end":{"line":236,"column":36}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8783,"end":8784,"loc":{"start":{"line":236,"column":37},"end":{"line":236,"column":38}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8784,"end":8785,"loc":{"start":{"line":236,"column":38},"end":{"line":236,"column":39}}},{"type":"CommentLine","value":" activities that reach zero no longer need to be stored.","start":8789,"end":8847,"loc":{"start":{"line":237,"column":3},"end":{"line":237,"column":61}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":8851,"end":8853,"loc":{"start":{"line":238,"column":3},"end":{"line":238,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8853,"end":8854,"loc":{"start":{"line":238,"column":5},"end":{"line":238,"column":6}}},{"type":{"label":"++/--","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":true,"binop":null},"value":"--","start":8855,"end":8857,"loc":{"start":{"line":238,"column":7},"end":{"line":238,"column":9}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":8857,"end":8861,"loc":{"start":{"line":238,"column":9},"end":{"line":238,"column":13}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8861,"end":8862,"loc":{"start":{"line":238,"column":13},"end":{"line":238,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellpixelsact","start":8862,"end":8875,"loc":{"start":{"line":238,"column":14},"end":{"line":238,"column":27}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8875,"end":8876,"loc":{"start":{"line":238,"column":27},"end":{"line":238,"column":28}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"key","start":8877,"end":8880,"loc":{"start":{"line":238,"column":29},"end":{"line":238,"column":32}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8881,"end":8882,"loc":{"start":{"line":238,"column":33},"end":{"line":238,"column":34}}},{"type":{"label":"</>","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"<=","start":8883,"end":8885,"loc":{"start":{"line":238,"column":35},"end":{"line":238,"column":37}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":8886,"end":8887,"loc":{"start":{"line":238,"column":38},"end":{"line":238,"column":39}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8888,"end":8889,"loc":{"start":{"line":238,"column":40},"end":{"line":238,"column":41}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8889,"end":8890,"loc":{"start":{"line":238,"column":41},"end":{"line":238,"column":42}}},{"type":{"label":"delete","keyword":"delete","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":false,"binop":null,"updateContext":null},"value":"delete","start":8895,"end":8901,"loc":{"start":{"line":239,"column":4},"end":{"line":239,"column":10}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":8902,"end":8906,"loc":{"start":{"line":239,"column":11},"end":{"line":239,"column":15}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8906,"end":8907,"loc":{"start":{"line":239,"column":15},"end":{"line":239,"column":16}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellpixelsact","start":8907,"end":8920,"loc":{"start":{"line":239,"column":16},"end":{"line":239,"column":29}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8920,"end":8921,"loc":{"start":{"line":239,"column":29},"end":{"line":239,"column":30}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"key","start":8922,"end":8925,"loc":{"start":{"line":239,"column":31},"end":{"line":239,"column":34}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8926,"end":8927,"loc":{"start":{"line":239,"column":35},"end":{"line":239,"column":36}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8931,"end":8932,"loc":{"start":{"line":240,"column":3},"end":{"line":240,"column":4}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8935,"end":8936,"loc":{"start":{"line":241,"column":2},"end":{"line":241,"column":3}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8938,"end":8939,"loc":{"start":{"line":242,"column":1},"end":{"line":242,"column":2}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":8942,"end":8943,"loc":{"start":{"line":245,"column":0},"end":{"line":245,"column":1}}},{"type":{"label":"export","keyword":"export","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"export","start":8945,"end":8951,"loc":{"start":{"line":247,"column":0},"end":{"line":247,"column":6}}},{"type":{"label":"default","keyword":"default","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"default","start":8952,"end":8959,"loc":{"start":{"line":247,"column":7},"end":{"line":247,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"ActivityConstraint","start":8960,"end":8978,"loc":{"start":{"line":247,"column":15},"end":{"line":247,"column":33}}},{"type":{"label":"eof","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":8979,"end":8979,"loc":{"start":{"line":248,"column":0},"end":{"line":248,"column":0}}}]}