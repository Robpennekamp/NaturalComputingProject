{"type":"File","start":0,"end":3529,"loc":{"start":{"line":1,"column":0},"end":{"line":99,"column":0}},"program":{"type":"Program","start":0,"end":3529,"loc":{"start":{"line":1,"column":0},"end":{"line":99,"column":0}},"sourceType":"module","body":[{"type":"ImportDeclaration","start":0,"end":48,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"specifiers":[{"type":"ImportDefaultSpecifier","start":7,"end":21,"loc":{"start":{"line":1,"column":7},"end":{"line":1,"column":21}},"local":{"type":"Identifier","start":7,"end":21,"loc":{"start":{"line":1,"column":7},"end":{"line":1,"column":21},"identifierName":"SoftConstraint"},"name":"SoftConstraint"}}],"source":{"type":"StringLiteral","start":27,"end":48,"loc":{"start":{"line":1,"column":27},"end":{"line":1,"column":48}},"extra":{"rawValue":"./SoftConstraint.js","raw":"\"./SoftConstraint.js\""},"value":"./SoftConstraint.js"}},{"type":"ImportDeclaration","start":49,"end":101,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":52}},"specifiers":[{"type":"ImportDefaultSpecifier","start":56,"end":72,"loc":{"start":{"line":2,"column":7},"end":{"line":2,"column":23}},"local":{"type":"Identifier","start":56,"end":72,"loc":{"start":{"line":2,"column":7},"end":{"line":2,"column":23},"identifierName":"ParameterChecker"},"name":"ParameterChecker"}}],"source":{"type":"StringLiteral","start":78,"end":101,"loc":{"start":{"line":2,"column":29},"end":{"line":2,"column":52}},"extra":{"rawValue":"./ParameterChecker.js","raw":"\"./ParameterChecker.js\""},"value":"./ParameterChecker.js","leadingComments":null,"trailingComments":null},"trailingComments":[{"type":"CommentBlock","value":"* Implements a global bias direction of motion.\n\tThis constraint computes the *unnormalized* dot product \n\tbetween copy attempt vector and target direction vector.\n\n\tSupply the target direction vector in normalized form, or \n\tuse the length of the vector to influence the strength \n\tof this bias.\n\n\tWorks for torus grids, if they are \"big enough\".\n\t\n\t * @example\n\t * // Build a CPM and add the constraint\n\t * let CPM = require( \"path/to/build\" )\n\t * let C = new CPM.CPM( [200,200], { T : 20 } )\n\t * C.add( new CPM.PreferredDirectionConstraint( {\n\t * \tLAMBDA_DIR : [0,50], \n\t * \tDIR : [[0,0],[1,1]]\n\t * } ) )\n\t","start":103,"end":716,"loc":{"start":{"line":4,"column":0},"end":{"line":22,"column":3}}}]},{"type":"Identifier","start":717,"end":3483,"loc":{"start":{"line":23,"column":0},"end":{"line":96,"column":1}},"id":{"type":"Identifier","start":723,"end":751,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":34},"identifierName":"PreferredDirectionConstraint"},"name":"PreferredDirectionConstraint","leadingComments":null},"superClass":{"type":"Identifier","start":760,"end":774,"loc":{"start":{"line":23,"column":43},"end":{"line":23,"column":57},"identifierName":"SoftConstraint"},"name":"SoftConstraint"},"body":{"type":"ClassBody","start":775,"end":3483,"loc":{"start":{"line":23,"column":58},"end":{"line":96,"column":1}},"body":[{"type":"ClassMethod","start":1203,"end":1238,"loc":{"start":{"line":32,"column":1},"end":{"line":34,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":1203,"end":1214,"loc":{"start":{"line":32,"column":1},"end":{"line":32,"column":12},"identifierName":"constructor"},"name":"constructor","leadingComments":null},"kind":"constructor","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":1215,"end":1219,"loc":{"start":{"line":32,"column":13},"end":{"line":32,"column":17},"identifierName":"conf"},"name":"conf"}],"body":{"type":"BlockStatement","start":1220,"end":1238,"loc":{"start":{"line":32,"column":18},"end":{"line":34,"column":2}},"body":[{"type":"ExpressionStatement","start":1224,"end":1235,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":13}},"expression":{"type":"CallExpression","start":1224,"end":1235,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":13}},"callee":{"type":"Super","start":1224,"end":1229,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":7}}},"arguments":[{"type":"Identifier","start":1230,"end":1234,"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":12},"identifierName":"conf"},"name":"conf"}]}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* The constructor of the PreferredDirectionConstraint requires a conf object with parameters.\n\t@param {object} conf - parameter object for this constraint\n\t@param {PerKindNonNegative} conf.LAMBDA_DIR - strength of the constraint per cellkind.\n\t@param {ArrayCoordinate[]} conf.DIR 'vector' with the preferred direction. This is\n\tan array with the {@link ArrayCoordinate}s of the start and endpoints of this vector. \n\t","start":781,"end":1201,"loc":{"start":{"line":26,"column":1},"end":{"line":31,"column":3}}}],"trailingComments":[{"type":"CommentBlock","value":"* This method checks that all required parameters are present in the object supplied to\n\tthe constructor, and that they are of the right format. It throws an error when this\n\tis not the case.","start":1242,"end":1437,"loc":{"start":{"line":36,"column":1},"end":{"line":38,"column":19}}}]},{"type":"ClassMethod","start":1439,"end":2000,"loc":{"start":{"line":39,"column":1},"end":{"line":55,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":1439,"end":1450,"loc":{"start":{"line":39,"column":1},"end":{"line":39,"column":12},"identifierName":"confChecker"},"name":"confChecker","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1452,"end":2000,"loc":{"start":{"line":39,"column":14},"end":{"line":55,"column":2}},"body":[{"type":"VariableDeclaration","start":1456,"end":1511,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":57}},"declarations":[{"type":"VariableDeclarator","start":1460,"end":1511,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":57}},"id":{"type":"Identifier","start":1460,"end":1467,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":13},"identifierName":"checker"},"name":"checker"},"init":{"type":"NewExpression","start":1470,"end":1511,"loc":{"start":{"line":40,"column":16},"end":{"line":40,"column":57}},"callee":{"type":"Identifier","start":1474,"end":1490,"loc":{"start":{"line":40,"column":20},"end":{"line":40,"column":36},"identifierName":"ParameterChecker"},"name":"ParameterChecker"},"arguments":[{"type":"MemberExpression","start":1492,"end":1501,"loc":{"start":{"line":40,"column":38},"end":{"line":40,"column":47}},"object":{"type":"ThisExpression","start":1492,"end":1496,"loc":{"start":{"line":40,"column":38},"end":{"line":40,"column":42}}},"property":{"type":"Identifier","start":1497,"end":1501,"loc":{"start":{"line":40,"column":43},"end":{"line":40,"column":47},"identifierName":"conf"},"name":"conf"},"computed":false},{"type":"MemberExpression","start":1503,"end":1509,"loc":{"start":{"line":40,"column":49},"end":{"line":40,"column":55}},"object":{"type":"ThisExpression","start":1503,"end":1507,"loc":{"start":{"line":40,"column":49},"end":{"line":40,"column":53}}},"property":{"type":"Identifier","start":1508,"end":1509,"loc":{"start":{"line":40,"column":54},"end":{"line":40,"column":55},"identifierName":"C"},"name":"C"},"computed":false}]}}],"kind":"let"},{"type":"ExpressionStatement","start":1514,"end":1584,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":72}},"expression":{"type":"CallExpression","start":1514,"end":1584,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":72}},"callee":{"type":"MemberExpression","start":1514,"end":1540,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":28}},"object":{"type":"Identifier","start":1514,"end":1521,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":9},"identifierName":"checker"},"name":"checker"},"property":{"type":"Identifier","start":1522,"end":1540,"loc":{"start":{"line":41,"column":10},"end":{"line":41,"column":28},"identifierName":"confCheckParameter"},"name":"confCheckParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":1542,"end":1554,"loc":{"start":{"line":41,"column":30},"end":{"line":41,"column":42}},"extra":{"rawValue":"LAMBDA_DIR","raw":"\"LAMBDA_DIR\""},"value":"LAMBDA_DIR"},{"type":"StringLiteral","start":1556,"end":1567,"loc":{"start":{"line":41,"column":44},"end":{"line":41,"column":55}},"extra":{"rawValue":"KindArray","raw":"\"KindArray\""},"value":"KindArray"},{"type":"StringLiteral","start":1569,"end":1582,"loc":{"start":{"line":41,"column":57},"end":{"line":41,"column":70}},"extra":{"rawValue":"NonNegative","raw":"\"NonNegative\""},"value":"NonNegative"}],"trailingComments":null},"trailingComments":[{"type":"CommentLine","value":" Custom check for the attractionpoint","start":1590,"end":1629,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":41}}}]},{"type":"ExpressionStatement","start":1632,"end":1668,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":38}},"expression":{"type":"CallExpression","start":1632,"end":1668,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":38}},"callee":{"type":"MemberExpression","start":1632,"end":1659,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":29}},"object":{"type":"Identifier","start":1632,"end":1639,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":9},"identifierName":"checker"},"name":"checker","leadingComments":null},"property":{"type":"Identifier","start":1640,"end":1659,"loc":{"start":{"line":44,"column":10},"end":{"line":44,"column":29},"identifierName":"confCheckPresenceOf"},"name":"confCheckPresenceOf"},"computed":false,"leadingComments":null},"arguments":[{"type":"StringLiteral","start":1661,"end":1666,"loc":{"start":{"line":44,"column":31},"end":{"line":44,"column":36}},"extra":{"rawValue":"DIR","raw":"\"DIR\""},"value":"DIR"}],"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" Custom check for the attractionpoint","start":1590,"end":1629,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":41}}}]},{"type":"VariableDeclaration","start":1671,"end":1696,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":27}},"declarations":[{"type":"VariableDeclarator","start":1675,"end":1696,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":27}},"id":{"type":"Identifier","start":1675,"end":1677,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":8},"identifierName":"pt"},"name":"pt"},"init":{"type":"MemberExpression","start":1680,"end":1696,"loc":{"start":{"line":45,"column":11},"end":{"line":45,"column":27}},"object":{"type":"MemberExpression","start":1680,"end":1689,"loc":{"start":{"line":45,"column":11},"end":{"line":45,"column":20}},"object":{"type":"ThisExpression","start":1680,"end":1684,"loc":{"start":{"line":45,"column":11},"end":{"line":45,"column":15}}},"property":{"type":"Identifier","start":1685,"end":1689,"loc":{"start":{"line":45,"column":16},"end":{"line":45,"column":20},"identifierName":"conf"},"name":"conf"},"computed":false},"property":{"type":"StringLiteral","start":1690,"end":1695,"loc":{"start":{"line":45,"column":21},"end":{"line":45,"column":26}},"extra":{"rawValue":"DIR","raw":"\"DIR\""},"value":"DIR"},"computed":true}}],"kind":"let"},{"type":"IfStatement","start":1699,"end":1838,"loc":{"start":{"line":46,"column":2},"end":{"line":48,"column":3}},"test":{"type":"UnaryExpression","start":1703,"end":1727,"loc":{"start":{"line":46,"column":6},"end":{"line":46,"column":30}},"operator":"!","prefix":true,"argument":{"type":"BinaryExpression","start":1706,"end":1725,"loc":{"start":{"line":46,"column":9},"end":{"line":46,"column":28}},"left":{"type":"Identifier","start":1706,"end":1708,"loc":{"start":{"line":46,"column":9},"end":{"line":46,"column":11},"identifierName":"pt"},"name":"pt"},"operator":"instanceof","right":{"type":"Identifier","start":1720,"end":1725,"loc":{"start":{"line":46,"column":23},"end":{"line":46,"column":28},"identifierName":"Array"},"name":"Array"},"extra":{"parenthesized":true,"parenStart":1704}},"extra":{"parenthesizedArgument":false}},"consequent":{"type":"BlockStatement","start":1729,"end":1838,"loc":{"start":{"line":46,"column":32},"end":{"line":48,"column":3}},"body":[{"type":"ThrowStatement","start":1734,"end":1834,"loc":{"start":{"line":47,"column":3},"end":{"line":47,"column":103}},"argument":{"type":"StringLiteral","start":1741,"end":1832,"loc":{"start":{"line":47,"column":10},"end":{"line":47,"column":101}},"extra":{"rawValue":"DIR must be an array with the start and end coordinate of the preferred direction vector!","raw":"\"DIR must be an array with the start and end coordinate of the preferred direction vector!\"","parenthesized":true,"parenStart":1739},"value":"DIR must be an array with the start and end coordinate of the preferred direction vector!"}}],"directives":[]},"alternate":null},{"type":"ForOfStatement","start":1841,"end":1997,"loc":{"start":{"line":49,"column":2},"end":{"line":54,"column":3}},"left":{"type":"VariableDeclaration","start":1846,"end":1851,"loc":{"start":{"line":49,"column":7},"end":{"line":49,"column":12}},"declarations":[{"type":"VariableDeclarator","start":1850,"end":1851,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":12}},"id":{"type":"Identifier","start":1850,"end":1851,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":12},"identifierName":"p"},"name":"p"},"init":null}],"kind":"let"},"right":{"type":"Identifier","start":1855,"end":1857,"loc":{"start":{"line":49,"column":16},"end":{"line":49,"column":18},"identifierName":"pt"},"name":"pt"},"body":{"type":"BlockStatement","start":1859,"end":1997,"loc":{"start":{"line":49,"column":20},"end":{"line":54,"column":3}},"body":[{"type":"IfStatement","start":1867,"end":1993,"loc":{"start":{"line":51,"column":3},"end":{"line":53,"column":4}},"test":{"type":"UnaryExpression","start":1871,"end":1895,"loc":{"start":{"line":51,"column":7},"end":{"line":51,"column":31}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1872,"end":1895,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":31}},"callee":{"type":"MemberExpression","start":1872,"end":1892,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":28}},"object":{"type":"Identifier","start":1872,"end":1879,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":15},"identifierName":"checker"},"name":"checker"},"property":{"type":"Identifier","start":1880,"end":1892,"loc":{"start":{"line":51,"column":16},"end":{"line":51,"column":28},"identifierName":"isCoordinate"},"name":"isCoordinate"},"computed":false},"arguments":[{"type":"Identifier","start":1893,"end":1894,"loc":{"start":{"line":51,"column":29},"end":{"line":51,"column":30},"identifierName":"p"},"name":"p"}]},"extra":{"parenthesizedArgument":false}},"consequent":{"type":"BlockStatement","start":1897,"end":1993,"loc":{"start":{"line":51,"column":33},"end":{"line":53,"column":4}},"body":[{"type":"ThrowStatement","start":1903,"end":1988,"loc":{"start":{"line":52,"column":4},"end":{"line":52,"column":89}},"argument":{"type":"StringLiteral","start":1909,"end":1987,"loc":{"start":{"line":52,"column":10},"end":{"line":52,"column":88}},"extra":{"rawValue":"DIR elements must be coordinate arrays with the same dimensions as the grid!","raw":"\"DIR elements must be coordinate arrays with the same dimensions as the grid!\"","parenthesized":true,"parenStart":1908},"value":"DIR elements must be coordinate arrays with the same dimensions as the grid!"}}],"directives":[]},"alternate":null}],"directives":[]}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* This method checks that all required parameters are present in the object supplied to\n\tthe constructor, and that they are of the right format. It throws an error when this\n\tis not the case.","start":1242,"end":1437,"loc":{"start":{"line":36,"column":1},"end":{"line":38,"column":19}}}],"trailingComments":[{"type":"CommentBlock","value":"* Method to compute the Hamiltonian for this constraint. \n\t @param {IndexCoordinate} src_i - coordinate of the source pixel that tries to copy.\n\t @param {IndexCoordinate} tgt_i - coordinate of the target pixel the source is trying\n\t to copy into.\n\t @param {CellId} src_type - cellid of the source pixel.\n\t @param {CellId} tgt_type - cellid of the target pixel. This argument is not actually\n\t used but is given for consistency with other soft constraints; the CPM always calls\n\t this method with four arguments.\n\t @return {number} the change in Hamiltonian for this copy attempt and this constraint.","start":2004,"end":2607,"loc":{"start":{"line":57,"column":1},"end":{"line":65,"column":89}}},{"type":"CommentBlock","value":" eslint-disable no-unused-vars","start":2610,"end":2644,"loc":{"start":{"line":66,"column":1},"end":{"line":66,"column":35}}}]},{"type":"ClassMethod","start":2646,"end":3481,"loc":{"start":{"line":67,"column":1},"end":{"line":95,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":2646,"end":2652,"loc":{"start":{"line":67,"column":1},"end":{"line":67,"column":7},"identifierName":"deltaH"},"name":"deltaH","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":2654,"end":2659,"loc":{"start":{"line":67,"column":9},"end":{"line":67,"column":14},"identifierName":"src_i"},"name":"src_i"},{"type":"Identifier","start":2661,"end":2666,"loc":{"start":{"line":67,"column":16},"end":{"line":67,"column":21},"identifierName":"tgt_i"},"name":"tgt_i"},{"type":"Identifier","start":2668,"end":2676,"loc":{"start":{"line":67,"column":23},"end":{"line":67,"column":31},"identifierName":"src_type"},"name":"src_type"},{"type":"Identifier","start":2678,"end":2686,"loc":{"start":{"line":67,"column":33},"end":{"line":67,"column":41},"identifierName":"tgt_type"},"name":"tgt_type"}],"body":{"type":"BlockStatement","start":2688,"end":3481,"loc":{"start":{"line":67,"column":43},"end":{"line":95,"column":2}},"body":[{"type":"VariableDeclaration","start":2692,"end":2742,"loc":{"start":{"line":68,"column":2},"end":{"line":68,"column":52}},"declarations":[{"type":"VariableDeclarator","start":2696,"end":2742,"loc":{"start":{"line":68,"column":6},"end":{"line":68,"column":52}},"id":{"type":"Identifier","start":2696,"end":2697,"loc":{"start":{"line":68,"column":6},"end":{"line":68,"column":7},"identifierName":"l"},"name":"l"},"init":{"type":"CallExpression","start":2700,"end":2742,"loc":{"start":{"line":68,"column":10},"end":{"line":68,"column":52}},"callee":{"type":"MemberExpression","start":2700,"end":2718,"loc":{"start":{"line":68,"column":10},"end":{"line":68,"column":28}},"object":{"type":"ThisExpression","start":2700,"end":2704,"loc":{"start":{"line":68,"column":10},"end":{"line":68,"column":14}}},"property":{"type":"Identifier","start":2705,"end":2718,"loc":{"start":{"line":68,"column":15},"end":{"line":68,"column":28},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":2719,"end":2731,"loc":{"start":{"line":68,"column":29},"end":{"line":68,"column":41}},"extra":{"rawValue":"LAMBDA_DIR","raw":"\"LAMBDA_DIR\""},"value":"LAMBDA_DIR"},{"type":"Identifier","start":2733,"end":2741,"loc":{"start":{"line":68,"column":43},"end":{"line":68,"column":51},"identifierName":"src_type"},"name":"src_type"}]}}],"kind":"let"},{"type":"IfStatement","start":2745,"end":2770,"loc":{"start":{"line":69,"column":2},"end":{"line":71,"column":3}},"test":{"type":"UnaryExpression","start":2749,"end":2751,"loc":{"start":{"line":69,"column":6},"end":{"line":69,"column":8}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2750,"end":2751,"loc":{"start":{"line":69,"column":7},"end":{"line":69,"column":8},"identifierName":"l"},"name":"l"},"extra":{"parenthesizedArgument":false}},"consequent":{"type":"BlockStatement","start":2753,"end":2770,"loc":{"start":{"line":69,"column":10},"end":{"line":71,"column":3}},"body":[{"type":"ReturnStatement","start":2758,"end":2766,"loc":{"start":{"line":70,"column":3},"end":{"line":70,"column":11}},"argument":{"type":"NumericLiteral","start":2765,"end":2766,"loc":{"start":{"line":70,"column":10},"end":{"line":70,"column":11}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"directives":[]},"alternate":null},{"type":"VariableDeclaration","start":2773,"end":2802,"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":31}},"declarations":[{"type":"VariableDeclarator","start":2777,"end":2802,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":31}},"id":{"type":"Identifier","start":2777,"end":2782,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":11},"identifierName":"torus"},"name":"torus"},"init":{"type":"MemberExpression","start":2785,"end":2802,"loc":{"start":{"line":72,"column":14},"end":{"line":72,"column":31}},"object":{"type":"MemberExpression","start":2785,"end":2796,"loc":{"start":{"line":72,"column":14},"end":{"line":72,"column":25}},"object":{"type":"MemberExpression","start":2785,"end":2791,"loc":{"start":{"line":72,"column":14},"end":{"line":72,"column":20}},"object":{"type":"ThisExpression","start":2785,"end":2789,"loc":{"start":{"line":72,"column":14},"end":{"line":72,"column":18}}},"property":{"type":"Identifier","start":2790,"end":2791,"loc":{"start":{"line":72,"column":19},"end":{"line":72,"column":20},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":2792,"end":2796,"loc":{"start":{"line":72,"column":21},"end":{"line":72,"column":25},"identifierName":"conf"},"name":"conf"},"computed":false},"property":{"type":"Identifier","start":2797,"end":2802,"loc":{"start":{"line":72,"column":26},"end":{"line":72,"column":31},"identifierName":"torus"},"name":"torus"},"computed":false}}],"kind":"let"},{"type":"VariableDeclaration","start":2805,"end":2850,"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":47}},"declarations":[{"type":"VariableDeclarator","start":2809,"end":2850,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":47}},"id":{"type":"Identifier","start":2809,"end":2812,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":9},"identifierName":"dir"},"name":"dir"},"init":{"type":"CallExpression","start":2815,"end":2850,"loc":{"start":{"line":73,"column":12},"end":{"line":73,"column":47}},"callee":{"type":"MemberExpression","start":2815,"end":2833,"loc":{"start":{"line":73,"column":12},"end":{"line":73,"column":30}},"object":{"type":"ThisExpression","start":2815,"end":2819,"loc":{"start":{"line":73,"column":12},"end":{"line":73,"column":16}}},"property":{"type":"Identifier","start":2820,"end":2833,"loc":{"start":{"line":73,"column":17},"end":{"line":73,"column":30},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":2834,"end":2839,"loc":{"start":{"line":73,"column":31},"end":{"line":73,"column":36}},"extra":{"rawValue":"DIR","raw":"\"DIR\""},"value":"DIR"},{"type":"Identifier","start":2841,"end":2849,"loc":{"start":{"line":73,"column":38},"end":{"line":73,"column":46},"identifierName":"src_type"},"name":"src_type"}]}}],"kind":"let"},{"type":"VariableDeclaration","start":2853,"end":2917,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":66}},"declarations":[{"type":"VariableDeclarator","start":2857,"end":2886,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":35}},"id":{"type":"Identifier","start":2857,"end":2859,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":8},"identifierName":"p1"},"name":"p1"},"init":{"type":"CallExpression","start":2862,"end":2886,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":35}},"callee":{"type":"MemberExpression","start":2862,"end":2877,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":26}},"object":{"type":"MemberExpression","start":2862,"end":2873,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":22}},"object":{"type":"MemberExpression","start":2862,"end":2868,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":17}},"object":{"type":"ThisExpression","start":2862,"end":2866,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":15}}},"property":{"type":"Identifier","start":2867,"end":2868,"loc":{"start":{"line":74,"column":16},"end":{"line":74,"column":17},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":2869,"end":2873,"loc":{"start":{"line":74,"column":18},"end":{"line":74,"column":22},"identifierName":"grid"},"name":"grid"},"computed":false},"property":{"type":"Identifier","start":2874,"end":2877,"loc":{"start":{"line":74,"column":23},"end":{"line":74,"column":26},"identifierName":"i2p"},"name":"i2p"},"computed":false},"arguments":[{"type":"Identifier","start":2879,"end":2884,"loc":{"start":{"line":74,"column":28},"end":{"line":74,"column":33},"identifierName":"src_i"},"name":"src_i"}]}},{"type":"VariableDeclarator","start":2888,"end":2917,"loc":{"start":{"line":74,"column":37},"end":{"line":74,"column":66}},"id":{"type":"Identifier","start":2888,"end":2890,"loc":{"start":{"line":74,"column":37},"end":{"line":74,"column":39},"identifierName":"p2"},"name":"p2"},"init":{"type":"CallExpression","start":2893,"end":2917,"loc":{"start":{"line":74,"column":42},"end":{"line":74,"column":66}},"callee":{"type":"MemberExpression","start":2893,"end":2908,"loc":{"start":{"line":74,"column":42},"end":{"line":74,"column":57}},"object":{"type":"MemberExpression","start":2893,"end":2904,"loc":{"start":{"line":74,"column":42},"end":{"line":74,"column":53}},"object":{"type":"MemberExpression","start":2893,"end":2899,"loc":{"start":{"line":74,"column":42},"end":{"line":74,"column":48}},"object":{"type":"ThisExpression","start":2893,"end":2897,"loc":{"start":{"line":74,"column":42},"end":{"line":74,"column":46}}},"property":{"type":"Identifier","start":2898,"end":2899,"loc":{"start":{"line":74,"column":47},"end":{"line":74,"column":48},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":2900,"end":2904,"loc":{"start":{"line":74,"column":49},"end":{"line":74,"column":53},"identifierName":"grid"},"name":"grid"},"computed":false},"property":{"type":"Identifier","start":2905,"end":2908,"loc":{"start":{"line":74,"column":54},"end":{"line":74,"column":57},"identifierName":"i2p"},"name":"i2p"},"computed":false},"arguments":[{"type":"Identifier","start":2910,"end":2915,"loc":{"start":{"line":74,"column":59},"end":{"line":74,"column":64},"identifierName":"tgt_i"},"name":"tgt_i"}],"trailingComments":null},"trailingComments":null}],"kind":"let","trailingComments":[{"type":"CommentLine","value":" To bias a copy attempt p1 -> p2 in the direction of vector 'dir'.","start":2920,"end":2988,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":70}}}]},{"type":"VariableDeclaration","start":2991,"end":3001,"loc":{"start":{"line":76,"column":2},"end":{"line":76,"column":12}},"declarations":[{"type":"VariableDeclarator","start":2995,"end":3001,"loc":{"start":{"line":76,"column":6},"end":{"line":76,"column":12}},"id":{"type":"Identifier","start":2995,"end":2996,"loc":{"start":{"line":76,"column":6},"end":{"line":76,"column":7},"identifierName":"r"},"name":"r","leadingComments":null},"init":{"type":"NumericLiteral","start":2999,"end":3001,"loc":{"start":{"line":76,"column":10},"end":{"line":76,"column":12}},"extra":{"rawValue":0,"raw":"0."},"value":0,"leadingComments":null,"trailingComments":null},"leadingComments":null,"trailingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" To bias a copy attempt p1 -> p2 in the direction of vector 'dir'.","start":2920,"end":2988,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":70}}}],"trailingComments":[{"type":"CommentLine","value":" loops over the coordinates x,y,(z)","start":3004,"end":3041,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":39}}}]},{"type":"ForStatement","start":3044,"end":3461,"loc":{"start":{"line":78,"column":2},"end":{"line":93,"column":3}},"init":{"type":"VariableDeclaration","start":3049,"end":3058,"loc":{"start":{"line":78,"column":7},"end":{"line":78,"column":16}},"declarations":[{"type":"VariableDeclarator","start":3053,"end":3058,"loc":{"start":{"line":78,"column":11},"end":{"line":78,"column":16}},"id":{"type":"Identifier","start":3053,"end":3054,"loc":{"start":{"line":78,"column":11},"end":{"line":78,"column":12},"identifierName":"i"},"name":"i","leadingComments":null},"init":{"type":"NumericLiteral","start":3057,"end":3058,"loc":{"start":{"line":78,"column":15},"end":{"line":78,"column":16}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null}],"kind":"let","leadingComments":null},"test":{"type":"BinaryExpression","start":3060,"end":3073,"loc":{"start":{"line":78,"column":18},"end":{"line":78,"column":31}},"left":{"type":"Identifier","start":3060,"end":3061,"loc":{"start":{"line":78,"column":18},"end":{"line":78,"column":19},"identifierName":"i"},"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":3064,"end":3073,"loc":{"start":{"line":78,"column":22},"end":{"line":78,"column":31}},"object":{"type":"Identifier","start":3064,"end":3066,"loc":{"start":{"line":78,"column":22},"end":{"line":78,"column":24},"identifierName":"p1"},"name":"p1"},"property":{"type":"Identifier","start":3067,"end":3073,"loc":{"start":{"line":78,"column":25},"end":{"line":78,"column":31},"identifierName":"length"},"name":"length"},"computed":false}},"update":{"type":"UpdateExpression","start":3076,"end":3079,"loc":{"start":{"line":78,"column":34},"end":{"line":78,"column":37}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":3076,"end":3077,"loc":{"start":{"line":78,"column":34},"end":{"line":78,"column":35},"identifierName":"i"},"name":"i"}},"body":{"type":"BlockStatement","start":3081,"end":3461,"loc":{"start":{"line":78,"column":39},"end":{"line":93,"column":3}},"body":[{"type":"VariableDeclaration","start":3086,"end":3112,"loc":{"start":{"line":79,"column":3},"end":{"line":79,"column":29}},"declarations":[{"type":"VariableDeclarator","start":3090,"end":3112,"loc":{"start":{"line":79,"column":7},"end":{"line":79,"column":29}},"id":{"type":"Identifier","start":3090,"end":3092,"loc":{"start":{"line":79,"column":7},"end":{"line":79,"column":9},"identifierName":"si"},"name":"si"},"init":{"type":"MemberExpression","start":3095,"end":3112,"loc":{"start":{"line":79,"column":12},"end":{"line":79,"column":29}},"object":{"type":"MemberExpression","start":3095,"end":3109,"loc":{"start":{"line":79,"column":12},"end":{"line":79,"column":26}},"object":{"type":"MemberExpression","start":3095,"end":3101,"loc":{"start":{"line":79,"column":12},"end":{"line":79,"column":18}},"object":{"type":"ThisExpression","start":3095,"end":3099,"loc":{"start":{"line":79,"column":12},"end":{"line":79,"column":16}}},"property":{"type":"Identifier","start":3100,"end":3101,"loc":{"start":{"line":79,"column":17},"end":{"line":79,"column":18},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":3102,"end":3109,"loc":{"start":{"line":79,"column":19},"end":{"line":79,"column":26},"identifierName":"extents"},"name":"extents"},"computed":false},"property":{"type":"Identifier","start":3110,"end":3111,"loc":{"start":{"line":79,"column":27},"end":{"line":79,"column":28},"identifierName":"i"},"name":"i"},"computed":true,"trailingComments":null},"trailingComments":null}],"kind":"let","trailingComments":[{"type":"CommentLine","value":" direction of the copy attempt on this coordinate is from p1 to p2","start":3116,"end":3184,"loc":{"start":{"line":80,"column":3},"end":{"line":80,"column":71}}}]},{"type":"VariableDeclaration","start":3188,"end":3210,"loc":{"start":{"line":81,"column":3},"end":{"line":81,"column":25}},"declarations":[{"type":"VariableDeclarator","start":3192,"end":3210,"loc":{"start":{"line":81,"column":7},"end":{"line":81,"column":25}},"id":{"type":"Identifier","start":3192,"end":3194,"loc":{"start":{"line":81,"column":7},"end":{"line":81,"column":9},"identifierName":"dx"},"name":"dx","leadingComments":null},"init":{"type":"BinaryExpression","start":3197,"end":3210,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":25}},"left":{"type":"MemberExpression","start":3197,"end":3202,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":17}},"object":{"type":"Identifier","start":3197,"end":3199,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":14},"identifierName":"p2"},"name":"p2"},"property":{"type":"Identifier","start":3200,"end":3201,"loc":{"start":{"line":81,"column":15},"end":{"line":81,"column":16},"identifierName":"i"},"name":"i"},"computed":true},"operator":"-","right":{"type":"MemberExpression","start":3205,"end":3210,"loc":{"start":{"line":81,"column":20},"end":{"line":81,"column":25}},"object":{"type":"Identifier","start":3205,"end":3207,"loc":{"start":{"line":81,"column":20},"end":{"line":81,"column":22},"identifierName":"p1"},"name":"p1"},"property":{"type":"Identifier","start":3208,"end":3209,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":24},"identifierName":"i"},"name":"i"},"computed":true}},"leadingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" direction of the copy attempt on this coordinate is from p1 to p2","start":3116,"end":3184,"loc":{"start":{"line":80,"column":3},"end":{"line":80,"column":71}}}]},{"type":"IfStatement","start":3214,"end":3404,"loc":{"start":{"line":82,"column":3},"end":{"line":90,"column":4}},"test":{"type":"MemberExpression","start":3218,"end":3226,"loc":{"start":{"line":82,"column":7},"end":{"line":82,"column":15}},"object":{"type":"Identifier","start":3218,"end":3223,"loc":{"start":{"line":82,"column":7},"end":{"line":82,"column":12},"identifierName":"torus"},"name":"torus"},"property":{"type":"Identifier","start":3224,"end":3225,"loc":{"start":{"line":82,"column":13},"end":{"line":82,"column":14},"identifierName":"i"},"name":"i"},"computed":true},"consequent":{"type":"BlockStatement","start":3228,"end":3404,"loc":{"start":{"line":82,"column":17},"end":{"line":90,"column":4}},"body":[{"type":"IfStatement","start":3320,"end":3399,"loc":{"start":{"line":85,"column":4},"end":{"line":89,"column":5}},"test":{"type":"BinaryExpression","start":3324,"end":3333,"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":17}},"left":{"type":"Identifier","start":3324,"end":3326,"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":10},"identifierName":"dx"},"name":"dx","leadingComments":null},"operator":">","right":{"type":"BinaryExpression","start":3329,"end":3333,"loc":{"start":{"line":85,"column":13},"end":{"line":85,"column":17}},"left":{"type":"Identifier","start":3329,"end":3331,"loc":{"start":{"line":85,"column":13},"end":{"line":85,"column":15},"identifierName":"si"},"name":"si"},"operator":"/","right":{"type":"NumericLiteral","start":3332,"end":3333,"loc":{"start":{"line":85,"column":16},"end":{"line":85,"column":17}},"extra":{"rawValue":2,"raw":"2"},"value":2}},"leadingComments":null},"consequent":{"type":"BlockStatement","start":3335,"end":3356,"loc":{"start":{"line":85,"column":19},"end":{"line":87,"column":5}},"body":[{"type":"ExpressionStatement","start":3342,"end":3350,"loc":{"start":{"line":86,"column":5},"end":{"line":86,"column":13}},"expression":{"type":"AssignmentExpression","start":3342,"end":3350,"loc":{"start":{"line":86,"column":5},"end":{"line":86,"column":13}},"operator":"-=","left":{"type":"Identifier","start":3342,"end":3344,"loc":{"start":{"line":86,"column":5},"end":{"line":86,"column":7},"identifierName":"dx"},"name":"dx"},"right":{"type":"Identifier","start":3348,"end":3350,"loc":{"start":{"line":86,"column":11},"end":{"line":86,"column":13},"identifierName":"si"},"name":"si"}}}],"directives":[]},"alternate":{"type":"IfStatement","start":3362,"end":3399,"loc":{"start":{"line":87,"column":11},"end":{"line":89,"column":5}},"test":{"type":"BinaryExpression","start":3366,"end":3376,"loc":{"start":{"line":87,"column":15},"end":{"line":87,"column":25}},"left":{"type":"Identifier","start":3366,"end":3368,"loc":{"start":{"line":87,"column":15},"end":{"line":87,"column":17},"identifierName":"dx"},"name":"dx"},"operator":"<","right":{"type":"BinaryExpression","start":3371,"end":3376,"loc":{"start":{"line":87,"column":20},"end":{"line":87,"column":25}},"left":{"type":"UnaryExpression","start":3371,"end":3374,"loc":{"start":{"line":87,"column":20},"end":{"line":87,"column":23}},"operator":"-","prefix":true,"argument":{"type":"Identifier","start":3372,"end":3374,"loc":{"start":{"line":87,"column":21},"end":{"line":87,"column":23},"identifierName":"si"},"name":"si"},"extra":{"parenthesizedArgument":false}},"operator":"/","right":{"type":"NumericLiteral","start":3375,"end":3376,"loc":{"start":{"line":87,"column":24},"end":{"line":87,"column":25}},"extra":{"rawValue":2,"raw":"2"},"value":2}}},"consequent":{"type":"BlockStatement","start":3378,"end":3399,"loc":{"start":{"line":87,"column":27},"end":{"line":89,"column":5}},"body":[{"type":"ExpressionStatement","start":3385,"end":3393,"loc":{"start":{"line":88,"column":5},"end":{"line":88,"column":13}},"expression":{"type":"AssignmentExpression","start":3385,"end":3393,"loc":{"start":{"line":88,"column":5},"end":{"line":88,"column":13}},"operator":"+=","left":{"type":"Identifier","start":3385,"end":3387,"loc":{"start":{"line":88,"column":5},"end":{"line":88,"column":7},"identifierName":"dx"},"name":"dx"},"right":{"type":"Identifier","start":3391,"end":3393,"loc":{"start":{"line":88,"column":11},"end":{"line":88,"column":13},"identifierName":"si"},"name":"si"}}}],"directives":[]},"alternate":null},"leadingComments":[{"type":"CommentLine","value":" If distance is greater than half the grid size, correct the","start":3234,"end":3296,"loc":{"start":{"line":83,"column":4},"end":{"line":83,"column":66}}},{"type":"CommentLine","value":" coordinate.","start":3301,"end":3315,"loc":{"start":{"line":84,"column":4},"end":{"line":84,"column":18}}}]}],"directives":[],"trailingComments":null},"alternate":null,"trailingComments":[{"type":"CommentLine","value":" direction of the gradient","start":3408,"end":3436,"loc":{"start":{"line":91,"column":3},"end":{"line":91,"column":31}}}]},{"type":"ExpressionStatement","start":3440,"end":3456,"loc":{"start":{"line":92,"column":3},"end":{"line":92,"column":19}},"expression":{"type":"AssignmentExpression","start":3440,"end":3456,"loc":{"start":{"line":92,"column":3},"end":{"line":92,"column":19}},"operator":"+=","left":{"type":"Identifier","start":3440,"end":3441,"loc":{"start":{"line":92,"column":3},"end":{"line":92,"column":4},"identifierName":"r"},"name":"r","leadingComments":null},"right":{"type":"BinaryExpression","start":3445,"end":3456,"loc":{"start":{"line":92,"column":8},"end":{"line":92,"column":19}},"left":{"type":"Identifier","start":3445,"end":3447,"loc":{"start":{"line":92,"column":8},"end":{"line":92,"column":10},"identifierName":"dx"},"name":"dx"},"operator":"*","right":{"type":"MemberExpression","start":3450,"end":3456,"loc":{"start":{"line":92,"column":13},"end":{"line":92,"column":19}},"object":{"type":"Identifier","start":3450,"end":3453,"loc":{"start":{"line":92,"column":13},"end":{"line":92,"column":16},"identifierName":"dir"},"name":"dir"},"property":{"type":"Identifier","start":3454,"end":3455,"loc":{"start":{"line":92,"column":17},"end":{"line":92,"column":18},"identifierName":"i"},"name":"i"},"computed":true}},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" direction of the gradient","start":3408,"end":3436,"loc":{"start":{"line":91,"column":3},"end":{"line":91,"column":31}}}]}],"directives":[]},"leadingComments":[{"type":"CommentLine","value":" loops over the coordinates x,y,(z)","start":3004,"end":3041,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":39}}}]},{"type":"ReturnStatement","start":3464,"end":3478,"loc":{"start":{"line":94,"column":2},"end":{"line":94,"column":16}},"argument":{"type":"BinaryExpression","start":3471,"end":3478,"loc":{"start":{"line":94,"column":9},"end":{"line":94,"column":16}},"left":{"type":"UnaryExpression","start":3471,"end":3474,"loc":{"start":{"line":94,"column":9},"end":{"line":94,"column":12}},"operator":"-","prefix":true,"argument":{"type":"Identifier","start":3473,"end":3474,"loc":{"start":{"line":94,"column":11},"end":{"line":94,"column":12},"identifierName":"r"},"name":"r"},"extra":{"parenthesizedArgument":false}},"operator":"*","right":{"type":"Identifier","start":3477,"end":3478,"loc":{"start":{"line":94,"column":15},"end":{"line":94,"column":16},"identifierName":"l"},"name":"l"}}}],"directives":[]},"leadingComments":[{"type":"CommentBlock","value":"* Method to compute the Hamiltonian for this constraint. \n\t @param {IndexCoordinate} src_i - coordinate of the source pixel that tries to copy.\n\t @param {IndexCoordinate} tgt_i - coordinate of the target pixel the source is trying\n\t to copy into.\n\t @param {CellId} src_type - cellid of the source pixel.\n\t @param {CellId} tgt_type - cellid of the target pixel. This argument is not actually\n\t used but is given for consistency with other soft constraints; the CPM always calls\n\t this method with four arguments.\n\t @return {number} the change in Hamiltonian for this copy attempt and this constraint.","start":2004,"end":2607,"loc":{"start":{"line":57,"column":1},"end":{"line":65,"column":89}}},{"type":"CommentBlock","value":" eslint-disable no-unused-vars","start":2610,"end":2644,"loc":{"start":{"line":66,"column":1},"end":{"line":66,"column":35}}}]}]},"leadingComments":[],"name":"_","trailingComments":[]},{"type":"Identifier","start":3485,"end":3528,"loc":{"start":{"line":98,"column":0},"end":{"line":98,"column":43}},"declaration":{"type":"Identifier","start":3500,"end":3528,"loc":{"start":{"line":98,"column":15},"end":{"line":98,"column":43},"identifierName":"PreferredDirectionConstraint"},"name":"PreferredDirectionConstraint"},"name":"_","leadingComments":[],"trailingComments":[]},{"type":"ExportDefaultDeclaration","start":3485,"end":3528,"loc":{"start":{"line":98,"column":0},"end":{"line":98,"column":43}},"declaration":{"type":"ClassDeclaration","start":717,"end":3483,"loc":{"start":{"line":23,"column":0},"end":{"line":96,"column":1}},"id":{"type":"Identifier","start":723,"end":751,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":34},"identifierName":"PreferredDirectionConstraint"},"name":"PreferredDirectionConstraint","leadingComments":null},"superClass":{"type":"Identifier","start":760,"end":774,"loc":{"start":{"line":23,"column":43},"end":{"line":23,"column":57},"identifierName":"SoftConstraint"},"name":"SoftConstraint"},"body":{"type":"ClassBody","start":775,"end":3483,"loc":{"start":{"line":23,"column":58},"end":{"line":96,"column":1}},"body":[{"type":"ClassMethod","start":1203,"end":1238,"loc":{"start":{"line":32,"column":1},"end":{"line":34,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":1203,"end":1214,"loc":{"start":{"line":32,"column":1},"end":{"line":32,"column":12},"identifierName":"constructor"},"name":"constructor","leadingComments":null},"kind":"constructor","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":1215,"end":1219,"loc":{"start":{"line":32,"column":13},"end":{"line":32,"column":17},"identifierName":"conf"},"name":"conf"}],"body":{"type":"BlockStatement","start":1220,"end":1238,"loc":{"start":{"line":32,"column":18},"end":{"line":34,"column":2}},"body":[{"type":"ExpressionStatement","start":1224,"end":1235,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":13}},"expression":{"type":"CallExpression","start":1224,"end":1235,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":13}},"callee":{"type":"Super","start":1224,"end":1229,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":7}}},"arguments":[{"type":"Identifier","start":1230,"end":1234,"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":12},"identifierName":"conf"},"name":"conf"}]}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* The constructor of the PreferredDirectionConstraint requires a conf object with parameters.\n\t@param {object} conf - parameter object for this constraint\n\t@param {PerKindNonNegative} conf.LAMBDA_DIR - strength of the constraint per cellkind.\n\t@param {ArrayCoordinate[]} conf.DIR 'vector' with the preferred direction. This is\n\tan array with the {@link ArrayCoordinate}s of the start and endpoints of this vector. \n\t","start":781,"end":1201,"loc":{"start":{"line":26,"column":1},"end":{"line":31,"column":3}}}],"trailingComments":[{"type":"CommentBlock","value":"* This method checks that all required parameters are present in the object supplied to\n\tthe constructor, and that they are of the right format. It throws an error when this\n\tis not the case.","start":1242,"end":1437,"loc":{"start":{"line":36,"column":1},"end":{"line":38,"column":19}}}]},{"type":"ClassMethod","start":1439,"end":2000,"loc":{"start":{"line":39,"column":1},"end":{"line":55,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":1439,"end":1450,"loc":{"start":{"line":39,"column":1},"end":{"line":39,"column":12},"identifierName":"confChecker"},"name":"confChecker","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1452,"end":2000,"loc":{"start":{"line":39,"column":14},"end":{"line":55,"column":2}},"body":[{"type":"VariableDeclaration","start":1456,"end":1511,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":57}},"declarations":[{"type":"VariableDeclarator","start":1460,"end":1511,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":57}},"id":{"type":"Identifier","start":1460,"end":1467,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":13},"identifierName":"checker"},"name":"checker"},"init":{"type":"NewExpression","start":1470,"end":1511,"loc":{"start":{"line":40,"column":16},"end":{"line":40,"column":57}},"callee":{"type":"Identifier","start":1474,"end":1490,"loc":{"start":{"line":40,"column":20},"end":{"line":40,"column":36},"identifierName":"ParameterChecker"},"name":"ParameterChecker"},"arguments":[{"type":"MemberExpression","start":1492,"end":1501,"loc":{"start":{"line":40,"column":38},"end":{"line":40,"column":47}},"object":{"type":"ThisExpression","start":1492,"end":1496,"loc":{"start":{"line":40,"column":38},"end":{"line":40,"column":42}}},"property":{"type":"Identifier","start":1497,"end":1501,"loc":{"start":{"line":40,"column":43},"end":{"line":40,"column":47},"identifierName":"conf"},"name":"conf"},"computed":false},{"type":"MemberExpression","start":1503,"end":1509,"loc":{"start":{"line":40,"column":49},"end":{"line":40,"column":55}},"object":{"type":"ThisExpression","start":1503,"end":1507,"loc":{"start":{"line":40,"column":49},"end":{"line":40,"column":53}}},"property":{"type":"Identifier","start":1508,"end":1509,"loc":{"start":{"line":40,"column":54},"end":{"line":40,"column":55},"identifierName":"C"},"name":"C"},"computed":false}]}}],"kind":"let"},{"type":"ExpressionStatement","start":1514,"end":1584,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":72}},"expression":{"type":"CallExpression","start":1514,"end":1584,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":72}},"callee":{"type":"MemberExpression","start":1514,"end":1540,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":28}},"object":{"type":"Identifier","start":1514,"end":1521,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":9},"identifierName":"checker"},"name":"checker"},"property":{"type":"Identifier","start":1522,"end":1540,"loc":{"start":{"line":41,"column":10},"end":{"line":41,"column":28},"identifierName":"confCheckParameter"},"name":"confCheckParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":1542,"end":1554,"loc":{"start":{"line":41,"column":30},"end":{"line":41,"column":42}},"extra":{"rawValue":"LAMBDA_DIR","raw":"\"LAMBDA_DIR\""},"value":"LAMBDA_DIR"},{"type":"StringLiteral","start":1556,"end":1567,"loc":{"start":{"line":41,"column":44},"end":{"line":41,"column":55}},"extra":{"rawValue":"KindArray","raw":"\"KindArray\""},"value":"KindArray"},{"type":"StringLiteral","start":1569,"end":1582,"loc":{"start":{"line":41,"column":57},"end":{"line":41,"column":70}},"extra":{"rawValue":"NonNegative","raw":"\"NonNegative\""},"value":"NonNegative"}],"trailingComments":null},"trailingComments":[{"type":"CommentLine","value":" Custom check for the attractionpoint","start":1590,"end":1629,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":41}}}]},{"type":"ExpressionStatement","start":1632,"end":1668,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":38}},"expression":{"type":"CallExpression","start":1632,"end":1668,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":38}},"callee":{"type":"MemberExpression","start":1632,"end":1659,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":29}},"object":{"type":"Identifier","start":1632,"end":1639,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":9},"identifierName":"checker"},"name":"checker","leadingComments":null},"property":{"type":"Identifier","start":1640,"end":1659,"loc":{"start":{"line":44,"column":10},"end":{"line":44,"column":29},"identifierName":"confCheckPresenceOf"},"name":"confCheckPresenceOf"},"computed":false,"leadingComments":null},"arguments":[{"type":"StringLiteral","start":1661,"end":1666,"loc":{"start":{"line":44,"column":31},"end":{"line":44,"column":36}},"extra":{"rawValue":"DIR","raw":"\"DIR\""},"value":"DIR"}],"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" Custom check for the attractionpoint","start":1590,"end":1629,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":41}}}]},{"type":"VariableDeclaration","start":1671,"end":1696,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":27}},"declarations":[{"type":"VariableDeclarator","start":1675,"end":1696,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":27}},"id":{"type":"Identifier","start":1675,"end":1677,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":8},"identifierName":"pt"},"name":"pt"},"init":{"type":"MemberExpression","start":1680,"end":1696,"loc":{"start":{"line":45,"column":11},"end":{"line":45,"column":27}},"object":{"type":"MemberExpression","start":1680,"end":1689,"loc":{"start":{"line":45,"column":11},"end":{"line":45,"column":20}},"object":{"type":"ThisExpression","start":1680,"end":1684,"loc":{"start":{"line":45,"column":11},"end":{"line":45,"column":15}}},"property":{"type":"Identifier","start":1685,"end":1689,"loc":{"start":{"line":45,"column":16},"end":{"line":45,"column":20},"identifierName":"conf"},"name":"conf"},"computed":false},"property":{"type":"StringLiteral","start":1690,"end":1695,"loc":{"start":{"line":45,"column":21},"end":{"line":45,"column":26}},"extra":{"rawValue":"DIR","raw":"\"DIR\""},"value":"DIR"},"computed":true}}],"kind":"let"},{"type":"IfStatement","start":1699,"end":1838,"loc":{"start":{"line":46,"column":2},"end":{"line":48,"column":3}},"test":{"type":"UnaryExpression","start":1703,"end":1727,"loc":{"start":{"line":46,"column":6},"end":{"line":46,"column":30}},"operator":"!","prefix":true,"argument":{"type":"BinaryExpression","start":1706,"end":1725,"loc":{"start":{"line":46,"column":9},"end":{"line":46,"column":28}},"left":{"type":"Identifier","start":1706,"end":1708,"loc":{"start":{"line":46,"column":9},"end":{"line":46,"column":11},"identifierName":"pt"},"name":"pt"},"operator":"instanceof","right":{"type":"Identifier","start":1720,"end":1725,"loc":{"start":{"line":46,"column":23},"end":{"line":46,"column":28},"identifierName":"Array"},"name":"Array"},"extra":{"parenthesized":true,"parenStart":1704}},"extra":{"parenthesizedArgument":false}},"consequent":{"type":"BlockStatement","start":1729,"end":1838,"loc":{"start":{"line":46,"column":32},"end":{"line":48,"column":3}},"body":[{"type":"ThrowStatement","start":1734,"end":1834,"loc":{"start":{"line":47,"column":3},"end":{"line":47,"column":103}},"argument":{"type":"StringLiteral","start":1741,"end":1832,"loc":{"start":{"line":47,"column":10},"end":{"line":47,"column":101}},"extra":{"rawValue":"DIR must be an array with the start and end coordinate of the preferred direction vector!","raw":"\"DIR must be an array with the start and end coordinate of the preferred direction vector!\"","parenthesized":true,"parenStart":1739},"value":"DIR must be an array with the start and end coordinate of the preferred direction vector!"}}],"directives":[]},"alternate":null},{"type":"ForOfStatement","start":1841,"end":1997,"loc":{"start":{"line":49,"column":2},"end":{"line":54,"column":3}},"left":{"type":"VariableDeclaration","start":1846,"end":1851,"loc":{"start":{"line":49,"column":7},"end":{"line":49,"column":12}},"declarations":[{"type":"VariableDeclarator","start":1850,"end":1851,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":12}},"id":{"type":"Identifier","start":1850,"end":1851,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":12},"identifierName":"p"},"name":"p"},"init":null}],"kind":"let"},"right":{"type":"Identifier","start":1855,"end":1857,"loc":{"start":{"line":49,"column":16},"end":{"line":49,"column":18},"identifierName":"pt"},"name":"pt"},"body":{"type":"BlockStatement","start":1859,"end":1997,"loc":{"start":{"line":49,"column":20},"end":{"line":54,"column":3}},"body":[{"type":"IfStatement","start":1867,"end":1993,"loc":{"start":{"line":51,"column":3},"end":{"line":53,"column":4}},"test":{"type":"UnaryExpression","start":1871,"end":1895,"loc":{"start":{"line":51,"column":7},"end":{"line":51,"column":31}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1872,"end":1895,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":31}},"callee":{"type":"MemberExpression","start":1872,"end":1892,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":28}},"object":{"type":"Identifier","start":1872,"end":1879,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":15},"identifierName":"checker"},"name":"checker"},"property":{"type":"Identifier","start":1880,"end":1892,"loc":{"start":{"line":51,"column":16},"end":{"line":51,"column":28},"identifierName":"isCoordinate"},"name":"isCoordinate"},"computed":false},"arguments":[{"type":"Identifier","start":1893,"end":1894,"loc":{"start":{"line":51,"column":29},"end":{"line":51,"column":30},"identifierName":"p"},"name":"p"}]},"extra":{"parenthesizedArgument":false}},"consequent":{"type":"BlockStatement","start":1897,"end":1993,"loc":{"start":{"line":51,"column":33},"end":{"line":53,"column":4}},"body":[{"type":"ThrowStatement","start":1903,"end":1988,"loc":{"start":{"line":52,"column":4},"end":{"line":52,"column":89}},"argument":{"type":"StringLiteral","start":1909,"end":1987,"loc":{"start":{"line":52,"column":10},"end":{"line":52,"column":88}},"extra":{"rawValue":"DIR elements must be coordinate arrays with the same dimensions as the grid!","raw":"\"DIR elements must be coordinate arrays with the same dimensions as the grid!\"","parenthesized":true,"parenStart":1908},"value":"DIR elements must be coordinate arrays with the same dimensions as the grid!"}}],"directives":[]},"alternate":null}],"directives":[]}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* This method checks that all required parameters are present in the object supplied to\n\tthe constructor, and that they are of the right format. It throws an error when this\n\tis not the case.","start":1242,"end":1437,"loc":{"start":{"line":36,"column":1},"end":{"line":38,"column":19}}}],"trailingComments":[{"type":"CommentBlock","value":"* Method to compute the Hamiltonian for this constraint. \n\t @param {IndexCoordinate} src_i - coordinate of the source pixel that tries to copy.\n\t @param {IndexCoordinate} tgt_i - coordinate of the target pixel the source is trying\n\t to copy into.\n\t @param {CellId} src_type - cellid of the source pixel.\n\t @param {CellId} tgt_type - cellid of the target pixel. This argument is not actually\n\t used but is given for consistency with other soft constraints; the CPM always calls\n\t this method with four arguments.\n\t @return {number} the change in Hamiltonian for this copy attempt and this constraint.","start":2004,"end":2607,"loc":{"start":{"line":57,"column":1},"end":{"line":65,"column":89}}},{"type":"CommentBlock","value":" eslint-disable no-unused-vars","start":2610,"end":2644,"loc":{"start":{"line":66,"column":1},"end":{"line":66,"column":35}}}]},{"type":"ClassMethod","start":2646,"end":3481,"loc":{"start":{"line":67,"column":1},"end":{"line":95,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":2646,"end":2652,"loc":{"start":{"line":67,"column":1},"end":{"line":67,"column":7},"identifierName":"deltaH"},"name":"deltaH","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":2654,"end":2659,"loc":{"start":{"line":67,"column":9},"end":{"line":67,"column":14},"identifierName":"src_i"},"name":"src_i"},{"type":"Identifier","start":2661,"end":2666,"loc":{"start":{"line":67,"column":16},"end":{"line":67,"column":21},"identifierName":"tgt_i"},"name":"tgt_i"},{"type":"Identifier","start":2668,"end":2676,"loc":{"start":{"line":67,"column":23},"end":{"line":67,"column":31},"identifierName":"src_type"},"name":"src_type"},{"type":"Identifier","start":2678,"end":2686,"loc":{"start":{"line":67,"column":33},"end":{"line":67,"column":41},"identifierName":"tgt_type"},"name":"tgt_type"}],"body":{"type":"BlockStatement","start":2688,"end":3481,"loc":{"start":{"line":67,"column":43},"end":{"line":95,"column":2}},"body":[{"type":"VariableDeclaration","start":2692,"end":2742,"loc":{"start":{"line":68,"column":2},"end":{"line":68,"column":52}},"declarations":[{"type":"VariableDeclarator","start":2696,"end":2742,"loc":{"start":{"line":68,"column":6},"end":{"line":68,"column":52}},"id":{"type":"Identifier","start":2696,"end":2697,"loc":{"start":{"line":68,"column":6},"end":{"line":68,"column":7},"identifierName":"l"},"name":"l"},"init":{"type":"CallExpression","start":2700,"end":2742,"loc":{"start":{"line":68,"column":10},"end":{"line":68,"column":52}},"callee":{"type":"MemberExpression","start":2700,"end":2718,"loc":{"start":{"line":68,"column":10},"end":{"line":68,"column":28}},"object":{"type":"ThisExpression","start":2700,"end":2704,"loc":{"start":{"line":68,"column":10},"end":{"line":68,"column":14}}},"property":{"type":"Identifier","start":2705,"end":2718,"loc":{"start":{"line":68,"column":15},"end":{"line":68,"column":28},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":2719,"end":2731,"loc":{"start":{"line":68,"column":29},"end":{"line":68,"column":41}},"extra":{"rawValue":"LAMBDA_DIR","raw":"\"LAMBDA_DIR\""},"value":"LAMBDA_DIR"},{"type":"Identifier","start":2733,"end":2741,"loc":{"start":{"line":68,"column":43},"end":{"line":68,"column":51},"identifierName":"src_type"},"name":"src_type"}]}}],"kind":"let"},{"type":"IfStatement","start":2745,"end":2770,"loc":{"start":{"line":69,"column":2},"end":{"line":71,"column":3}},"test":{"type":"UnaryExpression","start":2749,"end":2751,"loc":{"start":{"line":69,"column":6},"end":{"line":69,"column":8}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2750,"end":2751,"loc":{"start":{"line":69,"column":7},"end":{"line":69,"column":8},"identifierName":"l"},"name":"l"},"extra":{"parenthesizedArgument":false}},"consequent":{"type":"BlockStatement","start":2753,"end":2770,"loc":{"start":{"line":69,"column":10},"end":{"line":71,"column":3}},"body":[{"type":"ReturnStatement","start":2758,"end":2766,"loc":{"start":{"line":70,"column":3},"end":{"line":70,"column":11}},"argument":{"type":"NumericLiteral","start":2765,"end":2766,"loc":{"start":{"line":70,"column":10},"end":{"line":70,"column":11}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"directives":[]},"alternate":null},{"type":"VariableDeclaration","start":2773,"end":2802,"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":31}},"declarations":[{"type":"VariableDeclarator","start":2777,"end":2802,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":31}},"id":{"type":"Identifier","start":2777,"end":2782,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":11},"identifierName":"torus"},"name":"torus"},"init":{"type":"MemberExpression","start":2785,"end":2802,"loc":{"start":{"line":72,"column":14},"end":{"line":72,"column":31}},"object":{"type":"MemberExpression","start":2785,"end":2796,"loc":{"start":{"line":72,"column":14},"end":{"line":72,"column":25}},"object":{"type":"MemberExpression","start":2785,"end":2791,"loc":{"start":{"line":72,"column":14},"end":{"line":72,"column":20}},"object":{"type":"ThisExpression","start":2785,"end":2789,"loc":{"start":{"line":72,"column":14},"end":{"line":72,"column":18}}},"property":{"type":"Identifier","start":2790,"end":2791,"loc":{"start":{"line":72,"column":19},"end":{"line":72,"column":20},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":2792,"end":2796,"loc":{"start":{"line":72,"column":21},"end":{"line":72,"column":25},"identifierName":"conf"},"name":"conf"},"computed":false},"property":{"type":"Identifier","start":2797,"end":2802,"loc":{"start":{"line":72,"column":26},"end":{"line":72,"column":31},"identifierName":"torus"},"name":"torus"},"computed":false}}],"kind":"let"},{"type":"VariableDeclaration","start":2805,"end":2850,"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":47}},"declarations":[{"type":"VariableDeclarator","start":2809,"end":2850,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":47}},"id":{"type":"Identifier","start":2809,"end":2812,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":9},"identifierName":"dir"},"name":"dir"},"init":{"type":"CallExpression","start":2815,"end":2850,"loc":{"start":{"line":73,"column":12},"end":{"line":73,"column":47}},"callee":{"type":"MemberExpression","start":2815,"end":2833,"loc":{"start":{"line":73,"column":12},"end":{"line":73,"column":30}},"object":{"type":"ThisExpression","start":2815,"end":2819,"loc":{"start":{"line":73,"column":12},"end":{"line":73,"column":16}}},"property":{"type":"Identifier","start":2820,"end":2833,"loc":{"start":{"line":73,"column":17},"end":{"line":73,"column":30},"identifierName":"cellParameter"},"name":"cellParameter"},"computed":false},"arguments":[{"type":"StringLiteral","start":2834,"end":2839,"loc":{"start":{"line":73,"column":31},"end":{"line":73,"column":36}},"extra":{"rawValue":"DIR","raw":"\"DIR\""},"value":"DIR"},{"type":"Identifier","start":2841,"end":2849,"loc":{"start":{"line":73,"column":38},"end":{"line":73,"column":46},"identifierName":"src_type"},"name":"src_type"}]}}],"kind":"let"},{"type":"VariableDeclaration","start":2853,"end":2917,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":66}},"declarations":[{"type":"VariableDeclarator","start":2857,"end":2886,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":35}},"id":{"type":"Identifier","start":2857,"end":2859,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":8},"identifierName":"p1"},"name":"p1"},"init":{"type":"CallExpression","start":2862,"end":2886,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":35}},"callee":{"type":"MemberExpression","start":2862,"end":2877,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":26}},"object":{"type":"MemberExpression","start":2862,"end":2873,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":22}},"object":{"type":"MemberExpression","start":2862,"end":2868,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":17}},"object":{"type":"ThisExpression","start":2862,"end":2866,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":15}}},"property":{"type":"Identifier","start":2867,"end":2868,"loc":{"start":{"line":74,"column":16},"end":{"line":74,"column":17},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":2869,"end":2873,"loc":{"start":{"line":74,"column":18},"end":{"line":74,"column":22},"identifierName":"grid"},"name":"grid"},"computed":false},"property":{"type":"Identifier","start":2874,"end":2877,"loc":{"start":{"line":74,"column":23},"end":{"line":74,"column":26},"identifierName":"i2p"},"name":"i2p"},"computed":false},"arguments":[{"type":"Identifier","start":2879,"end":2884,"loc":{"start":{"line":74,"column":28},"end":{"line":74,"column":33},"identifierName":"src_i"},"name":"src_i"}]}},{"type":"VariableDeclarator","start":2888,"end":2917,"loc":{"start":{"line":74,"column":37},"end":{"line":74,"column":66}},"id":{"type":"Identifier","start":2888,"end":2890,"loc":{"start":{"line":74,"column":37},"end":{"line":74,"column":39},"identifierName":"p2"},"name":"p2"},"init":{"type":"CallExpression","start":2893,"end":2917,"loc":{"start":{"line":74,"column":42},"end":{"line":74,"column":66}},"callee":{"type":"MemberExpression","start":2893,"end":2908,"loc":{"start":{"line":74,"column":42},"end":{"line":74,"column":57}},"object":{"type":"MemberExpression","start":2893,"end":2904,"loc":{"start":{"line":74,"column":42},"end":{"line":74,"column":53}},"object":{"type":"MemberExpression","start":2893,"end":2899,"loc":{"start":{"line":74,"column":42},"end":{"line":74,"column":48}},"object":{"type":"ThisExpression","start":2893,"end":2897,"loc":{"start":{"line":74,"column":42},"end":{"line":74,"column":46}}},"property":{"type":"Identifier","start":2898,"end":2899,"loc":{"start":{"line":74,"column":47},"end":{"line":74,"column":48},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":2900,"end":2904,"loc":{"start":{"line":74,"column":49},"end":{"line":74,"column":53},"identifierName":"grid"},"name":"grid"},"computed":false},"property":{"type":"Identifier","start":2905,"end":2908,"loc":{"start":{"line":74,"column":54},"end":{"line":74,"column":57},"identifierName":"i2p"},"name":"i2p"},"computed":false},"arguments":[{"type":"Identifier","start":2910,"end":2915,"loc":{"start":{"line":74,"column":59},"end":{"line":74,"column":64},"identifierName":"tgt_i"},"name":"tgt_i"}],"trailingComments":null},"trailingComments":null}],"kind":"let","trailingComments":[{"type":"CommentLine","value":" To bias a copy attempt p1 -> p2 in the direction of vector 'dir'.","start":2920,"end":2988,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":70}}}]},{"type":"VariableDeclaration","start":2991,"end":3001,"loc":{"start":{"line":76,"column":2},"end":{"line":76,"column":12}},"declarations":[{"type":"VariableDeclarator","start":2995,"end":3001,"loc":{"start":{"line":76,"column":6},"end":{"line":76,"column":12}},"id":{"type":"Identifier","start":2995,"end":2996,"loc":{"start":{"line":76,"column":6},"end":{"line":76,"column":7},"identifierName":"r"},"name":"r","leadingComments":null},"init":{"type":"NumericLiteral","start":2999,"end":3001,"loc":{"start":{"line":76,"column":10},"end":{"line":76,"column":12}},"extra":{"rawValue":0,"raw":"0."},"value":0,"leadingComments":null,"trailingComments":null},"leadingComments":null,"trailingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" To bias a copy attempt p1 -> p2 in the direction of vector 'dir'.","start":2920,"end":2988,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":70}}}],"trailingComments":[{"type":"CommentLine","value":" loops over the coordinates x,y,(z)","start":3004,"end":3041,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":39}}}]},{"type":"ForStatement","start":3044,"end":3461,"loc":{"start":{"line":78,"column":2},"end":{"line":93,"column":3}},"init":{"type":"VariableDeclaration","start":3049,"end":3058,"loc":{"start":{"line":78,"column":7},"end":{"line":78,"column":16}},"declarations":[{"type":"VariableDeclarator","start":3053,"end":3058,"loc":{"start":{"line":78,"column":11},"end":{"line":78,"column":16}},"id":{"type":"Identifier","start":3053,"end":3054,"loc":{"start":{"line":78,"column":11},"end":{"line":78,"column":12},"identifierName":"i"},"name":"i","leadingComments":null},"init":{"type":"NumericLiteral","start":3057,"end":3058,"loc":{"start":{"line":78,"column":15},"end":{"line":78,"column":16}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null}],"kind":"let","leadingComments":null},"test":{"type":"BinaryExpression","start":3060,"end":3073,"loc":{"start":{"line":78,"column":18},"end":{"line":78,"column":31}},"left":{"type":"Identifier","start":3060,"end":3061,"loc":{"start":{"line":78,"column":18},"end":{"line":78,"column":19},"identifierName":"i"},"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":3064,"end":3073,"loc":{"start":{"line":78,"column":22},"end":{"line":78,"column":31}},"object":{"type":"Identifier","start":3064,"end":3066,"loc":{"start":{"line":78,"column":22},"end":{"line":78,"column":24},"identifierName":"p1"},"name":"p1"},"property":{"type":"Identifier","start":3067,"end":3073,"loc":{"start":{"line":78,"column":25},"end":{"line":78,"column":31},"identifierName":"length"},"name":"length"},"computed":false}},"update":{"type":"UpdateExpression","start":3076,"end":3079,"loc":{"start":{"line":78,"column":34},"end":{"line":78,"column":37}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":3076,"end":3077,"loc":{"start":{"line":78,"column":34},"end":{"line":78,"column":35},"identifierName":"i"},"name":"i"}},"body":{"type":"BlockStatement","start":3081,"end":3461,"loc":{"start":{"line":78,"column":39},"end":{"line":93,"column":3}},"body":[{"type":"VariableDeclaration","start":3086,"end":3112,"loc":{"start":{"line":79,"column":3},"end":{"line":79,"column":29}},"declarations":[{"type":"VariableDeclarator","start":3090,"end":3112,"loc":{"start":{"line":79,"column":7},"end":{"line":79,"column":29}},"id":{"type":"Identifier","start":3090,"end":3092,"loc":{"start":{"line":79,"column":7},"end":{"line":79,"column":9},"identifierName":"si"},"name":"si"},"init":{"type":"MemberExpression","start":3095,"end":3112,"loc":{"start":{"line":79,"column":12},"end":{"line":79,"column":29}},"object":{"type":"MemberExpression","start":3095,"end":3109,"loc":{"start":{"line":79,"column":12},"end":{"line":79,"column":26}},"object":{"type":"MemberExpression","start":3095,"end":3101,"loc":{"start":{"line":79,"column":12},"end":{"line":79,"column":18}},"object":{"type":"ThisExpression","start":3095,"end":3099,"loc":{"start":{"line":79,"column":12},"end":{"line":79,"column":16}}},"property":{"type":"Identifier","start":3100,"end":3101,"loc":{"start":{"line":79,"column":17},"end":{"line":79,"column":18},"identifierName":"C"},"name":"C"},"computed":false},"property":{"type":"Identifier","start":3102,"end":3109,"loc":{"start":{"line":79,"column":19},"end":{"line":79,"column":26},"identifierName":"extents"},"name":"extents"},"computed":false},"property":{"type":"Identifier","start":3110,"end":3111,"loc":{"start":{"line":79,"column":27},"end":{"line":79,"column":28},"identifierName":"i"},"name":"i"},"computed":true,"trailingComments":null},"trailingComments":null}],"kind":"let","trailingComments":[{"type":"CommentLine","value":" direction of the copy attempt on this coordinate is from p1 to p2","start":3116,"end":3184,"loc":{"start":{"line":80,"column":3},"end":{"line":80,"column":71}}}]},{"type":"VariableDeclaration","start":3188,"end":3210,"loc":{"start":{"line":81,"column":3},"end":{"line":81,"column":25}},"declarations":[{"type":"VariableDeclarator","start":3192,"end":3210,"loc":{"start":{"line":81,"column":7},"end":{"line":81,"column":25}},"id":{"type":"Identifier","start":3192,"end":3194,"loc":{"start":{"line":81,"column":7},"end":{"line":81,"column":9},"identifierName":"dx"},"name":"dx","leadingComments":null},"init":{"type":"BinaryExpression","start":3197,"end":3210,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":25}},"left":{"type":"MemberExpression","start":3197,"end":3202,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":17}},"object":{"type":"Identifier","start":3197,"end":3199,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":14},"identifierName":"p2"},"name":"p2"},"property":{"type":"Identifier","start":3200,"end":3201,"loc":{"start":{"line":81,"column":15},"end":{"line":81,"column":16},"identifierName":"i"},"name":"i"},"computed":true},"operator":"-","right":{"type":"MemberExpression","start":3205,"end":3210,"loc":{"start":{"line":81,"column":20},"end":{"line":81,"column":25}},"object":{"type":"Identifier","start":3205,"end":3207,"loc":{"start":{"line":81,"column":20},"end":{"line":81,"column":22},"identifierName":"p1"},"name":"p1"},"property":{"type":"Identifier","start":3208,"end":3209,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":24},"identifierName":"i"},"name":"i"},"computed":true}},"leadingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" direction of the copy attempt on this coordinate is from p1 to p2","start":3116,"end":3184,"loc":{"start":{"line":80,"column":3},"end":{"line":80,"column":71}}}]},{"type":"IfStatement","start":3214,"end":3404,"loc":{"start":{"line":82,"column":3},"end":{"line":90,"column":4}},"test":{"type":"MemberExpression","start":3218,"end":3226,"loc":{"start":{"line":82,"column":7},"end":{"line":82,"column":15}},"object":{"type":"Identifier","start":3218,"end":3223,"loc":{"start":{"line":82,"column":7},"end":{"line":82,"column":12},"identifierName":"torus"},"name":"torus"},"property":{"type":"Identifier","start":3224,"end":3225,"loc":{"start":{"line":82,"column":13},"end":{"line":82,"column":14},"identifierName":"i"},"name":"i"},"computed":true},"consequent":{"type":"BlockStatement","start":3228,"end":3404,"loc":{"start":{"line":82,"column":17},"end":{"line":90,"column":4}},"body":[{"type":"IfStatement","start":3320,"end":3399,"loc":{"start":{"line":85,"column":4},"end":{"line":89,"column":5}},"test":{"type":"BinaryExpression","start":3324,"end":3333,"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":17}},"left":{"type":"Identifier","start":3324,"end":3326,"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":10},"identifierName":"dx"},"name":"dx","leadingComments":null},"operator":">","right":{"type":"BinaryExpression","start":3329,"end":3333,"loc":{"start":{"line":85,"column":13},"end":{"line":85,"column":17}},"left":{"type":"Identifier","start":3329,"end":3331,"loc":{"start":{"line":85,"column":13},"end":{"line":85,"column":15},"identifierName":"si"},"name":"si"},"operator":"/","right":{"type":"NumericLiteral","start":3332,"end":3333,"loc":{"start":{"line":85,"column":16},"end":{"line":85,"column":17}},"extra":{"rawValue":2,"raw":"2"},"value":2}},"leadingComments":null},"consequent":{"type":"BlockStatement","start":3335,"end":3356,"loc":{"start":{"line":85,"column":19},"end":{"line":87,"column":5}},"body":[{"type":"ExpressionStatement","start":3342,"end":3350,"loc":{"start":{"line":86,"column":5},"end":{"line":86,"column":13}},"expression":{"type":"AssignmentExpression","start":3342,"end":3350,"loc":{"start":{"line":86,"column":5},"end":{"line":86,"column":13}},"operator":"-=","left":{"type":"Identifier","start":3342,"end":3344,"loc":{"start":{"line":86,"column":5},"end":{"line":86,"column":7},"identifierName":"dx"},"name":"dx"},"right":{"type":"Identifier","start":3348,"end":3350,"loc":{"start":{"line":86,"column":11},"end":{"line":86,"column":13},"identifierName":"si"},"name":"si"}}}],"directives":[]},"alternate":{"type":"IfStatement","start":3362,"end":3399,"loc":{"start":{"line":87,"column":11},"end":{"line":89,"column":5}},"test":{"type":"BinaryExpression","start":3366,"end":3376,"loc":{"start":{"line":87,"column":15},"end":{"line":87,"column":25}},"left":{"type":"Identifier","start":3366,"end":3368,"loc":{"start":{"line":87,"column":15},"end":{"line":87,"column":17},"identifierName":"dx"},"name":"dx"},"operator":"<","right":{"type":"BinaryExpression","start":3371,"end":3376,"loc":{"start":{"line":87,"column":20},"end":{"line":87,"column":25}},"left":{"type":"UnaryExpression","start":3371,"end":3374,"loc":{"start":{"line":87,"column":20},"end":{"line":87,"column":23}},"operator":"-","prefix":true,"argument":{"type":"Identifier","start":3372,"end":3374,"loc":{"start":{"line":87,"column":21},"end":{"line":87,"column":23},"identifierName":"si"},"name":"si"},"extra":{"parenthesizedArgument":false}},"operator":"/","right":{"type":"NumericLiteral","start":3375,"end":3376,"loc":{"start":{"line":87,"column":24},"end":{"line":87,"column":25}},"extra":{"rawValue":2,"raw":"2"},"value":2}}},"consequent":{"type":"BlockStatement","start":3378,"end":3399,"loc":{"start":{"line":87,"column":27},"end":{"line":89,"column":5}},"body":[{"type":"ExpressionStatement","start":3385,"end":3393,"loc":{"start":{"line":88,"column":5},"end":{"line":88,"column":13}},"expression":{"type":"AssignmentExpression","start":3385,"end":3393,"loc":{"start":{"line":88,"column":5},"end":{"line":88,"column":13}},"operator":"+=","left":{"type":"Identifier","start":3385,"end":3387,"loc":{"start":{"line":88,"column":5},"end":{"line":88,"column":7},"identifierName":"dx"},"name":"dx"},"right":{"type":"Identifier","start":3391,"end":3393,"loc":{"start":{"line":88,"column":11},"end":{"line":88,"column":13},"identifierName":"si"},"name":"si"}}}],"directives":[]},"alternate":null},"leadingComments":[{"type":"CommentLine","value":" If distance is greater than half the grid size, correct the","start":3234,"end":3296,"loc":{"start":{"line":83,"column":4},"end":{"line":83,"column":66}}},{"type":"CommentLine","value":" coordinate.","start":3301,"end":3315,"loc":{"start":{"line":84,"column":4},"end":{"line":84,"column":18}}}]}],"directives":[],"trailingComments":null},"alternate":null,"trailingComments":[{"type":"CommentLine","value":" direction of the gradient","start":3408,"end":3436,"loc":{"start":{"line":91,"column":3},"end":{"line":91,"column":31}}}]},{"type":"ExpressionStatement","start":3440,"end":3456,"loc":{"start":{"line":92,"column":3},"end":{"line":92,"column":19}},"expression":{"type":"AssignmentExpression","start":3440,"end":3456,"loc":{"start":{"line":92,"column":3},"end":{"line":92,"column":19}},"operator":"+=","left":{"type":"Identifier","start":3440,"end":3441,"loc":{"start":{"line":92,"column":3},"end":{"line":92,"column":4},"identifierName":"r"},"name":"r","leadingComments":null},"right":{"type":"BinaryExpression","start":3445,"end":3456,"loc":{"start":{"line":92,"column":8},"end":{"line":92,"column":19}},"left":{"type":"Identifier","start":3445,"end":3447,"loc":{"start":{"line":92,"column":8},"end":{"line":92,"column":10},"identifierName":"dx"},"name":"dx"},"operator":"*","right":{"type":"MemberExpression","start":3450,"end":3456,"loc":{"start":{"line":92,"column":13},"end":{"line":92,"column":19}},"object":{"type":"Identifier","start":3450,"end":3453,"loc":{"start":{"line":92,"column":13},"end":{"line":92,"column":16},"identifierName":"dir"},"name":"dir"},"property":{"type":"Identifier","start":3454,"end":3455,"loc":{"start":{"line":92,"column":17},"end":{"line":92,"column":18},"identifierName":"i"},"name":"i"},"computed":true}},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" direction of the gradient","start":3408,"end":3436,"loc":{"start":{"line":91,"column":3},"end":{"line":91,"column":31}}}]}],"directives":[]},"leadingComments":[{"type":"CommentLine","value":" loops over the coordinates x,y,(z)","start":3004,"end":3041,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":39}}}]},{"type":"ReturnStatement","start":3464,"end":3478,"loc":{"start":{"line":94,"column":2},"end":{"line":94,"column":16}},"argument":{"type":"BinaryExpression","start":3471,"end":3478,"loc":{"start":{"line":94,"column":9},"end":{"line":94,"column":16}},"left":{"type":"UnaryExpression","start":3471,"end":3474,"loc":{"start":{"line":94,"column":9},"end":{"line":94,"column":12}},"operator":"-","prefix":true,"argument":{"type":"Identifier","start":3473,"end":3474,"loc":{"start":{"line":94,"column":11},"end":{"line":94,"column":12},"identifierName":"r"},"name":"r"},"extra":{"parenthesizedArgument":false}},"operator":"*","right":{"type":"Identifier","start":3477,"end":3478,"loc":{"start":{"line":94,"column":15},"end":{"line":94,"column":16},"identifierName":"l"},"name":"l"}}}],"directives":[]},"leadingComments":[{"type":"CommentBlock","value":"* Method to compute the Hamiltonian for this constraint. \n\t @param {IndexCoordinate} src_i - coordinate of the source pixel that tries to copy.\n\t @param {IndexCoordinate} tgt_i - coordinate of the target pixel the source is trying\n\t to copy into.\n\t @param {CellId} src_type - cellid of the source pixel.\n\t @param {CellId} tgt_type - cellid of the target pixel. This argument is not actually\n\t used but is given for consistency with other soft constraints; the CPM always calls\n\t this method with four arguments.\n\t @return {number} the change in Hamiltonian for this copy attempt and this constraint.","start":2004,"end":2607,"loc":{"start":{"line":57,"column":1},"end":{"line":65,"column":89}}},{"type":"CommentBlock","value":" eslint-disable no-unused-vars","start":2610,"end":2644,"loc":{"start":{"line":66,"column":1},"end":{"line":66,"column":35}}}]}]},"leadingComments":[{"type":"CommentBlock","value":"* Implements a global bias direction of motion.\n\tThis constraint computes the *unnormalized* dot product \n\tbetween copy attempt vector and target direction vector.\n\n\tSupply the target direction vector in normalized form, or \n\tuse the length of the vector to influence the strength \n\tof this bias.\n\n\tWorks for torus grids, if they are \"big enough\".\n\t\n\t * @example\n\t * // Build a CPM and add the constraint\n\t * let CPM = require( \"path/to/build\" )\n\t * let C = new CPM.CPM( [200,200], { T : 20 } )\n\t * C.add( new CPM.PreferredDirectionConstraint( {\n\t * \tLAMBDA_DIR : [0,50], \n\t * \tDIR : [[0,0],[1,1]]\n\t * } ) )\n\t","start":103,"end":716,"loc":{"start":{"line":4,"column":0},"end":{"line":22,"column":3}}}],"__PseudoExport__":false,"trailingComments":[]},"leadingComments":null}],"directives":[]},"comments":[{"type":"CommentBlock","value":"* Implements a global bias direction of motion.\n\tThis constraint computes the *unnormalized* dot product \n\tbetween copy attempt vector and target direction vector.\n\n\tSupply the target direction vector in normalized form, or \n\tuse the length of the vector to influence the strength \n\tof this bias.\n\n\tWorks for torus grids, if they are \"big enough\".\n\t\n\t * @example\n\t * // Build a CPM and add the constraint\n\t * let CPM = require( \"path/to/build\" )\n\t * let C = new CPM.CPM( [200,200], { T : 20 } )\n\t * C.add( new CPM.PreferredDirectionConstraint( {\n\t * \tLAMBDA_DIR : [0,50], \n\t * \tDIR : [[0,0],[1,1]]\n\t * } ) )\n\t","start":103,"end":716,"loc":{"start":{"line":4,"column":0},"end":{"line":22,"column":3}}},{"type":"CommentBlock","value":"* The constructor of the PreferredDirectionConstraint requires a conf object with parameters.\n\t@param {object} conf - parameter object for this constraint\n\t@param {PerKindNonNegative} conf.LAMBDA_DIR - strength of the constraint per cellkind.\n\t@param {ArrayCoordinate[]} conf.DIR 'vector' with the preferred direction. This is\n\tan array with the {@link ArrayCoordinate}s of the start and endpoints of this vector. \n\t","start":781,"end":1201,"loc":{"start":{"line":26,"column":1},"end":{"line":31,"column":3}}},{"type":"CommentBlock","value":"* This method checks that all required parameters are present in the object supplied to\n\tthe constructor, and that they are of the right format. It throws an error when this\n\tis not the case.","start":1242,"end":1437,"loc":{"start":{"line":36,"column":1},"end":{"line":38,"column":19}}},{"type":"CommentLine","value":" Custom check for the attractionpoint","start":1590,"end":1629,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":41}}},{"type":"CommentBlock","value":"* Method to compute the Hamiltonian for this constraint. \n\t @param {IndexCoordinate} src_i - coordinate of the source pixel that tries to copy.\n\t @param {IndexCoordinate} tgt_i - coordinate of the target pixel the source is trying\n\t to copy into.\n\t @param {CellId} src_type - cellid of the source pixel.\n\t @param {CellId} tgt_type - cellid of the target pixel. This argument is not actually\n\t used but is given for consistency with other soft constraints; the CPM always calls\n\t this method with four arguments.\n\t @return {number} the change in Hamiltonian for this copy attempt and this constraint.","start":2004,"end":2607,"loc":{"start":{"line":57,"column":1},"end":{"line":65,"column":89}}},{"type":"CommentBlock","value":" eslint-disable no-unused-vars","start":2610,"end":2644,"loc":{"start":{"line":66,"column":1},"end":{"line":66,"column":35}}},{"type":"CommentLine","value":" To bias a copy attempt p1 -> p2 in the direction of vector 'dir'.","start":2920,"end":2988,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":70}}},{"type":"CommentLine","value":" loops over the coordinates x,y,(z)","start":3004,"end":3041,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":39}}},{"type":"CommentLine","value":" direction of the copy attempt on this coordinate is from p1 to p2","start":3116,"end":3184,"loc":{"start":{"line":80,"column":3},"end":{"line":80,"column":71}}},{"type":"CommentLine","value":" If distance is greater than half the grid size, correct the","start":3234,"end":3296,"loc":{"start":{"line":83,"column":4},"end":{"line":83,"column":66}}},{"type":"CommentLine","value":" coordinate.","start":3301,"end":3315,"loc":{"start":{"line":84,"column":4},"end":{"line":84,"column":18}}},{"type":"CommentLine","value":" direction of the gradient","start":3408,"end":3436,"loc":{"start":{"line":91,"column":3},"end":{"line":91,"column":31}}}],"tokens":[{"type":{"label":"import","keyword":"import","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"import","start":0,"end":6,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":6}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"SoftConstraint","start":7,"end":21,"loc":{"start":{"line":1,"column":7},"end":{"line":1,"column":21}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"from","start":22,"end":26,"loc":{"start":{"line":1,"column":22},"end":{"line":1,"column":26}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"./SoftConstraint.js","start":27,"end":48,"loc":{"start":{"line":1,"column":27},"end":{"line":1,"column":48}}},{"type":{"label":"import","keyword":"import","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"import","start":49,"end":55,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":6}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"ParameterChecker","start":56,"end":72,"loc":{"start":{"line":2,"column":7},"end":{"line":2,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"from","start":73,"end":77,"loc":{"start":{"line":2,"column":24},"end":{"line":2,"column":28}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"./ParameterChecker.js","start":78,"end":101,"loc":{"start":{"line":2,"column":29},"end":{"line":2,"column":52}}},{"type":"CommentBlock","value":"* Implements a global bias direction of motion.\n\tThis constraint computes the *unnormalized* dot product \n\tbetween copy attempt vector and target direction vector.\n\n\tSupply the target direction vector in normalized form, or \n\tuse the length of the vector to influence the strength \n\tof this bias.\n\n\tWorks for torus grids, if they are \"big enough\".\n\t\n\t * @example\n\t * // Build a CPM and add the constraint\n\t * let CPM = require( \"path/to/build\" )\n\t * let C = new CPM.CPM( [200,200], { T : 20 } )\n\t * C.add( new CPM.PreferredDirectionConstraint( {\n\t * \tLAMBDA_DIR : [0,50], \n\t * \tDIR : [[0,0],[1,1]]\n\t * } ) )\n\t","start":103,"end":716,"loc":{"start":{"line":4,"column":0},"end":{"line":22,"column":3}}},{"type":{"label":"class","keyword":"class","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"class","start":717,"end":722,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"PreferredDirectionConstraint","start":723,"end":751,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":34}}},{"type":{"label":"extends","keyword":"extends","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"extends","start":752,"end":759,"loc":{"start":{"line":23,"column":35},"end":{"line":23,"column":42}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"SoftConstraint","start":760,"end":774,"loc":{"start":{"line":23,"column":43},"end":{"line":23,"column":57}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":775,"end":776,"loc":{"start":{"line":23,"column":58},"end":{"line":23,"column":59}}},{"type":"CommentBlock","value":"* The constructor of the PreferredDirectionConstraint requires a conf object with parameters.\n\t@param {object} conf - parameter object for this constraint\n\t@param {PerKindNonNegative} conf.LAMBDA_DIR - strength of the constraint per cellkind.\n\t@param {ArrayCoordinate[]} conf.DIR 'vector' with the preferred direction. This is\n\tan array with the {@link ArrayCoordinate}s of the start and endpoints of this vector. \n\t","start":781,"end":1201,"loc":{"start":{"line":26,"column":1},"end":{"line":31,"column":3}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"constructor","start":1203,"end":1214,"loc":{"start":{"line":32,"column":1},"end":{"line":32,"column":12}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1214,"end":1215,"loc":{"start":{"line":32,"column":12},"end":{"line":32,"column":13}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"conf","start":1215,"end":1219,"loc":{"start":{"line":32,"column":13},"end":{"line":32,"column":17}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1219,"end":1220,"loc":{"start":{"line":32,"column":17},"end":{"line":32,"column":18}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1220,"end":1221,"loc":{"start":{"line":32,"column":18},"end":{"line":32,"column":19}}},{"type":{"label":"super","keyword":"super","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"super","start":1224,"end":1229,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":7}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1229,"end":1230,"loc":{"start":{"line":33,"column":7},"end":{"line":33,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"conf","start":1230,"end":1234,"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":12}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1234,"end":1235,"loc":{"start":{"line":33,"column":12},"end":{"line":33,"column":13}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1237,"end":1238,"loc":{"start":{"line":34,"column":1},"end":{"line":34,"column":2}}},{"type":"CommentBlock","value":"* This method checks that all required parameters are present in the object supplied to\n\tthe constructor, and that they are of the right format. It throws an error when this\n\tis not the case.","start":1242,"end":1437,"loc":{"start":{"line":36,"column":1},"end":{"line":38,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"confChecker","start":1439,"end":1450,"loc":{"start":{"line":39,"column":1},"end":{"line":39,"column":12}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1450,"end":1451,"loc":{"start":{"line":39,"column":12},"end":{"line":39,"column":13}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1451,"end":1452,"loc":{"start":{"line":39,"column":13},"end":{"line":39,"column":14}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1452,"end":1453,"loc":{"start":{"line":39,"column":14},"end":{"line":39,"column":15}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":1456,"end":1459,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"checker","start":1460,"end":1467,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":13}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":1468,"end":1469,"loc":{"start":{"line":40,"column":14},"end":{"line":40,"column":15}}},{"type":{"label":"new","keyword":"new","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"new","start":1470,"end":1473,"loc":{"start":{"line":40,"column":16},"end":{"line":40,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"ParameterChecker","start":1474,"end":1490,"loc":{"start":{"line":40,"column":20},"end":{"line":40,"column":36}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1490,"end":1491,"loc":{"start":{"line":40,"column":36},"end":{"line":40,"column":37}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":1492,"end":1496,"loc":{"start":{"line":40,"column":38},"end":{"line":40,"column":42}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1496,"end":1497,"loc":{"start":{"line":40,"column":42},"end":{"line":40,"column":43}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"conf","start":1497,"end":1501,"loc":{"start":{"line":40,"column":43},"end":{"line":40,"column":47}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1501,"end":1502,"loc":{"start":{"line":40,"column":47},"end":{"line":40,"column":48}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":1503,"end":1507,"loc":{"start":{"line":40,"column":49},"end":{"line":40,"column":53}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1507,"end":1508,"loc":{"start":{"line":40,"column":53},"end":{"line":40,"column":54}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"C","start":1508,"end":1509,"loc":{"start":{"line":40,"column":54},"end":{"line":40,"column":55}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1510,"end":1511,"loc":{"start":{"line":40,"column":56},"end":{"line":40,"column":57}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"checker","start":1514,"end":1521,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":9}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1521,"end":1522,"loc":{"start":{"line":41,"column":9},"end":{"line":41,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"confCheckParameter","start":1522,"end":1540,"loc":{"start":{"line":41,"column":10},"end":{"line":41,"column":28}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1540,"end":1541,"loc":{"start":{"line":41,"column":28},"end":{"line":41,"column":29}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"LAMBDA_DIR","start":1542,"end":1554,"loc":{"start":{"line":41,"column":30},"end":{"line":41,"column":42}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1554,"end":1555,"loc":{"start":{"line":41,"column":42},"end":{"line":41,"column":43}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"KindArray","start":1556,"end":1567,"loc":{"start":{"line":41,"column":44},"end":{"line":41,"column":55}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1567,"end":1568,"loc":{"start":{"line":41,"column":55},"end":{"line":41,"column":56}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"NonNegative","start":1569,"end":1582,"loc":{"start":{"line":41,"column":57},"end":{"line":41,"column":70}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1583,"end":1584,"loc":{"start":{"line":41,"column":71},"end":{"line":41,"column":72}}},{"type":"CommentLine","value":" Custom check for the attractionpoint","start":1590,"end":1629,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":41}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"checker","start":1632,"end":1639,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":9}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1639,"end":1640,"loc":{"start":{"line":44,"column":9},"end":{"line":44,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"confCheckPresenceOf","start":1640,"end":1659,"loc":{"start":{"line":44,"column":10},"end":{"line":44,"column":29}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1659,"end":1660,"loc":{"start":{"line":44,"column":29},"end":{"line":44,"column":30}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"DIR","start":1661,"end":1666,"loc":{"start":{"line":44,"column":31},"end":{"line":44,"column":36}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1667,"end":1668,"loc":{"start":{"line":44,"column":37},"end":{"line":44,"column":38}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":1671,"end":1674,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pt","start":1675,"end":1677,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":8}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":1678,"end":1679,"loc":{"start":{"line":45,"column":9},"end":{"line":45,"column":10}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":1680,"end":1684,"loc":{"start":{"line":45,"column":11},"end":{"line":45,"column":15}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1684,"end":1685,"loc":{"start":{"line":45,"column":15},"end":{"line":45,"column":16}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"conf","start":1685,"end":1689,"loc":{"start":{"line":45,"column":16},"end":{"line":45,"column":20}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1689,"end":1690,"loc":{"start":{"line":45,"column":20},"end":{"line":45,"column":21}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"DIR","start":1690,"end":1695,"loc":{"start":{"line":45,"column":21},"end":{"line":45,"column":26}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1695,"end":1696,"loc":{"start":{"line":45,"column":26},"end":{"line":45,"column":27}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":1699,"end":1701,"loc":{"start":{"line":46,"column":2},"end":{"line":46,"column":4}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1701,"end":1702,"loc":{"start":{"line":46,"column":4},"end":{"line":46,"column":5}}},{"type":{"label":"prefix","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":false,"binop":null,"updateContext":null},"value":"!","start":1703,"end":1704,"loc":{"start":{"line":46,"column":6},"end":{"line":46,"column":7}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1704,"end":1705,"loc":{"start":{"line":46,"column":7},"end":{"line":46,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pt","start":1706,"end":1708,"loc":{"start":{"line":46,"column":9},"end":{"line":46,"column":11}}},{"type":{"label":"instanceof","keyword":"instanceof","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"instanceof","start":1709,"end":1719,"loc":{"start":{"line":46,"column":12},"end":{"line":46,"column":22}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"Array","start":1720,"end":1725,"loc":{"start":{"line":46,"column":23},"end":{"line":46,"column":28}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1726,"end":1727,"loc":{"start":{"line":46,"column":29},"end":{"line":46,"column":30}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1728,"end":1729,"loc":{"start":{"line":46,"column":31},"end":{"line":46,"column":32}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1729,"end":1730,"loc":{"start":{"line":46,"column":32},"end":{"line":46,"column":33}}},{"type":{"label":"throw","keyword":"throw","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"throw","start":1734,"end":1739,"loc":{"start":{"line":47,"column":3},"end":{"line":47,"column":8}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1739,"end":1740,"loc":{"start":{"line":47,"column":8},"end":{"line":47,"column":9}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"DIR must be an array with the start and end coordinate of the preferred direction vector!","start":1741,"end":1832,"loc":{"start":{"line":47,"column":10},"end":{"line":47,"column":101}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1833,"end":1834,"loc":{"start":{"line":47,"column":102},"end":{"line":47,"column":103}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1837,"end":1838,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":3}}},{"type":{"label":"for","keyword":"for","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":true,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"for","start":1841,"end":1844,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1844,"end":1845,"loc":{"start":{"line":49,"column":5},"end":{"line":49,"column":6}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":1846,"end":1849,"loc":{"start":{"line":49,"column":7},"end":{"line":49,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"p","start":1850,"end":1851,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":12}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"of","start":1852,"end":1854,"loc":{"start":{"line":49,"column":13},"end":{"line":49,"column":15}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pt","start":1855,"end":1857,"loc":{"start":{"line":49,"column":16},"end":{"line":49,"column":18}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1858,"end":1859,"loc":{"start":{"line":49,"column":19},"end":{"line":49,"column":20}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1859,"end":1860,"loc":{"start":{"line":49,"column":20},"end":{"line":49,"column":21}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":1867,"end":1869,"loc":{"start":{"line":51,"column":3},"end":{"line":51,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1869,"end":1870,"loc":{"start":{"line":51,"column":5},"end":{"line":51,"column":6}}},{"type":{"label":"prefix","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":false,"binop":null,"updateContext":null},"value":"!","start":1871,"end":1872,"loc":{"start":{"line":51,"column":7},"end":{"line":51,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"checker","start":1872,"end":1879,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":15}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1879,"end":1880,"loc":{"start":{"line":51,"column":15},"end":{"line":51,"column":16}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"isCoordinate","start":1880,"end":1892,"loc":{"start":{"line":51,"column":16},"end":{"line":51,"column":28}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1892,"end":1893,"loc":{"start":{"line":51,"column":28},"end":{"line":51,"column":29}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"p","start":1893,"end":1894,"loc":{"start":{"line":51,"column":29},"end":{"line":51,"column":30}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1894,"end":1895,"loc":{"start":{"line":51,"column":30},"end":{"line":51,"column":31}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1896,"end":1897,"loc":{"start":{"line":51,"column":32},"end":{"line":51,"column":33}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1897,"end":1898,"loc":{"start":{"line":51,"column":33},"end":{"line":51,"column":34}}},{"type":{"label":"throw","keyword":"throw","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"throw","start":1903,"end":1908,"loc":{"start":{"line":52,"column":4},"end":{"line":52,"column":9}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1908,"end":1909,"loc":{"start":{"line":52,"column":9},"end":{"line":52,"column":10}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"DIR elements must be coordinate arrays with the same dimensions as the grid!","start":1909,"end":1987,"loc":{"start":{"line":52,"column":10},"end":{"line":52,"column":88}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1987,"end":1988,"loc":{"start":{"line":52,"column":88},"end":{"line":52,"column":89}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1992,"end":1993,"loc":{"start":{"line":53,"column":3},"end":{"line":53,"column":4}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1996,"end":1997,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":3}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1999,"end":2000,"loc":{"start":{"line":55,"column":1},"end":{"line":55,"column":2}}},{"type":"CommentBlock","value":"* Method to compute the Hamiltonian for this constraint. \n\t @param {IndexCoordinate} src_i - coordinate of the source pixel that tries to copy.\n\t @param {IndexCoordinate} tgt_i - coordinate of the target pixel the source is trying\n\t to copy into.\n\t @param {CellId} src_type - cellid of the source pixel.\n\t @param {CellId} tgt_type - cellid of the target pixel. This argument is not actually\n\t used but is given for consistency with other soft constraints; the CPM always calls\n\t this method with four arguments.\n\t @return {number} the change in Hamiltonian for this copy attempt and this constraint.","start":2004,"end":2607,"loc":{"start":{"line":57,"column":1},"end":{"line":65,"column":89}}},{"type":"CommentBlock","value":" eslint-disable no-unused-vars","start":2610,"end":2644,"loc":{"start":{"line":66,"column":1},"end":{"line":66,"column":35}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"deltaH","start":2646,"end":2652,"loc":{"start":{"line":67,"column":1},"end":{"line":67,"column":7}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2652,"end":2653,"loc":{"start":{"line":67,"column":7},"end":{"line":67,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"src_i","start":2654,"end":2659,"loc":{"start":{"line":67,"column":9},"end":{"line":67,"column":14}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2659,"end":2660,"loc":{"start":{"line":67,"column":14},"end":{"line":67,"column":15}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"tgt_i","start":2661,"end":2666,"loc":{"start":{"line":67,"column":16},"end":{"line":67,"column":21}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2666,"end":2667,"loc":{"start":{"line":67,"column":21},"end":{"line":67,"column":22}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"src_type","start":2668,"end":2676,"loc":{"start":{"line":67,"column":23},"end":{"line":67,"column":31}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2676,"end":2677,"loc":{"start":{"line":67,"column":31},"end":{"line":67,"column":32}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"tgt_type","start":2678,"end":2686,"loc":{"start":{"line":67,"column":33},"end":{"line":67,"column":41}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2687,"end":2688,"loc":{"start":{"line":67,"column":42},"end":{"line":67,"column":43}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2688,"end":2689,"loc":{"start":{"line":67,"column":43},"end":{"line":67,"column":44}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":2692,"end":2695,"loc":{"start":{"line":68,"column":2},"end":{"line":68,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"l","start":2696,"end":2697,"loc":{"start":{"line":68,"column":6},"end":{"line":68,"column":7}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2698,"end":2699,"loc":{"start":{"line":68,"column":8},"end":{"line":68,"column":9}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2700,"end":2704,"loc":{"start":{"line":68,"column":10},"end":{"line":68,"column":14}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2704,"end":2705,"loc":{"start":{"line":68,"column":14},"end":{"line":68,"column":15}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellParameter","start":2705,"end":2718,"loc":{"start":{"line":68,"column":15},"end":{"line":68,"column":28}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2718,"end":2719,"loc":{"start":{"line":68,"column":28},"end":{"line":68,"column":29}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"LAMBDA_DIR","start":2719,"end":2731,"loc":{"start":{"line":68,"column":29},"end":{"line":68,"column":41}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2731,"end":2732,"loc":{"start":{"line":68,"column":41},"end":{"line":68,"column":42}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"src_type","start":2733,"end":2741,"loc":{"start":{"line":68,"column":43},"end":{"line":68,"column":51}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2741,"end":2742,"loc":{"start":{"line":68,"column":51},"end":{"line":68,"column":52}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":2745,"end":2747,"loc":{"start":{"line":69,"column":2},"end":{"line":69,"column":4}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2747,"end":2748,"loc":{"start":{"line":69,"column":4},"end":{"line":69,"column":5}}},{"type":{"label":"prefix","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":false,"binop":null,"updateContext":null},"value":"!","start":2749,"end":2750,"loc":{"start":{"line":69,"column":6},"end":{"line":69,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"l","start":2750,"end":2751,"loc":{"start":{"line":69,"column":7},"end":{"line":69,"column":8}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2752,"end":2753,"loc":{"start":{"line":69,"column":9},"end":{"line":69,"column":10}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2753,"end":2754,"loc":{"start":{"line":69,"column":10},"end":{"line":69,"column":11}}},{"type":{"label":"return","keyword":"return","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"return","start":2758,"end":2764,"loc":{"start":{"line":70,"column":3},"end":{"line":70,"column":9}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":2765,"end":2766,"loc":{"start":{"line":70,"column":10},"end":{"line":70,"column":11}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2769,"end":2770,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":3}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":2773,"end":2776,"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"torus","start":2777,"end":2782,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":11}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2783,"end":2784,"loc":{"start":{"line":72,"column":12},"end":{"line":72,"column":13}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2785,"end":2789,"loc":{"start":{"line":72,"column":14},"end":{"line":72,"column":18}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2789,"end":2790,"loc":{"start":{"line":72,"column":18},"end":{"line":72,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"C","start":2790,"end":2791,"loc":{"start":{"line":72,"column":19},"end":{"line":72,"column":20}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2791,"end":2792,"loc":{"start":{"line":72,"column":20},"end":{"line":72,"column":21}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"conf","start":2792,"end":2796,"loc":{"start":{"line":72,"column":21},"end":{"line":72,"column":25}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2796,"end":2797,"loc":{"start":{"line":72,"column":25},"end":{"line":72,"column":26}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"torus","start":2797,"end":2802,"loc":{"start":{"line":72,"column":26},"end":{"line":72,"column":31}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":2805,"end":2808,"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dir","start":2809,"end":2812,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":9}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2813,"end":2814,"loc":{"start":{"line":73,"column":10},"end":{"line":73,"column":11}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2815,"end":2819,"loc":{"start":{"line":73,"column":12},"end":{"line":73,"column":16}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2819,"end":2820,"loc":{"start":{"line":73,"column":16},"end":{"line":73,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellParameter","start":2820,"end":2833,"loc":{"start":{"line":73,"column":17},"end":{"line":73,"column":30}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2833,"end":2834,"loc":{"start":{"line":73,"column":30},"end":{"line":73,"column":31}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"DIR","start":2834,"end":2839,"loc":{"start":{"line":73,"column":31},"end":{"line":73,"column":36}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2839,"end":2840,"loc":{"start":{"line":73,"column":36},"end":{"line":73,"column":37}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"src_type","start":2841,"end":2849,"loc":{"start":{"line":73,"column":38},"end":{"line":73,"column":46}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2849,"end":2850,"loc":{"start":{"line":73,"column":46},"end":{"line":73,"column":47}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":2853,"end":2856,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"p1","start":2857,"end":2859,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":8}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2860,"end":2861,"loc":{"start":{"line":74,"column":9},"end":{"line":74,"column":10}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2862,"end":2866,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":15}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2866,"end":2867,"loc":{"start":{"line":74,"column":15},"end":{"line":74,"column":16}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"C","start":2867,"end":2868,"loc":{"start":{"line":74,"column":16},"end":{"line":74,"column":17}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2868,"end":2869,"loc":{"start":{"line":74,"column":17},"end":{"line":74,"column":18}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"grid","start":2869,"end":2873,"loc":{"start":{"line":74,"column":18},"end":{"line":74,"column":22}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2873,"end":2874,"loc":{"start":{"line":74,"column":22},"end":{"line":74,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i2p","start":2874,"end":2877,"loc":{"start":{"line":74,"column":23},"end":{"line":74,"column":26}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2877,"end":2878,"loc":{"start":{"line":74,"column":26},"end":{"line":74,"column":27}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"src_i","start":2879,"end":2884,"loc":{"start":{"line":74,"column":28},"end":{"line":74,"column":33}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2885,"end":2886,"loc":{"start":{"line":74,"column":34},"end":{"line":74,"column":35}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2886,"end":2887,"loc":{"start":{"line":74,"column":35},"end":{"line":74,"column":36}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"p2","start":2888,"end":2890,"loc":{"start":{"line":74,"column":37},"end":{"line":74,"column":39}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2891,"end":2892,"loc":{"start":{"line":74,"column":40},"end":{"line":74,"column":41}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2893,"end":2897,"loc":{"start":{"line":74,"column":42},"end":{"line":74,"column":46}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2897,"end":2898,"loc":{"start":{"line":74,"column":46},"end":{"line":74,"column":47}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"C","start":2898,"end":2899,"loc":{"start":{"line":74,"column":47},"end":{"line":74,"column":48}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2899,"end":2900,"loc":{"start":{"line":74,"column":48},"end":{"line":74,"column":49}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"grid","start":2900,"end":2904,"loc":{"start":{"line":74,"column":49},"end":{"line":74,"column":53}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2904,"end":2905,"loc":{"start":{"line":74,"column":53},"end":{"line":74,"column":54}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i2p","start":2905,"end":2908,"loc":{"start":{"line":74,"column":54},"end":{"line":74,"column":57}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2908,"end":2909,"loc":{"start":{"line":74,"column":57},"end":{"line":74,"column":58}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"tgt_i","start":2910,"end":2915,"loc":{"start":{"line":74,"column":59},"end":{"line":74,"column":64}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2916,"end":2917,"loc":{"start":{"line":74,"column":65},"end":{"line":74,"column":66}}},{"type":"CommentLine","value":" To bias a copy attempt p1 -> p2 in the direction of vector 'dir'.","start":2920,"end":2988,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":70}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":2991,"end":2994,"loc":{"start":{"line":76,"column":2},"end":{"line":76,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"r","start":2995,"end":2996,"loc":{"start":{"line":76,"column":6},"end":{"line":76,"column":7}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2997,"end":2998,"loc":{"start":{"line":76,"column":8},"end":{"line":76,"column":9}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":2999,"end":3001,"loc":{"start":{"line":76,"column":10},"end":{"line":76,"column":12}}},{"type":"CommentLine","value":" loops over the coordinates x,y,(z)","start":3004,"end":3041,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":39}}},{"type":{"label":"for","keyword":"for","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":true,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"for","start":3044,"end":3047,"loc":{"start":{"line":78,"column":2},"end":{"line":78,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3047,"end":3048,"loc":{"start":{"line":78,"column":5},"end":{"line":78,"column":6}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":3049,"end":3052,"loc":{"start":{"line":78,"column":7},"end":{"line":78,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":3053,"end":3054,"loc":{"start":{"line":78,"column":11},"end":{"line":78,"column":12}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":3055,"end":3056,"loc":{"start":{"line":78,"column":13},"end":{"line":78,"column":14}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":3057,"end":3058,"loc":{"start":{"line":78,"column":15},"end":{"line":78,"column":16}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3058,"end":3059,"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":3060,"end":3061,"loc":{"start":{"line":78,"column":18},"end":{"line":78,"column":19}}},{"type":{"label":"</>","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"<","start":3062,"end":3063,"loc":{"start":{"line":78,"column":20},"end":{"line":78,"column":21}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"p1","start":3064,"end":3066,"loc":{"start":{"line":78,"column":22},"end":{"line":78,"column":24}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3066,"end":3067,"loc":{"start":{"line":78,"column":24},"end":{"line":78,"column":25}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"length","start":3067,"end":3073,"loc":{"start":{"line":78,"column":25},"end":{"line":78,"column":31}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3074,"end":3075,"loc":{"start":{"line":78,"column":32},"end":{"line":78,"column":33}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":3076,"end":3077,"loc":{"start":{"line":78,"column":34},"end":{"line":78,"column":35}}},{"type":{"label":"++/--","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":true,"binop":null},"value":"++","start":3077,"end":3079,"loc":{"start":{"line":78,"column":35},"end":{"line":78,"column":37}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3080,"end":3081,"loc":{"start":{"line":78,"column":38},"end":{"line":78,"column":39}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3081,"end":3082,"loc":{"start":{"line":78,"column":39},"end":{"line":78,"column":40}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":3086,"end":3089,"loc":{"start":{"line":79,"column":3},"end":{"line":79,"column":6}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"si","start":3090,"end":3092,"loc":{"start":{"line":79,"column":7},"end":{"line":79,"column":9}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":3093,"end":3094,"loc":{"start":{"line":79,"column":10},"end":{"line":79,"column":11}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":3095,"end":3099,"loc":{"start":{"line":79,"column":12},"end":{"line":79,"column":16}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3099,"end":3100,"loc":{"start":{"line":79,"column":16},"end":{"line":79,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"C","start":3100,"end":3101,"loc":{"start":{"line":79,"column":17},"end":{"line":79,"column":18}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3101,"end":3102,"loc":{"start":{"line":79,"column":18},"end":{"line":79,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"extents","start":3102,"end":3109,"loc":{"start":{"line":79,"column":19},"end":{"line":79,"column":26}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3109,"end":3110,"loc":{"start":{"line":79,"column":26},"end":{"line":79,"column":27}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":3110,"end":3111,"loc":{"start":{"line":79,"column":27},"end":{"line":79,"column":28}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3111,"end":3112,"loc":{"start":{"line":79,"column":28},"end":{"line":79,"column":29}}},{"type":"CommentLine","value":" direction of the copy attempt on this coordinate is from p1 to p2","start":3116,"end":3184,"loc":{"start":{"line":80,"column":3},"end":{"line":80,"column":71}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":3188,"end":3191,"loc":{"start":{"line":81,"column":3},"end":{"line":81,"column":6}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dx","start":3192,"end":3194,"loc":{"start":{"line":81,"column":7},"end":{"line":81,"column":9}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":3195,"end":3196,"loc":{"start":{"line":81,"column":10},"end":{"line":81,"column":11}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"p2","start":3197,"end":3199,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":14}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3199,"end":3200,"loc":{"start":{"line":81,"column":14},"end":{"line":81,"column":15}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":3200,"end":3201,"loc":{"start":{"line":81,"column":15},"end":{"line":81,"column":16}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3201,"end":3202,"loc":{"start":{"line":81,"column":16},"end":{"line":81,"column":17}}},{"type":{"label":"+/-","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":false,"binop":9,"updateContext":null},"value":"-","start":3203,"end":3204,"loc":{"start":{"line":81,"column":18},"end":{"line":81,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"p1","start":3205,"end":3207,"loc":{"start":{"line":81,"column":20},"end":{"line":81,"column":22}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3207,"end":3208,"loc":{"start":{"line":81,"column":22},"end":{"line":81,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":3208,"end":3209,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":24}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3209,"end":3210,"loc":{"start":{"line":81,"column":24},"end":{"line":81,"column":25}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":3214,"end":3216,"loc":{"start":{"line":82,"column":3},"end":{"line":82,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3216,"end":3217,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":6}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"torus","start":3218,"end":3223,"loc":{"start":{"line":82,"column":7},"end":{"line":82,"column":12}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3223,"end":3224,"loc":{"start":{"line":82,"column":12},"end":{"line":82,"column":13}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":3224,"end":3225,"loc":{"start":{"line":82,"column":13},"end":{"line":82,"column":14}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3225,"end":3226,"loc":{"start":{"line":82,"column":14},"end":{"line":82,"column":15}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3227,"end":3228,"loc":{"start":{"line":82,"column":16},"end":{"line":82,"column":17}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3228,"end":3229,"loc":{"start":{"line":82,"column":17},"end":{"line":82,"column":18}}},{"type":"CommentLine","value":" If distance is greater than half the grid size, correct the","start":3234,"end":3296,"loc":{"start":{"line":83,"column":4},"end":{"line":83,"column":66}}},{"type":"CommentLine","value":" coordinate.","start":3301,"end":3315,"loc":{"start":{"line":84,"column":4},"end":{"line":84,"column":18}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":3320,"end":3322,"loc":{"start":{"line":85,"column":4},"end":{"line":85,"column":6}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3322,"end":3323,"loc":{"start":{"line":85,"column":6},"end":{"line":85,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dx","start":3324,"end":3326,"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":10}}},{"type":{"label":"</>","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":">","start":3327,"end":3328,"loc":{"start":{"line":85,"column":11},"end":{"line":85,"column":12}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"si","start":3329,"end":3331,"loc":{"start":{"line":85,"column":13},"end":{"line":85,"column":15}}},{"type":{"label":"/","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":10,"updateContext":null},"value":"/","start":3331,"end":3332,"loc":{"start":{"line":85,"column":15},"end":{"line":85,"column":16}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":2,"start":3332,"end":3333,"loc":{"start":{"line":85,"column":16},"end":{"line":85,"column":17}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3334,"end":3335,"loc":{"start":{"line":85,"column":18},"end":{"line":85,"column":19}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3335,"end":3336,"loc":{"start":{"line":85,"column":19},"end":{"line":85,"column":20}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dx","start":3342,"end":3344,"loc":{"start":{"line":86,"column":5},"end":{"line":86,"column":7}}},{"type":{"label":"_=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"-=","start":3345,"end":3347,"loc":{"start":{"line":86,"column":8},"end":{"line":86,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"si","start":3348,"end":3350,"loc":{"start":{"line":86,"column":11},"end":{"line":86,"column":13}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3355,"end":3356,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":5}}},{"type":{"label":"else","keyword":"else","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"else","start":3357,"end":3361,"loc":{"start":{"line":87,"column":6},"end":{"line":87,"column":10}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":3362,"end":3364,"loc":{"start":{"line":87,"column":11},"end":{"line":87,"column":13}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3364,"end":3365,"loc":{"start":{"line":87,"column":13},"end":{"line":87,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dx","start":3366,"end":3368,"loc":{"start":{"line":87,"column":15},"end":{"line":87,"column":17}}},{"type":{"label":"</>","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"<","start":3369,"end":3370,"loc":{"start":{"line":87,"column":18},"end":{"line":87,"column":19}}},{"type":{"label":"+/-","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":false,"binop":9,"updateContext":null},"value":"-","start":3371,"end":3372,"loc":{"start":{"line":87,"column":20},"end":{"line":87,"column":21}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"si","start":3372,"end":3374,"loc":{"start":{"line":87,"column":21},"end":{"line":87,"column":23}}},{"type":{"label":"/","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":10,"updateContext":null},"value":"/","start":3374,"end":3375,"loc":{"start":{"line":87,"column":23},"end":{"line":87,"column":24}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":2,"start":3375,"end":3376,"loc":{"start":{"line":87,"column":24},"end":{"line":87,"column":25}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3377,"end":3378,"loc":{"start":{"line":87,"column":26},"end":{"line":87,"column":27}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3378,"end":3379,"loc":{"start":{"line":87,"column":27},"end":{"line":87,"column":28}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dx","start":3385,"end":3387,"loc":{"start":{"line":88,"column":5},"end":{"line":88,"column":7}}},{"type":{"label":"_=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"+=","start":3388,"end":3390,"loc":{"start":{"line":88,"column":8},"end":{"line":88,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"si","start":3391,"end":3393,"loc":{"start":{"line":88,"column":11},"end":{"line":88,"column":13}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3398,"end":3399,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":5}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3403,"end":3404,"loc":{"start":{"line":90,"column":3},"end":{"line":90,"column":4}}},{"type":"CommentLine","value":" direction of the gradient","start":3408,"end":3436,"loc":{"start":{"line":91,"column":3},"end":{"line":91,"column":31}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"r","start":3440,"end":3441,"loc":{"start":{"line":92,"column":3},"end":{"line":92,"column":4}}},{"type":{"label":"_=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"+=","start":3442,"end":3444,"loc":{"start":{"line":92,"column":5},"end":{"line":92,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dx","start":3445,"end":3447,"loc":{"start":{"line":92,"column":8},"end":{"line":92,"column":10}}},{"type":{"label":"*","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":10,"updateContext":null},"value":"*","start":3448,"end":3449,"loc":{"start":{"line":92,"column":11},"end":{"line":92,"column":12}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dir","start":3450,"end":3453,"loc":{"start":{"line":92,"column":13},"end":{"line":92,"column":16}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3453,"end":3454,"loc":{"start":{"line":92,"column":16},"end":{"line":92,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":3454,"end":3455,"loc":{"start":{"line":92,"column":17},"end":{"line":92,"column":18}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3455,"end":3456,"loc":{"start":{"line":92,"column":18},"end":{"line":92,"column":19}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3460,"end":3461,"loc":{"start":{"line":93,"column":2},"end":{"line":93,"column":3}}},{"type":{"label":"return","keyword":"return","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"return","start":3464,"end":3470,"loc":{"start":{"line":94,"column":2},"end":{"line":94,"column":8}}},{"type":{"label":"+/-","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":false,"binop":9,"updateContext":null},"value":"-","start":3471,"end":3472,"loc":{"start":{"line":94,"column":9},"end":{"line":94,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"r","start":3473,"end":3474,"loc":{"start":{"line":94,"column":11},"end":{"line":94,"column":12}}},{"type":{"label":"*","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":10,"updateContext":null},"value":"*","start":3475,"end":3476,"loc":{"start":{"line":94,"column":13},"end":{"line":94,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"l","start":3477,"end":3478,"loc":{"start":{"line":94,"column":15},"end":{"line":94,"column":16}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3480,"end":3481,"loc":{"start":{"line":95,"column":1},"end":{"line":95,"column":2}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3482,"end":3483,"loc":{"start":{"line":96,"column":0},"end":{"line":96,"column":1}}},{"type":{"label":"export","keyword":"export","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"export","start":3485,"end":3491,"loc":{"start":{"line":98,"column":0},"end":{"line":98,"column":6}}},{"type":{"label":"default","keyword":"default","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"default","start":3492,"end":3499,"loc":{"start":{"line":98,"column":7},"end":{"line":98,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"PreferredDirectionConstraint","start":3500,"end":3528,"loc":{"start":{"line":98,"column":15},"end":{"line":98,"column":43}}},{"type":{"label":"eof","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3529,"end":3529,"loc":{"start":{"line":99,"column":0},"end":{"line":99,"column":0}}}]}