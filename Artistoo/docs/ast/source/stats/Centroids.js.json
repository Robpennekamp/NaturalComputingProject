{"type":"File","start":0,"end":3980,"loc":{"start":{"line":1,"column":0},"end":{"line":123,"column":0}},"program":{"type":"Program","start":0,"end":3980,"loc":{"start":{"line":1,"column":0},"end":{"line":123,"column":0}},"sourceType":"module","body":[{"type":"ImportDeclaration","start":2,"end":30,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"specifiers":[{"type":"ImportDefaultSpecifier","start":9,"end":13,"loc":{"start":{"line":3,"column":7},"end":{"line":3,"column":11}},"local":{"type":"Identifier","start":9,"end":13,"loc":{"start":{"line":3,"column":7},"end":{"line":3,"column":11},"identifierName":"Stat"},"name":"Stat"}}],"source":{"type":"StringLiteral","start":19,"end":30,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":28}},"extra":{"rawValue":"./Stat.js","raw":"\"./Stat.js\""},"value":"./Stat.js"}},{"type":"ImportDeclaration","start":31,"end":75,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":44}},"specifiers":[{"type":"ImportDefaultSpecifier","start":38,"end":50,"loc":{"start":{"line":4,"column":7},"end":{"line":4,"column":19}},"local":{"type":"Identifier","start":38,"end":50,"loc":{"start":{"line":4,"column":7},"end":{"line":4,"column":19},"identifierName":"PixelsByCell"},"name":"PixelsByCell"}}],"source":{"type":"StringLiteral","start":56,"end":75,"loc":{"start":{"line":4,"column":25},"end":{"line":4,"column":44}},"extra":{"rawValue":"./PixelsByCell.js","raw":"\"./PixelsByCell.js\""},"value":"./PixelsByCell.js","leadingComments":null,"trailingComments":null},"trailingComments":[{"type":"CommentBlock","value":"*\tThis Stat computes the centroid of a cell. When the cell resides on a torus, the\n\tcentroid may be well outside the cell, and other stats may be preferable (e.g.\n\t{@link CentroidsWithTorusCorrection}).\n\t\n\t@example\n\t* let CPM = require( \"path/to/build\" )\n\t*\n\t* // Make a CPM, seed two cells, run a little, and get their centroids\n\t* let C = new CPM.CPM( [100,100], { \n\t* \tT:20,\n\t*\ttorus:[false,false],\n\t* \tJ:[[0,20],[20,10]],\n\t* \tV:[0,200],\n\t* \tLAMBDA_V:[0,2]\n\t* } )\n\t* let gm = new CPM.GridManipulator( C )\n\t* gm.seedCell(1)\n\t* gm.seedCell(1)\n\t* for( let t = 0; t < 100; t++ ){ C.timeStep() }\n\t*\n\t* C.getStat( CPM.Centroids ) \n","start":77,"end":709,"loc":{"start":{"line":6,"column":0},"end":{"line":27,"column":2}}}]},{"type":"Identifier","start":710,"end":3953,"loc":{"start":{"line":28,"column":0},"end":{"line":120,"column":1}},"id":{"type":"Identifier","start":716,"end":725,"loc":{"start":{"line":28,"column":6},"end":{"line":28,"column":15},"identifierName":"Centroids"},"name":"Centroids","leadingComments":null},"superClass":{"type":"Identifier","start":734,"end":738,"loc":{"start":{"line":28,"column":24},"end":{"line":28,"column":28},"identifierName":"Stat"},"name":"Stat"},"body":{"type":"ClassBody","start":739,"end":3953,"loc":{"start":{"line":28,"column":29},"end":{"line":120,"column":1}},"body":[{"type":"ClassMethod","start":875,"end":1791,"loc":{"start":{"line":32,"column":1},"end":{"line":61,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":879,"end":884,"loc":{"start":{"line":32,"column":5},"end":{"line":32,"column":10},"identifierName":"model"},"name":"model"},"kind":"set","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":886,"end":887,"loc":{"start":{"line":32,"column":12},"end":{"line":32,"column":13},"identifierName":"M"},"name":"M"}],"body":{"type":"BlockStatement","start":889,"end":1791,"loc":{"start":{"line":32,"column":15},"end":{"line":61,"column":2}},"body":[{"type":"ExpressionStatement","start":964,"end":974,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":12}},"expression":{"type":"AssignmentExpression","start":964,"end":974,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":12}},"operator":"=","left":{"type":"MemberExpression","start":964,"end":970,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":8}},"object":{"type":"ThisExpression","start":964,"end":968,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":6}},"leadingComments":null},"property":{"type":"Identifier","start":969,"end":970,"loc":{"start":{"line":36,"column":7},"end":{"line":36,"column":8},"identifierName":"M"},"name":"M"},"computed":false,"leadingComments":null},"right":{"type":"Identifier","start":973,"end":974,"loc":{"start":{"line":36,"column":11},"end":{"line":36,"column":12},"identifierName":"M"},"name":"M","leadingComments":null,"trailingComments":null},"leadingComments":null,"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* The model to compute centroids on. \n\t\t@type {GridBasedModel}","start":895,"end":961,"loc":{"start":{"line":34,"column":2},"end":{"line":35,"column":26}}}],"trailingComments":[{"type":"CommentBlock","value":" Check if the grid has a torus; if so, warn that this method may not be\n\t\tappropriate. ","start":980,"end":1071,"loc":{"start":{"line":38,"column":2},"end":{"line":39,"column":17}}}]},{"type":"VariableDeclaration","start":1074,"end":1091,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":19}},"declarations":[{"type":"VariableDeclarator","start":1078,"end":1091,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":19}},"id":{"type":"Identifier","start":1078,"end":1083,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":11},"identifierName":"torus"},"name":"torus","leadingComments":null},"init":{"type":"BooleanLiteral","start":1086,"end":1091,"loc":{"start":{"line":40,"column":14},"end":{"line":40,"column":19}},"value":false},"leadingComments":null}],"kind":"let","leadingComments":[{"type":"CommentBlock","value":" Check if the grid has a torus; if so, warn that this method may not be\n\t\tappropriate. ","start":980,"end":1071,"loc":{"start":{"line":38,"column":2},"end":{"line":39,"column":17}}}]},{"type":"ForStatement","start":1094,"end":1200,"loc":{"start":{"line":41,"column":2},"end":{"line":46,"column":3}},"init":{"type":"VariableDeclaration","start":1099,"end":1108,"loc":{"start":{"line":41,"column":7},"end":{"line":41,"column":16}},"declarations":[{"type":"VariableDeclarator","start":1103,"end":1108,"loc":{"start":{"line":41,"column":11},"end":{"line":41,"column":16}},"id":{"type":"Identifier","start":1103,"end":1104,"loc":{"start":{"line":41,"column":11},"end":{"line":41,"column":12},"identifierName":"d"},"name":"d"},"init":{"type":"NumericLiteral","start":1107,"end":1108,"loc":{"start":{"line":41,"column":15},"end":{"line":41,"column":16}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"kind":"let"},"test":{"type":"BinaryExpression","start":1110,"end":1125,"loc":{"start":{"line":41,"column":18},"end":{"line":41,"column":33}},"left":{"type":"Identifier","start":1110,"end":1111,"loc":{"start":{"line":41,"column":18},"end":{"line":41,"column":19},"identifierName":"d"},"name":"d"},"operator":"<","right":{"type":"MemberExpression","start":1114,"end":1125,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":33}},"object":{"type":"MemberExpression","start":1114,"end":1120,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":28}},"object":{"type":"ThisExpression","start":1114,"end":1118,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":26}}},"property":{"type":"Identifier","start":1119,"end":1120,"loc":{"start":{"line":41,"column":27},"end":{"line":41,"column":28},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":1121,"end":1125,"loc":{"start":{"line":41,"column":29},"end":{"line":41,"column":33},"identifierName":"ndim"},"name":"ndim"},"computed":false}},"update":{"type":"UpdateExpression","start":1127,"end":1130,"loc":{"start":{"line":41,"column":35},"end":{"line":41,"column":38}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":1127,"end":1128,"loc":{"start":{"line":41,"column":35},"end":{"line":41,"column":36},"identifierName":"d"},"name":"d"}},"body":{"type":"BlockStatement","start":1132,"end":1200,"loc":{"start":{"line":41,"column":40},"end":{"line":46,"column":3}},"body":[{"type":"IfStatement","start":1137,"end":1196,"loc":{"start":{"line":42,"column":3},"end":{"line":45,"column":4}},"test":{"type":"MemberExpression","start":1141,"end":1161,"loc":{"start":{"line":42,"column":7},"end":{"line":42,"column":27}},"object":{"type":"MemberExpression","start":1141,"end":1158,"loc":{"start":{"line":42,"column":7},"end":{"line":42,"column":24}},"object":{"type":"MemberExpression","start":1141,"end":1152,"loc":{"start":{"line":42,"column":7},"end":{"line":42,"column":18}},"object":{"type":"MemberExpression","start":1141,"end":1147,"loc":{"start":{"line":42,"column":7},"end":{"line":42,"column":13}},"object":{"type":"ThisExpression","start":1141,"end":1145,"loc":{"start":{"line":42,"column":7},"end":{"line":42,"column":11}}},"property":{"type":"Identifier","start":1146,"end":1147,"loc":{"start":{"line":42,"column":12},"end":{"line":42,"column":13},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":1148,"end":1152,"loc":{"start":{"line":42,"column":14},"end":{"line":42,"column":18},"identifierName":"grid"},"name":"grid"},"computed":false},"property":{"type":"Identifier","start":1153,"end":1158,"loc":{"start":{"line":42,"column":19},"end":{"line":42,"column":24},"identifierName":"torus"},"name":"torus"},"computed":false},"property":{"type":"Identifier","start":1159,"end":1160,"loc":{"start":{"line":42,"column":25},"end":{"line":42,"column":26},"identifierName":"d"},"name":"d"},"computed":true},"consequent":{"type":"BlockStatement","start":1163,"end":1196,"loc":{"start":{"line":42,"column":29},"end":{"line":45,"column":4}},"body":[{"type":"ExpressionStatement","start":1169,"end":1181,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":16}},"expression":{"type":"AssignmentExpression","start":1169,"end":1181,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":16}},"operator":"=","left":{"type":"Identifier","start":1169,"end":1174,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":9},"identifierName":"torus"},"name":"torus"},"right":{"type":"BooleanLiteral","start":1177,"end":1181,"loc":{"start":{"line":43,"column":12},"end":{"line":43,"column":16}},"value":true}}},{"type":"BreakStatement","start":1186,"end":1191,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":9}},"label":null}],"directives":[]},"alternate":null}],"directives":[]}},{"type":"IfStatement","start":1206,"end":1422,"loc":{"start":{"line":48,"column":2},"end":{"line":51,"column":3}},"test":{"type":"Identifier","start":1209,"end":1214,"loc":{"start":{"line":48,"column":5},"end":{"line":48,"column":10},"identifierName":"torus"},"name":"torus"},"consequent":{"type":"BlockStatement","start":1215,"end":1422,"loc":{"start":{"line":48,"column":11},"end":{"line":51,"column":3}},"body":[{"type":"ExpressionStatement","start":1262,"end":1418,"loc":{"start":{"line":50,"column":3},"end":{"line":50,"column":159}},"expression":{"type":"CallExpression","start":1262,"end":1418,"loc":{"start":{"line":50,"column":3},"end":{"line":50,"column":159}},"callee":{"type":"MemberExpression","start":1262,"end":1274,"loc":{"start":{"line":50,"column":3},"end":{"line":50,"column":15}},"object":{"type":"Identifier","start":1262,"end":1269,"loc":{"start":{"line":50,"column":3},"end":{"line":50,"column":10},"identifierName":"console"},"name":"console","leadingComments":null},"property":{"type":"Identifier","start":1270,"end":1274,"loc":{"start":{"line":50,"column":11},"end":{"line":50,"column":15},"identifierName":"warn"},"name":"warn"},"computed":false,"leadingComments":null},"arguments":[{"type":"StringLiteral","start":1276,"end":1416,"loc":{"start":{"line":50,"column":17},"end":{"line":50,"column":157}},"extra":{"rawValue":"Your model grid has a torus, and the 'Centroids' stat is not compatible with torus! Consider using 'CentroidsWithTorusCorrection' instead.","raw":"\"Your model grid has a torus, and the 'Centroids' stat is not compatible with torus! Consider using 'CentroidsWithTorusCorrection' instead.\""},"value":"Your model grid has a torus, and the 'Centroids' stat is not compatible with torus! Consider using 'CentroidsWithTorusCorrection' instead."}],"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" eslint-disable-next-line no-console","start":1220,"end":1258,"loc":{"start":{"line":49,"column":3},"end":{"line":49,"column":41}}}]}],"directives":[],"trailingComments":null},"alternate":null,"trailingComments":[{"type":"CommentLine","value":" Half the grid dimensions; if pixels with the same cellid are further apart,","start":1428,"end":1506,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":80}}},{"type":"CommentLine","value":" we assume they are on the border of the grid and that we need to correct","start":1509,"end":1584,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":77}}},{"type":"CommentLine","value":" their positions to compute the centroid.","start":1587,"end":1630,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":45}}},{"type":"CommentBlock","value":"* @ignore ","start":1633,"end":1647,"loc":{"start":{"line":56,"column":2},"end":{"line":56,"column":16}}}]},{"type":"ExpressionStatement","start":1650,"end":1697,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":49}},"expression":{"type":"AssignmentExpression","start":1650,"end":1697,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":49}},"operator":"=","left":{"type":"MemberExpression","start":1650,"end":1663,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":15}},"object":{"type":"ThisExpression","start":1650,"end":1654,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":6}},"leadingComments":null},"property":{"type":"Identifier","start":1655,"end":1663,"loc":{"start":{"line":57,"column":7},"end":{"line":57,"column":15},"identifierName":"halfsize"},"name":"halfsize"},"computed":false,"leadingComments":null},"right":{"type":"CallExpression","start":1666,"end":1697,"loc":{"start":{"line":57,"column":18},"end":{"line":57,"column":49}},"callee":{"type":"MemberExpression","start":1666,"end":1694,"loc":{"start":{"line":57,"column":18},"end":{"line":57,"column":46}},"object":{"type":"NewExpression","start":1666,"end":1689,"loc":{"start":{"line":57,"column":18},"end":{"line":57,"column":41}},"callee":{"type":"Identifier","start":1670,"end":1675,"loc":{"start":{"line":57,"column":22},"end":{"line":57,"column":27},"identifierName":"Array"},"name":"Array"},"arguments":[{"type":"MemberExpression","start":1677,"end":1688,"loc":{"start":{"line":57,"column":29},"end":{"line":57,"column":40}},"object":{"type":"MemberExpression","start":1677,"end":1683,"loc":{"start":{"line":57,"column":29},"end":{"line":57,"column":35}},"object":{"type":"ThisExpression","start":1677,"end":1681,"loc":{"start":{"line":57,"column":29},"end":{"line":57,"column":33}}},"property":{"type":"Identifier","start":1682,"end":1683,"loc":{"start":{"line":57,"column":34},"end":{"line":57,"column":35},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":1684,"end":1688,"loc":{"start":{"line":57,"column":36},"end":{"line":57,"column":40},"identifierName":"ndim"},"name":"ndim"},"computed":false}]},"property":{"type":"Identifier","start":1690,"end":1694,"loc":{"start":{"line":57,"column":42},"end":{"line":57,"column":46},"identifierName":"fill"},"name":"fill"},"computed":false},"arguments":[{"type":"NumericLiteral","start":1695,"end":1696,"loc":{"start":{"line":57,"column":47},"end":{"line":57,"column":48}},"extra":{"rawValue":0,"raw":"0"},"value":0}]},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" Half the grid dimensions; if pixels with the same cellid are further apart,","start":1428,"end":1506,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":80}}},{"type":"CommentLine","value":" we assume they are on the border of the grid and that we need to correct","start":1509,"end":1584,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":77}}},{"type":"CommentLine","value":" their positions to compute the centroid.","start":1587,"end":1630,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":45}}},{"type":"CommentBlock","value":"* @ignore ","start":1633,"end":1647,"loc":{"start":{"line":56,"column":2},"end":{"line":56,"column":16}}}]},{"type":"ForStatement","start":1700,"end":1788,"loc":{"start":{"line":58,"column":2},"end":{"line":60,"column":3}},"init":{"type":"VariableDeclaration","start":1705,"end":1714,"loc":{"start":{"line":58,"column":7},"end":{"line":58,"column":16}},"declarations":[{"type":"VariableDeclarator","start":1709,"end":1714,"loc":{"start":{"line":58,"column":11},"end":{"line":58,"column":16}},"id":{"type":"Identifier","start":1709,"end":1710,"loc":{"start":{"line":58,"column":11},"end":{"line":58,"column":12},"identifierName":"i"},"name":"i"},"init":{"type":"NumericLiteral","start":1713,"end":1714,"loc":{"start":{"line":58,"column":15},"end":{"line":58,"column":16}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"kind":"let"},"test":{"type":"BinaryExpression","start":1717,"end":1732,"loc":{"start":{"line":58,"column":19},"end":{"line":58,"column":34}},"left":{"type":"Identifier","start":1717,"end":1718,"loc":{"start":{"line":58,"column":19},"end":{"line":58,"column":20},"identifierName":"i"},"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":1721,"end":1732,"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":34}},"object":{"type":"MemberExpression","start":1721,"end":1727,"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":29}},"object":{"type":"ThisExpression","start":1721,"end":1725,"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":27}}},"property":{"type":"Identifier","start":1726,"end":1727,"loc":{"start":{"line":58,"column":28},"end":{"line":58,"column":29},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":1728,"end":1732,"loc":{"start":{"line":58,"column":30},"end":{"line":58,"column":34},"identifierName":"ndim"},"name":"ndim"},"computed":false}},"update":{"type":"UpdateExpression","start":1735,"end":1739,"loc":{"start":{"line":58,"column":37},"end":{"line":58,"column":41}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":1735,"end":1736,"loc":{"start":{"line":58,"column":37},"end":{"line":58,"column":38},"identifierName":"i"},"name":"i"}},"body":{"type":"BlockStatement","start":1741,"end":1788,"loc":{"start":{"line":58,"column":43},"end":{"line":60,"column":3}},"body":[{"type":"ExpressionStatement","start":1746,"end":1784,"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":41}},"expression":{"type":"AssignmentExpression","start":1746,"end":1784,"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":41}},"operator":"=","left":{"type":"MemberExpression","start":1746,"end":1762,"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":19}},"object":{"type":"MemberExpression","start":1746,"end":1759,"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":16}},"object":{"type":"ThisExpression","start":1746,"end":1750,"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":7}}},"property":{"type":"Identifier","start":1751,"end":1759,"loc":{"start":{"line":59,"column":8},"end":{"line":59,"column":16},"identifierName":"halfsize"},"name":"halfsize"},"computed":false},"property":{"type":"Identifier","start":1760,"end":1761,"loc":{"start":{"line":59,"column":17},"end":{"line":59,"column":18},"identifierName":"i"},"name":"i"},"computed":true},"right":{"type":"BinaryExpression","start":1765,"end":1784,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":41}},"left":{"type":"MemberExpression","start":1765,"end":1782,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":39}},"object":{"type":"MemberExpression","start":1765,"end":1779,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":36}},"object":{"type":"MemberExpression","start":1765,"end":1771,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":28}},"object":{"type":"ThisExpression","start":1765,"end":1769,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":26}}},"property":{"type":"Identifier","start":1770,"end":1771,"loc":{"start":{"line":59,"column":27},"end":{"line":59,"column":28},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":1772,"end":1779,"loc":{"start":{"line":59,"column":29},"end":{"line":59,"column":36},"identifierName":"extents"},"name":"extents"},"computed":false},"property":{"type":"Identifier","start":1780,"end":1781,"loc":{"start":{"line":59,"column":37},"end":{"line":59,"column":38},"identifierName":"i"},"name":"i"},"computed":true},"operator":"/","right":{"type":"NumericLiteral","start":1783,"end":1784,"loc":{"start":{"line":59,"column":40},"end":{"line":59,"column":41}},"extra":{"rawValue":2,"raw":"2"},"value":2}}}}],"directives":[]}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* The set model method of class CentroidsWithTorusCorrection.\n\t@param {GridBasedModel} M - the model to compute centroids on. ","start":743,"end":873,"loc":{"start":{"line":30,"column":1},"end":{"line":31,"column":66}}}],"trailingComments":[{"type":"CommentBlock","value":"* @ignore ","start":1793,"end":1807,"loc":{"start":{"line":62,"column":1},"end":{"line":62,"column":15}}}]},{"type":"ClassMethod","start":1809,"end":1846,"loc":{"start":{"line":63,"column":1},"end":{"line":65,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":1809,"end":1820,"loc":{"start":{"line":63,"column":1},"end":{"line":63,"column":12},"identifierName":"constructor"},"name":"constructor","leadingComments":null},"kind":"constructor","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":1822,"end":1826,"loc":{"start":{"line":63,"column":14},"end":{"line":63,"column":18},"identifierName":"conf"},"name":"conf"}],"body":{"type":"BlockStatement","start":1828,"end":1846,"loc":{"start":{"line":63,"column":20},"end":{"line":65,"column":2}},"body":[{"type":"ExpressionStatement","start":1832,"end":1843,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":13}},"expression":{"type":"CallExpression","start":1832,"end":1843,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":13}},"callee":{"type":"Super","start":1832,"end":1837,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":7}}},"arguments":[{"type":"Identifier","start":1838,"end":1842,"loc":{"start":{"line":64,"column":8},"end":{"line":64,"column":12},"identifierName":"conf"},"name":"conf"}]}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* @ignore ","start":1793,"end":1807,"loc":{"start":{"line":62,"column":1},"end":{"line":62,"column":15}}}],"trailingComments":[{"type":"CommentBlock","value":"* This method computes the centroid of a specific cell. \n\t\t@param {CellId} cellid the unique cell id of the cell to get centroid of.\n\t\t@param {CellArrayObject} cellpixels object produced by {@link PixelsByCell}, \n\t\twith keys for each cellid\n\t\tand as corresponding value the pixel coordinates of their pixels.\n\t\t@returns {ArrayCoordinate} coordinate of the centroid.\n\t","start":1848,"end":2219,"loc":{"start":{"line":66,"column":1},"end":{"line":72,"column":3}}}]},{"type":"ClassMethod","start":2221,"end":3353,"loc":{"start":{"line":73,"column":1},"end":{"line":103,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":2221,"end":2242,"loc":{"start":{"line":73,"column":1},"end":{"line":73,"column":22},"identifierName":"computeCentroidOfCell"},"name":"computeCentroidOfCell","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":2244,"end":2250,"loc":{"start":{"line":73,"column":24},"end":{"line":73,"column":30},"identifierName":"cellid"},"name":"cellid"},{"type":"Identifier","start":2252,"end":2262,"loc":{"start":{"line":73,"column":32},"end":{"line":73,"column":42},"identifierName":"cellpixels"},"name":"cellpixels"}],"body":{"type":"BlockStatement","start":2265,"end":3353,"loc":{"start":{"line":73,"column":45},"end":{"line":103,"column":2}},"body":[{"type":"VariableDeclaration","start":2326,"end":2361,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":37}},"declarations":[{"type":"VariableDeclarator","start":2332,"end":2361,"loc":{"start":{"line":77,"column":8},"end":{"line":77,"column":37}},"id":{"type":"Identifier","start":2332,"end":2338,"loc":{"start":{"line":77,"column":8},"end":{"line":77,"column":14},"identifierName":"pixels"},"name":"pixels","leadingComments":null},"init":{"type":"MemberExpression","start":2341,"end":2361,"loc":{"start":{"line":77,"column":17},"end":{"line":77,"column":37}},"object":{"type":"Identifier","start":2341,"end":2351,"loc":{"start":{"line":77,"column":17},"end":{"line":77,"column":27},"identifierName":"cellpixels"},"name":"cellpixels"},"property":{"type":"Identifier","start":2353,"end":2359,"loc":{"start":{"line":77,"column":29},"end":{"line":77,"column":35},"identifierName":"cellid"},"name":"cellid"},"computed":true,"trailingComments":null},"leadingComments":null,"trailingComments":null}],"kind":"const","leadingComments":[{"type":"CommentLine","value":"let cellpixels = this.M.getStat( PixelsByCell ) ","start":2271,"end":2321,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":52}}}],"trailingComments":[{"type":"CommentLine","value":" cvec will contain the x, y, (z) coordinate of the centroid.","start":2367,"end":2429,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":64}}},{"type":"CommentLine","value":" Loop over the dimensions to compute each element separately.","start":2432,"end":2495,"loc":{"start":{"line":80,"column":2},"end":{"line":80,"column":65}}}]},{"type":"VariableDeclaration","start":2498,"end":2539,"loc":{"start":{"line":81,"column":2},"end":{"line":81,"column":43}},"declarations":[{"type":"VariableDeclarator","start":2502,"end":2539,"loc":{"start":{"line":81,"column":6},"end":{"line":81,"column":43}},"id":{"type":"Identifier","start":2502,"end":2506,"loc":{"start":{"line":81,"column":6},"end":{"line":81,"column":10},"identifierName":"cvec"},"name":"cvec","leadingComments":null},"init":{"type":"CallExpression","start":2509,"end":2539,"loc":{"start":{"line":81,"column":13},"end":{"line":81,"column":43}},"callee":{"type":"MemberExpression","start":2509,"end":2536,"loc":{"start":{"line":81,"column":13},"end":{"line":81,"column":40}},"object":{"type":"NewExpression","start":2509,"end":2531,"loc":{"start":{"line":81,"column":13},"end":{"line":81,"column":35}},"callee":{"type":"Identifier","start":2513,"end":2518,"loc":{"start":{"line":81,"column":17},"end":{"line":81,"column":22},"identifierName":"Array"},"name":"Array"},"arguments":[{"type":"MemberExpression","start":2519,"end":2530,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":34}},"object":{"type":"MemberExpression","start":2519,"end":2525,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":29}},"object":{"type":"ThisExpression","start":2519,"end":2523,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":27}}},"property":{"type":"Identifier","start":2524,"end":2525,"loc":{"start":{"line":81,"column":28},"end":{"line":81,"column":29},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":2526,"end":2530,"loc":{"start":{"line":81,"column":30},"end":{"line":81,"column":34},"identifierName":"ndim"},"name":"ndim"},"computed":false}]},"property":{"type":"Identifier","start":2532,"end":2536,"loc":{"start":{"line":81,"column":36},"end":{"line":81,"column":40},"identifierName":"fill"},"name":"fill"},"computed":false},"arguments":[{"type":"NumericLiteral","start":2537,"end":2538,"loc":{"start":{"line":81,"column":41},"end":{"line":81,"column":42}},"extra":{"rawValue":0,"raw":"0"},"value":0}]},"leadingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" cvec will contain the x, y, (z) coordinate of the centroid.","start":2367,"end":2429,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":64}}},{"type":"CommentLine","value":" Loop over the dimensions to compute each element separately.","start":2432,"end":2495,"loc":{"start":{"line":80,"column":2},"end":{"line":80,"column":65}}}]},{"type":"ForStatement","start":2542,"end":3333,"loc":{"start":{"line":82,"column":2},"end":{"line":100,"column":3}},"init":{"type":"VariableDeclaration","start":2547,"end":2558,"loc":{"start":{"line":82,"column":7},"end":{"line":82,"column":18}},"declarations":[{"type":"VariableDeclarator","start":2551,"end":2558,"loc":{"start":{"line":82,"column":11},"end":{"line":82,"column":18}},"id":{"type":"Identifier","start":2551,"end":2554,"loc":{"start":{"line":82,"column":11},"end":{"line":82,"column":14},"identifierName":"dim"},"name":"dim"},"init":{"type":"NumericLiteral","start":2557,"end":2558,"loc":{"start":{"line":82,"column":17},"end":{"line":82,"column":18}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"kind":"let"},"test":{"type":"BinaryExpression","start":2561,"end":2578,"loc":{"start":{"line":82,"column":21},"end":{"line":82,"column":38}},"left":{"type":"Identifier","start":2561,"end":2564,"loc":{"start":{"line":82,"column":21},"end":{"line":82,"column":24},"identifierName":"dim"},"name":"dim"},"operator":"<","right":{"type":"MemberExpression","start":2567,"end":2578,"loc":{"start":{"line":82,"column":27},"end":{"line":82,"column":38}},"object":{"type":"MemberExpression","start":2567,"end":2573,"loc":{"start":{"line":82,"column":27},"end":{"line":82,"column":33}},"object":{"type":"ThisExpression","start":2567,"end":2571,"loc":{"start":{"line":82,"column":27},"end":{"line":82,"column":31}}},"property":{"type":"Identifier","start":2572,"end":2573,"loc":{"start":{"line":82,"column":32},"end":{"line":82,"column":33},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":2574,"end":2578,"loc":{"start":{"line":82,"column":34},"end":{"line":82,"column":38},"identifierName":"ndim"},"name":"ndim"},"computed":false}},"update":{"type":"UpdateExpression","start":2581,"end":2587,"loc":{"start":{"line":82,"column":41},"end":{"line":82,"column":47}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":2581,"end":2584,"loc":{"start":{"line":82,"column":41},"end":{"line":82,"column":44},"identifierName":"dim"},"name":"dim"}},"body":{"type":"BlockStatement","start":2589,"end":3333,"loc":{"start":{"line":82,"column":49},"end":{"line":100,"column":3}},"body":[{"type":"VariableDeclaration","start":2598,"end":2609,"loc":{"start":{"line":84,"column":3},"end":{"line":84,"column":14}},"declarations":[{"type":"VariableDeclarator","start":2602,"end":2609,"loc":{"start":{"line":84,"column":7},"end":{"line":84,"column":14}},"id":{"type":"Identifier","start":2602,"end":2604,"loc":{"start":{"line":84,"column":7},"end":{"line":84,"column":9},"identifierName":"mi"},"name":"mi"},"init":{"type":"NumericLiteral","start":2607,"end":2609,"loc":{"start":{"line":84,"column":12},"end":{"line":84,"column":14}},"extra":{"rawValue":0,"raw":"0."},"value":0,"leadingComments":null,"trailingComments":null},"trailingComments":null}],"kind":"let","trailingComments":[{"type":"CommentLine","value":" Loop over the pixels;","start":2613,"end":2637,"loc":{"start":{"line":85,"column":3},"end":{"line":85,"column":27}}},{"type":"CommentLine","value":" compute mean position per dimension with online algorithm","start":2641,"end":2701,"loc":{"start":{"line":86,"column":3},"end":{"line":86,"column":63}}}]},{"type":"ForStatement","start":2705,"end":3260,"loc":{"start":{"line":87,"column":3},"end":{"line":97,"column":4}},"init":{"type":"VariableDeclaration","start":2710,"end":2719,"loc":{"start":{"line":87,"column":8},"end":{"line":87,"column":17}},"declarations":[{"type":"VariableDeclarator","start":2714,"end":2719,"loc":{"start":{"line":87,"column":12},"end":{"line":87,"column":17}},"id":{"type":"Identifier","start":2714,"end":2715,"loc":{"start":{"line":87,"column":12},"end":{"line":87,"column":13},"identifierName":"j"},"name":"j","leadingComments":null},"init":{"type":"NumericLiteral","start":2718,"end":2719,"loc":{"start":{"line":87,"column":16},"end":{"line":87,"column":17}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null}],"kind":"let","leadingComments":null},"test":{"type":"BinaryExpression","start":2722,"end":2739,"loc":{"start":{"line":87,"column":20},"end":{"line":87,"column":37}},"left":{"type":"Identifier","start":2722,"end":2723,"loc":{"start":{"line":87,"column":20},"end":{"line":87,"column":21},"identifierName":"j"},"name":"j"},"operator":"<","right":{"type":"MemberExpression","start":2726,"end":2739,"loc":{"start":{"line":87,"column":24},"end":{"line":87,"column":37}},"object":{"type":"Identifier","start":2726,"end":2732,"loc":{"start":{"line":87,"column":24},"end":{"line":87,"column":30},"identifierName":"pixels"},"name":"pixels"},"property":{"type":"Identifier","start":2733,"end":2739,"loc":{"start":{"line":87,"column":31},"end":{"line":87,"column":37},"identifierName":"length"},"name":"length"},"computed":false}},"update":{"type":"UpdateExpression","start":2742,"end":2746,"loc":{"start":{"line":87,"column":40},"end":{"line":87,"column":44}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":2742,"end":2743,"loc":{"start":{"line":87,"column":40},"end":{"line":87,"column":41},"identifierName":"j"},"name":"j"}},"body":{"type":"BlockStatement","start":2748,"end":3260,"loc":{"start":{"line":87,"column":46},"end":{"line":97,"column":4}},"body":[{"type":"VariableDeclaration","start":3155,"end":3183,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":32}},"declarations":[{"type":"VariableDeclarator","start":3159,"end":3183,"loc":{"start":{"line":94,"column":8},"end":{"line":94,"column":32}},"id":{"type":"Identifier","start":3159,"end":3161,"loc":{"start":{"line":94,"column":8},"end":{"line":94,"column":10},"identifierName":"dx"},"name":"dx","leadingComments":null},"init":{"type":"BinaryExpression","start":3164,"end":3183,"loc":{"start":{"line":94,"column":13},"end":{"line":94,"column":32}},"left":{"type":"MemberExpression","start":3164,"end":3178,"loc":{"start":{"line":94,"column":13},"end":{"line":94,"column":27}},"object":{"type":"MemberExpression","start":3164,"end":3173,"loc":{"start":{"line":94,"column":13},"end":{"line":94,"column":22}},"object":{"type":"Identifier","start":3164,"end":3170,"loc":{"start":{"line":94,"column":13},"end":{"line":94,"column":19},"identifierName":"pixels"},"name":"pixels"},"property":{"type":"Identifier","start":3171,"end":3172,"loc":{"start":{"line":94,"column":20},"end":{"line":94,"column":21},"identifierName":"j"},"name":"j"},"computed":true},"property":{"type":"Identifier","start":3174,"end":3177,"loc":{"start":{"line":94,"column":23},"end":{"line":94,"column":26},"identifierName":"dim"},"name":"dim"},"computed":true},"operator":"-","right":{"type":"Identifier","start":3181,"end":3183,"loc":{"start":{"line":94,"column":30},"end":{"line":94,"column":32},"identifierName":"mi"},"name":"mi","leadingComments":null,"trailingComments":null},"trailingComments":null},"leadingComments":null,"trailingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" Check distance of current pixel to the accumulated mean in this dim.","start":2754,"end":2825,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":75}}},{"type":"CommentLine","value":" Check if this distance is greater than half the grid size in this","start":2830,"end":2898,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":72}}},{"type":"CommentLine","value":" dimension; if so, this indicates that the cell has moved to the","start":2903,"end":2969,"loc":{"start":{"line":90,"column":4},"end":{"line":90,"column":70}}},{"type":"CommentLine","value":" other end of the grid because of the torus. Note that this only","start":2974,"end":3040,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":70}}},{"type":"CommentLine","value":" holds AFTER the first pixel (so for j > 0), when we actually have","start":3045,"end":3113,"loc":{"start":{"line":92,"column":4},"end":{"line":92,"column":72}}},{"type":"CommentLine","value":" an idea of where the cell is.","start":3118,"end":3150,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":36}}}],"trailingComments":[{"type":"CommentLine","value":" Update the mean with the appropriate weight. ","start":3188,"end":3236,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":52}}}]},{"type":"ExpressionStatement","start":3241,"end":3255,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":18}},"expression":{"type":"AssignmentExpression","start":3241,"end":3255,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":18}},"operator":"+=","left":{"type":"Identifier","start":3241,"end":3243,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":6},"identifierName":"mi"},"name":"mi","leadingComments":null},"right":{"type":"BinaryExpression","start":3247,"end":3255,"loc":{"start":{"line":96,"column":10},"end":{"line":96,"column":18}},"left":{"type":"Identifier","start":3247,"end":3249,"loc":{"start":{"line":96,"column":10},"end":{"line":96,"column":12},"identifierName":"dx"},"name":"dx"},"operator":"/","right":{"type":"BinaryExpression","start":3251,"end":3254,"loc":{"start":{"line":96,"column":14},"end":{"line":96,"column":17}},"left":{"type":"Identifier","start":3251,"end":3252,"loc":{"start":{"line":96,"column":14},"end":{"line":96,"column":15},"identifierName":"j"},"name":"j"},"operator":"+","right":{"type":"NumericLiteral","start":3253,"end":3254,"loc":{"start":{"line":96,"column":16},"end":{"line":96,"column":17}},"extra":{"rawValue":1,"raw":"1"},"value":1},"extra":{"parenthesized":true,"parenStart":3250}}},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" Update the mean with the appropriate weight. ","start":3188,"end":3236,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":52}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentLine","value":" Loop over the pixels;","start":2613,"end":2637,"loc":{"start":{"line":85,"column":3},"end":{"line":85,"column":27}}},{"type":"CommentLine","value":" compute mean position per dimension with online algorithm","start":2641,"end":2701,"loc":{"start":{"line":86,"column":3},"end":{"line":86,"column":63}}}],"trailingComments":[{"type":"CommentLine","value":" Set the mean position in the cvec vector.","start":3267,"end":3311,"loc":{"start":{"line":98,"column":3},"end":{"line":98,"column":47}}}]},{"type":"ExpressionStatement","start":3315,"end":3329,"loc":{"start":{"line":99,"column":3},"end":{"line":99,"column":17}},"expression":{"type":"AssignmentExpression","start":3315,"end":3329,"loc":{"start":{"line":99,"column":3},"end":{"line":99,"column":17}},"operator":"=","left":{"type":"MemberExpression","start":3315,"end":3324,"loc":{"start":{"line":99,"column":3},"end":{"line":99,"column":12}},"object":{"type":"Identifier","start":3315,"end":3319,"loc":{"start":{"line":99,"column":3},"end":{"line":99,"column":7},"identifierName":"cvec"},"name":"cvec","leadingComments":null},"property":{"type":"Identifier","start":3320,"end":3323,"loc":{"start":{"line":99,"column":8},"end":{"line":99,"column":11},"identifierName":"dim"},"name":"dim"},"computed":true,"leadingComments":null},"right":{"type":"Identifier","start":3327,"end":3329,"loc":{"start":{"line":99,"column":15},"end":{"line":99,"column":17},"identifierName":"mi"},"name":"mi"},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" Set the mean position in the cvec vector.","start":3267,"end":3311,"loc":{"start":{"line":98,"column":3},"end":{"line":98,"column":47}}}]}],"directives":[]}},{"type":"ReturnStatement","start":3336,"end":3347,"loc":{"start":{"line":101,"column":2},"end":{"line":101,"column":13}},"argument":{"type":"Identifier","start":3343,"end":3347,"loc":{"start":{"line":101,"column":9},"end":{"line":101,"column":13},"identifierName":"cvec"},"name":"cvec"}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* This method computes the centroid of a specific cell. \n\t\t@param {CellId} cellid the unique cell id of the cell to get centroid of.\n\t\t@param {CellArrayObject} cellpixels object produced by {@link PixelsByCell}, \n\t\twith keys for each cellid\n\t\tand as corresponding value the pixel coordinates of their pixels.\n\t\t@returns {ArrayCoordinate} coordinate of the centroid.\n\t","start":1848,"end":2219,"loc":{"start":{"line":66,"column":1},"end":{"line":72,"column":3}}}],"trailingComments":[{"type":"CommentBlock","value":"* Compute centroids for all cells on the grid. \n\t@return {CellObject} with an {@link ArrayCoordinate} of the centroid for each cell\n\t on the grid (see {@link computeCentroidOfCell}). ","start":3358,"end":3545,"loc":{"start":{"line":105,"column":1},"end":{"line":107,"column":53}}}]},{"type":"ClassMethod","start":3547,"end":3951,"loc":{"start":{"line":108,"column":1},"end":{"line":119,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":3547,"end":3554,"loc":{"start":{"line":108,"column":1},"end":{"line":108,"column":8},"identifierName":"compute"},"name":"compute","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3556,"end":3951,"loc":{"start":{"line":108,"column":10},"end":{"line":119,"column":2}},"body":[{"type":"VariableDeclaration","start":3670,"end":3717,"loc":{"start":{"line":111,"column":2},"end":{"line":111,"column":49}},"declarations":[{"type":"VariableDeclarator","start":3674,"end":3717,"loc":{"start":{"line":111,"column":6},"end":{"line":111,"column":49}},"id":{"type":"Identifier","start":3674,"end":3684,"loc":{"start":{"line":111,"column":6},"end":{"line":111,"column":16},"identifierName":"cellpixels"},"name":"cellpixels","leadingComments":null},"init":{"type":"CallExpression","start":3687,"end":3717,"loc":{"start":{"line":111,"column":19},"end":{"line":111,"column":49}},"callee":{"type":"MemberExpression","start":3687,"end":3701,"loc":{"start":{"line":111,"column":19},"end":{"line":111,"column":33}},"object":{"type":"MemberExpression","start":3687,"end":3693,"loc":{"start":{"line":111,"column":19},"end":{"line":111,"column":25}},"object":{"type":"ThisExpression","start":3687,"end":3691,"loc":{"start":{"line":111,"column":19},"end":{"line":111,"column":23}}},"property":{"type":"Identifier","start":3692,"end":3693,"loc":{"start":{"line":111,"column":24},"end":{"line":111,"column":25},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":3694,"end":3701,"loc":{"start":{"line":111,"column":26},"end":{"line":111,"column":33},"identifierName":"getStat"},"name":"getStat"},"computed":false},"arguments":[{"type":"Identifier","start":3703,"end":3715,"loc":{"start":{"line":111,"column":35},"end":{"line":111,"column":47},"identifierName":"PixelsByCell"},"name":"PixelsByCell"}],"trailingComments":null},"leadingComments":null,"trailingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" Get object with arrays of pixels for each cell on the grid, and get","start":3560,"end":3630,"loc":{"start":{"line":109,"column":2},"end":{"line":109,"column":72}}},{"type":"CommentLine","value":" the array for the current cell.","start":3633,"end":3667,"loc":{"start":{"line":110,"column":2},"end":{"line":110,"column":36}}}],"trailingComments":[{"type":"CommentLine","value":" Create an object for the centroids. Add the centroid array for each cell.","start":3724,"end":3800,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":78}}}]},{"type":"VariableDeclaration","start":3803,"end":3821,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":20}},"declarations":[{"type":"VariableDeclarator","start":3807,"end":3821,"loc":{"start":{"line":114,"column":6},"end":{"line":114,"column":20}},"id":{"type":"Identifier","start":3807,"end":3816,"loc":{"start":{"line":114,"column":6},"end":{"line":114,"column":15},"identifierName":"centroids"},"name":"centroids","leadingComments":null},"init":{"type":"ObjectExpression","start":3819,"end":3821,"loc":{"start":{"line":114,"column":18},"end":{"line":114,"column":20}},"properties":[]},"leadingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" Create an object for the centroids. Add the centroid array for each cell.","start":3724,"end":3800,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":78}}}]},{"type":"ForOfStatement","start":3824,"end":3929,"loc":{"start":{"line":115,"column":2},"end":{"line":117,"column":3}},"left":{"type":"VariableDeclaration","start":3829,"end":3836,"loc":{"start":{"line":115,"column":7},"end":{"line":115,"column":14}},"declarations":[{"type":"VariableDeclarator","start":3833,"end":3836,"loc":{"start":{"line":115,"column":11},"end":{"line":115,"column":14}},"id":{"type":"Identifier","start":3833,"end":3836,"loc":{"start":{"line":115,"column":11},"end":{"line":115,"column":14},"identifierName":"cid"},"name":"cid"},"init":null}],"kind":"let"},"right":{"type":"CallExpression","start":3840,"end":3856,"loc":{"start":{"line":115,"column":18},"end":{"line":115,"column":34}},"callee":{"type":"MemberExpression","start":3840,"end":3854,"loc":{"start":{"line":115,"column":18},"end":{"line":115,"column":32}},"object":{"type":"MemberExpression","start":3840,"end":3846,"loc":{"start":{"line":115,"column":18},"end":{"line":115,"column":24}},"object":{"type":"ThisExpression","start":3840,"end":3844,"loc":{"start":{"line":115,"column":18},"end":{"line":115,"column":22}}},"property":{"type":"Identifier","start":3845,"end":3846,"loc":{"start":{"line":115,"column":23},"end":{"line":115,"column":24},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":3847,"end":3854,"loc":{"start":{"line":115,"column":25},"end":{"line":115,"column":32},"identifierName":"cellIDs"},"name":"cellIDs"},"computed":false},"arguments":[]},"body":{"type":"BlockStatement","start":3858,"end":3929,"loc":{"start":{"line":115,"column":36},"end":{"line":117,"column":3}},"body":[{"type":"ExpressionStatement","start":3863,"end":3925,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":65}},"expression":{"type":"AssignmentExpression","start":3863,"end":3925,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":65}},"operator":"=","left":{"type":"MemberExpression","start":3863,"end":3877,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":17}},"object":{"type":"Identifier","start":3863,"end":3872,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":12},"identifierName":"centroids"},"name":"centroids"},"property":{"type":"Identifier","start":3873,"end":3876,"loc":{"start":{"line":116,"column":13},"end":{"line":116,"column":16},"identifierName":"cid"},"name":"cid"},"computed":true},"right":{"type":"CallExpression","start":3880,"end":3925,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":65}},"callee":{"type":"MemberExpression","start":3880,"end":3906,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":46}},"object":{"type":"ThisExpression","start":3880,"end":3884,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":24}}},"property":{"type":"Identifier","start":3885,"end":3906,"loc":{"start":{"line":116,"column":25},"end":{"line":116,"column":46},"identifierName":"computeCentroidOfCell"},"name":"computeCentroidOfCell"},"computed":false},"arguments":[{"type":"Identifier","start":3908,"end":3911,"loc":{"start":{"line":116,"column":48},"end":{"line":116,"column":51},"identifierName":"cid"},"name":"cid"},{"type":"Identifier","start":3913,"end":3923,"loc":{"start":{"line":116,"column":53},"end":{"line":116,"column":63},"identifierName":"cellpixels"},"name":"cellpixels"}]}}}],"directives":[]}},{"type":"ReturnStatement","start":3932,"end":3948,"loc":{"start":{"line":118,"column":2},"end":{"line":118,"column":18}},"argument":{"type":"Identifier","start":3939,"end":3948,"loc":{"start":{"line":118,"column":9},"end":{"line":118,"column":18},"identifierName":"centroids"},"name":"centroids"}}],"directives":[]},"leadingComments":[{"type":"CommentBlock","value":"* Compute centroids for all cells on the grid. \n\t@return {CellObject} with an {@link ArrayCoordinate} of the centroid for each cell\n\t on the grid (see {@link computeCentroidOfCell}). ","start":3358,"end":3545,"loc":{"start":{"line":105,"column":1},"end":{"line":107,"column":53}}}]}]},"leadingComments":[],"name":"_","trailingComments":[]},{"type":"Identifier","start":3955,"end":3979,"loc":{"start":{"line":122,"column":0},"end":{"line":122,"column":24}},"declaration":{"type":"Identifier","start":3970,"end":3979,"loc":{"start":{"line":122,"column":15},"end":{"line":122,"column":24},"identifierName":"Centroids"},"name":"Centroids"},"name":"_","leadingComments":[],"trailingComments":[]},{"type":"ExportDefaultDeclaration","start":3955,"end":3979,"loc":{"start":{"line":122,"column":0},"end":{"line":122,"column":24}},"declaration":{"type":"ClassDeclaration","start":710,"end":3953,"loc":{"start":{"line":28,"column":0},"end":{"line":120,"column":1}},"id":{"type":"Identifier","start":716,"end":725,"loc":{"start":{"line":28,"column":6},"end":{"line":28,"column":15},"identifierName":"Centroids"},"name":"Centroids","leadingComments":null},"superClass":{"type":"Identifier","start":734,"end":738,"loc":{"start":{"line":28,"column":24},"end":{"line":28,"column":28},"identifierName":"Stat"},"name":"Stat"},"body":{"type":"ClassBody","start":739,"end":3953,"loc":{"start":{"line":28,"column":29},"end":{"line":120,"column":1}},"body":[{"type":"ClassMethod","start":875,"end":1791,"loc":{"start":{"line":32,"column":1},"end":{"line":61,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":879,"end":884,"loc":{"start":{"line":32,"column":5},"end":{"line":32,"column":10},"identifierName":"model"},"name":"model"},"kind":"set","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":886,"end":887,"loc":{"start":{"line":32,"column":12},"end":{"line":32,"column":13},"identifierName":"M"},"name":"M"}],"body":{"type":"BlockStatement","start":889,"end":1791,"loc":{"start":{"line":32,"column":15},"end":{"line":61,"column":2}},"body":[{"type":"ExpressionStatement","start":964,"end":974,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":12}},"expression":{"type":"AssignmentExpression","start":964,"end":974,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":12}},"operator":"=","left":{"type":"MemberExpression","start":964,"end":970,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":8}},"object":{"type":"ThisExpression","start":964,"end":968,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":6}},"leadingComments":null},"property":{"type":"Identifier","start":969,"end":970,"loc":{"start":{"line":36,"column":7},"end":{"line":36,"column":8},"identifierName":"M"},"name":"M"},"computed":false,"leadingComments":null},"right":{"type":"Identifier","start":973,"end":974,"loc":{"start":{"line":36,"column":11},"end":{"line":36,"column":12},"identifierName":"M"},"name":"M","leadingComments":null,"trailingComments":null},"leadingComments":null,"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* The model to compute centroids on. \n\t\t@type {GridBasedModel}","start":895,"end":961,"loc":{"start":{"line":34,"column":2},"end":{"line":35,"column":26}}}],"trailingComments":[{"type":"CommentBlock","value":" Check if the grid has a torus; if so, warn that this method may not be\n\t\tappropriate. ","start":980,"end":1071,"loc":{"start":{"line":38,"column":2},"end":{"line":39,"column":17}}}]},{"type":"VariableDeclaration","start":1074,"end":1091,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":19}},"declarations":[{"type":"VariableDeclarator","start":1078,"end":1091,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":19}},"id":{"type":"Identifier","start":1078,"end":1083,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":11},"identifierName":"torus"},"name":"torus","leadingComments":null},"init":{"type":"BooleanLiteral","start":1086,"end":1091,"loc":{"start":{"line":40,"column":14},"end":{"line":40,"column":19}},"value":false},"leadingComments":null}],"kind":"let","leadingComments":[{"type":"CommentBlock","value":" Check if the grid has a torus; if so, warn that this method may not be\n\t\tappropriate. ","start":980,"end":1071,"loc":{"start":{"line":38,"column":2},"end":{"line":39,"column":17}}}]},{"type":"ForStatement","start":1094,"end":1200,"loc":{"start":{"line":41,"column":2},"end":{"line":46,"column":3}},"init":{"type":"VariableDeclaration","start":1099,"end":1108,"loc":{"start":{"line":41,"column":7},"end":{"line":41,"column":16}},"declarations":[{"type":"VariableDeclarator","start":1103,"end":1108,"loc":{"start":{"line":41,"column":11},"end":{"line":41,"column":16}},"id":{"type":"Identifier","start":1103,"end":1104,"loc":{"start":{"line":41,"column":11},"end":{"line":41,"column":12},"identifierName":"d"},"name":"d"},"init":{"type":"NumericLiteral","start":1107,"end":1108,"loc":{"start":{"line":41,"column":15},"end":{"line":41,"column":16}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"kind":"let"},"test":{"type":"BinaryExpression","start":1110,"end":1125,"loc":{"start":{"line":41,"column":18},"end":{"line":41,"column":33}},"left":{"type":"Identifier","start":1110,"end":1111,"loc":{"start":{"line":41,"column":18},"end":{"line":41,"column":19},"identifierName":"d"},"name":"d"},"operator":"<","right":{"type":"MemberExpression","start":1114,"end":1125,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":33}},"object":{"type":"MemberExpression","start":1114,"end":1120,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":28}},"object":{"type":"ThisExpression","start":1114,"end":1118,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":26}}},"property":{"type":"Identifier","start":1119,"end":1120,"loc":{"start":{"line":41,"column":27},"end":{"line":41,"column":28},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":1121,"end":1125,"loc":{"start":{"line":41,"column":29},"end":{"line":41,"column":33},"identifierName":"ndim"},"name":"ndim"},"computed":false}},"update":{"type":"UpdateExpression","start":1127,"end":1130,"loc":{"start":{"line":41,"column":35},"end":{"line":41,"column":38}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":1127,"end":1128,"loc":{"start":{"line":41,"column":35},"end":{"line":41,"column":36},"identifierName":"d"},"name":"d"}},"body":{"type":"BlockStatement","start":1132,"end":1200,"loc":{"start":{"line":41,"column":40},"end":{"line":46,"column":3}},"body":[{"type":"IfStatement","start":1137,"end":1196,"loc":{"start":{"line":42,"column":3},"end":{"line":45,"column":4}},"test":{"type":"MemberExpression","start":1141,"end":1161,"loc":{"start":{"line":42,"column":7},"end":{"line":42,"column":27}},"object":{"type":"MemberExpression","start":1141,"end":1158,"loc":{"start":{"line":42,"column":7},"end":{"line":42,"column":24}},"object":{"type":"MemberExpression","start":1141,"end":1152,"loc":{"start":{"line":42,"column":7},"end":{"line":42,"column":18}},"object":{"type":"MemberExpression","start":1141,"end":1147,"loc":{"start":{"line":42,"column":7},"end":{"line":42,"column":13}},"object":{"type":"ThisExpression","start":1141,"end":1145,"loc":{"start":{"line":42,"column":7},"end":{"line":42,"column":11}}},"property":{"type":"Identifier","start":1146,"end":1147,"loc":{"start":{"line":42,"column":12},"end":{"line":42,"column":13},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":1148,"end":1152,"loc":{"start":{"line":42,"column":14},"end":{"line":42,"column":18},"identifierName":"grid"},"name":"grid"},"computed":false},"property":{"type":"Identifier","start":1153,"end":1158,"loc":{"start":{"line":42,"column":19},"end":{"line":42,"column":24},"identifierName":"torus"},"name":"torus"},"computed":false},"property":{"type":"Identifier","start":1159,"end":1160,"loc":{"start":{"line":42,"column":25},"end":{"line":42,"column":26},"identifierName":"d"},"name":"d"},"computed":true},"consequent":{"type":"BlockStatement","start":1163,"end":1196,"loc":{"start":{"line":42,"column":29},"end":{"line":45,"column":4}},"body":[{"type":"ExpressionStatement","start":1169,"end":1181,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":16}},"expression":{"type":"AssignmentExpression","start":1169,"end":1181,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":16}},"operator":"=","left":{"type":"Identifier","start":1169,"end":1174,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":9},"identifierName":"torus"},"name":"torus"},"right":{"type":"BooleanLiteral","start":1177,"end":1181,"loc":{"start":{"line":43,"column":12},"end":{"line":43,"column":16}},"value":true}}},{"type":"BreakStatement","start":1186,"end":1191,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":9}},"label":null}],"directives":[]},"alternate":null}],"directives":[]}},{"type":"IfStatement","start":1206,"end":1422,"loc":{"start":{"line":48,"column":2},"end":{"line":51,"column":3}},"test":{"type":"Identifier","start":1209,"end":1214,"loc":{"start":{"line":48,"column":5},"end":{"line":48,"column":10},"identifierName":"torus"},"name":"torus"},"consequent":{"type":"BlockStatement","start":1215,"end":1422,"loc":{"start":{"line":48,"column":11},"end":{"line":51,"column":3}},"body":[{"type":"ExpressionStatement","start":1262,"end":1418,"loc":{"start":{"line":50,"column":3},"end":{"line":50,"column":159}},"expression":{"type":"CallExpression","start":1262,"end":1418,"loc":{"start":{"line":50,"column":3},"end":{"line":50,"column":159}},"callee":{"type":"MemberExpression","start":1262,"end":1274,"loc":{"start":{"line":50,"column":3},"end":{"line":50,"column":15}},"object":{"type":"Identifier","start":1262,"end":1269,"loc":{"start":{"line":50,"column":3},"end":{"line":50,"column":10},"identifierName":"console"},"name":"console","leadingComments":null},"property":{"type":"Identifier","start":1270,"end":1274,"loc":{"start":{"line":50,"column":11},"end":{"line":50,"column":15},"identifierName":"warn"},"name":"warn"},"computed":false,"leadingComments":null},"arguments":[{"type":"StringLiteral","start":1276,"end":1416,"loc":{"start":{"line":50,"column":17},"end":{"line":50,"column":157}},"extra":{"rawValue":"Your model grid has a torus, and the 'Centroids' stat is not compatible with torus! Consider using 'CentroidsWithTorusCorrection' instead.","raw":"\"Your model grid has a torus, and the 'Centroids' stat is not compatible with torus! Consider using 'CentroidsWithTorusCorrection' instead.\""},"value":"Your model grid has a torus, and the 'Centroids' stat is not compatible with torus! Consider using 'CentroidsWithTorusCorrection' instead."}],"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" eslint-disable-next-line no-console","start":1220,"end":1258,"loc":{"start":{"line":49,"column":3},"end":{"line":49,"column":41}}}]}],"directives":[],"trailingComments":null},"alternate":null,"trailingComments":[{"type":"CommentLine","value":" Half the grid dimensions; if pixels with the same cellid are further apart,","start":1428,"end":1506,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":80}}},{"type":"CommentLine","value":" we assume they are on the border of the grid and that we need to correct","start":1509,"end":1584,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":77}}},{"type":"CommentLine","value":" their positions to compute the centroid.","start":1587,"end":1630,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":45}}},{"type":"CommentBlock","value":"* @ignore ","start":1633,"end":1647,"loc":{"start":{"line":56,"column":2},"end":{"line":56,"column":16}}}]},{"type":"ExpressionStatement","start":1650,"end":1697,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":49}},"expression":{"type":"AssignmentExpression","start":1650,"end":1697,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":49}},"operator":"=","left":{"type":"MemberExpression","start":1650,"end":1663,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":15}},"object":{"type":"ThisExpression","start":1650,"end":1654,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":6}},"leadingComments":null},"property":{"type":"Identifier","start":1655,"end":1663,"loc":{"start":{"line":57,"column":7},"end":{"line":57,"column":15},"identifierName":"halfsize"},"name":"halfsize"},"computed":false,"leadingComments":null},"right":{"type":"CallExpression","start":1666,"end":1697,"loc":{"start":{"line":57,"column":18},"end":{"line":57,"column":49}},"callee":{"type":"MemberExpression","start":1666,"end":1694,"loc":{"start":{"line":57,"column":18},"end":{"line":57,"column":46}},"object":{"type":"NewExpression","start":1666,"end":1689,"loc":{"start":{"line":57,"column":18},"end":{"line":57,"column":41}},"callee":{"type":"Identifier","start":1670,"end":1675,"loc":{"start":{"line":57,"column":22},"end":{"line":57,"column":27},"identifierName":"Array"},"name":"Array"},"arguments":[{"type":"MemberExpression","start":1677,"end":1688,"loc":{"start":{"line":57,"column":29},"end":{"line":57,"column":40}},"object":{"type":"MemberExpression","start":1677,"end":1683,"loc":{"start":{"line":57,"column":29},"end":{"line":57,"column":35}},"object":{"type":"ThisExpression","start":1677,"end":1681,"loc":{"start":{"line":57,"column":29},"end":{"line":57,"column":33}}},"property":{"type":"Identifier","start":1682,"end":1683,"loc":{"start":{"line":57,"column":34},"end":{"line":57,"column":35},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":1684,"end":1688,"loc":{"start":{"line":57,"column":36},"end":{"line":57,"column":40},"identifierName":"ndim"},"name":"ndim"},"computed":false}]},"property":{"type":"Identifier","start":1690,"end":1694,"loc":{"start":{"line":57,"column":42},"end":{"line":57,"column":46},"identifierName":"fill"},"name":"fill"},"computed":false},"arguments":[{"type":"NumericLiteral","start":1695,"end":1696,"loc":{"start":{"line":57,"column":47},"end":{"line":57,"column":48}},"extra":{"rawValue":0,"raw":"0"},"value":0}]},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" Half the grid dimensions; if pixels with the same cellid are further apart,","start":1428,"end":1506,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":80}}},{"type":"CommentLine","value":" we assume they are on the border of the grid and that we need to correct","start":1509,"end":1584,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":77}}},{"type":"CommentLine","value":" their positions to compute the centroid.","start":1587,"end":1630,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":45}}},{"type":"CommentBlock","value":"* @ignore ","start":1633,"end":1647,"loc":{"start":{"line":56,"column":2},"end":{"line":56,"column":16}}}]},{"type":"ForStatement","start":1700,"end":1788,"loc":{"start":{"line":58,"column":2},"end":{"line":60,"column":3}},"init":{"type":"VariableDeclaration","start":1705,"end":1714,"loc":{"start":{"line":58,"column":7},"end":{"line":58,"column":16}},"declarations":[{"type":"VariableDeclarator","start":1709,"end":1714,"loc":{"start":{"line":58,"column":11},"end":{"line":58,"column":16}},"id":{"type":"Identifier","start":1709,"end":1710,"loc":{"start":{"line":58,"column":11},"end":{"line":58,"column":12},"identifierName":"i"},"name":"i"},"init":{"type":"NumericLiteral","start":1713,"end":1714,"loc":{"start":{"line":58,"column":15},"end":{"line":58,"column":16}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"kind":"let"},"test":{"type":"BinaryExpression","start":1717,"end":1732,"loc":{"start":{"line":58,"column":19},"end":{"line":58,"column":34}},"left":{"type":"Identifier","start":1717,"end":1718,"loc":{"start":{"line":58,"column":19},"end":{"line":58,"column":20},"identifierName":"i"},"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":1721,"end":1732,"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":34}},"object":{"type":"MemberExpression","start":1721,"end":1727,"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":29}},"object":{"type":"ThisExpression","start":1721,"end":1725,"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":27}}},"property":{"type":"Identifier","start":1726,"end":1727,"loc":{"start":{"line":58,"column":28},"end":{"line":58,"column":29},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":1728,"end":1732,"loc":{"start":{"line":58,"column":30},"end":{"line":58,"column":34},"identifierName":"ndim"},"name":"ndim"},"computed":false}},"update":{"type":"UpdateExpression","start":1735,"end":1739,"loc":{"start":{"line":58,"column":37},"end":{"line":58,"column":41}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":1735,"end":1736,"loc":{"start":{"line":58,"column":37},"end":{"line":58,"column":38},"identifierName":"i"},"name":"i"}},"body":{"type":"BlockStatement","start":1741,"end":1788,"loc":{"start":{"line":58,"column":43},"end":{"line":60,"column":3}},"body":[{"type":"ExpressionStatement","start":1746,"end":1784,"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":41}},"expression":{"type":"AssignmentExpression","start":1746,"end":1784,"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":41}},"operator":"=","left":{"type":"MemberExpression","start":1746,"end":1762,"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":19}},"object":{"type":"MemberExpression","start":1746,"end":1759,"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":16}},"object":{"type":"ThisExpression","start":1746,"end":1750,"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":7}}},"property":{"type":"Identifier","start":1751,"end":1759,"loc":{"start":{"line":59,"column":8},"end":{"line":59,"column":16},"identifierName":"halfsize"},"name":"halfsize"},"computed":false},"property":{"type":"Identifier","start":1760,"end":1761,"loc":{"start":{"line":59,"column":17},"end":{"line":59,"column":18},"identifierName":"i"},"name":"i"},"computed":true},"right":{"type":"BinaryExpression","start":1765,"end":1784,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":41}},"left":{"type":"MemberExpression","start":1765,"end":1782,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":39}},"object":{"type":"MemberExpression","start":1765,"end":1779,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":36}},"object":{"type":"MemberExpression","start":1765,"end":1771,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":28}},"object":{"type":"ThisExpression","start":1765,"end":1769,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":26}}},"property":{"type":"Identifier","start":1770,"end":1771,"loc":{"start":{"line":59,"column":27},"end":{"line":59,"column":28},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":1772,"end":1779,"loc":{"start":{"line":59,"column":29},"end":{"line":59,"column":36},"identifierName":"extents"},"name":"extents"},"computed":false},"property":{"type":"Identifier","start":1780,"end":1781,"loc":{"start":{"line":59,"column":37},"end":{"line":59,"column":38},"identifierName":"i"},"name":"i"},"computed":true},"operator":"/","right":{"type":"NumericLiteral","start":1783,"end":1784,"loc":{"start":{"line":59,"column":40},"end":{"line":59,"column":41}},"extra":{"rawValue":2,"raw":"2"},"value":2}}}}],"directives":[]}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* The set model method of class CentroidsWithTorusCorrection.\n\t@param {GridBasedModel} M - the model to compute centroids on. ","start":743,"end":873,"loc":{"start":{"line":30,"column":1},"end":{"line":31,"column":66}}}],"trailingComments":[{"type":"CommentBlock","value":"* @ignore ","start":1793,"end":1807,"loc":{"start":{"line":62,"column":1},"end":{"line":62,"column":15}}}]},{"type":"ClassMethod","start":1809,"end":1846,"loc":{"start":{"line":63,"column":1},"end":{"line":65,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":1809,"end":1820,"loc":{"start":{"line":63,"column":1},"end":{"line":63,"column":12},"identifierName":"constructor"},"name":"constructor","leadingComments":null},"kind":"constructor","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":1822,"end":1826,"loc":{"start":{"line":63,"column":14},"end":{"line":63,"column":18},"identifierName":"conf"},"name":"conf"}],"body":{"type":"BlockStatement","start":1828,"end":1846,"loc":{"start":{"line":63,"column":20},"end":{"line":65,"column":2}},"body":[{"type":"ExpressionStatement","start":1832,"end":1843,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":13}},"expression":{"type":"CallExpression","start":1832,"end":1843,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":13}},"callee":{"type":"Super","start":1832,"end":1837,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":7}}},"arguments":[{"type":"Identifier","start":1838,"end":1842,"loc":{"start":{"line":64,"column":8},"end":{"line":64,"column":12},"identifierName":"conf"},"name":"conf"}]}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* @ignore ","start":1793,"end":1807,"loc":{"start":{"line":62,"column":1},"end":{"line":62,"column":15}}}],"trailingComments":[{"type":"CommentBlock","value":"* This method computes the centroid of a specific cell. \n\t\t@param {CellId} cellid the unique cell id of the cell to get centroid of.\n\t\t@param {CellArrayObject} cellpixels object produced by {@link PixelsByCell}, \n\t\twith keys for each cellid\n\t\tand as corresponding value the pixel coordinates of their pixels.\n\t\t@returns {ArrayCoordinate} coordinate of the centroid.\n\t","start":1848,"end":2219,"loc":{"start":{"line":66,"column":1},"end":{"line":72,"column":3}}}]},{"type":"ClassMethod","start":2221,"end":3353,"loc":{"start":{"line":73,"column":1},"end":{"line":103,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":2221,"end":2242,"loc":{"start":{"line":73,"column":1},"end":{"line":73,"column":22},"identifierName":"computeCentroidOfCell"},"name":"computeCentroidOfCell","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[{"type":"Identifier","start":2244,"end":2250,"loc":{"start":{"line":73,"column":24},"end":{"line":73,"column":30},"identifierName":"cellid"},"name":"cellid"},{"type":"Identifier","start":2252,"end":2262,"loc":{"start":{"line":73,"column":32},"end":{"line":73,"column":42},"identifierName":"cellpixels"},"name":"cellpixels"}],"body":{"type":"BlockStatement","start":2265,"end":3353,"loc":{"start":{"line":73,"column":45},"end":{"line":103,"column":2}},"body":[{"type":"VariableDeclaration","start":2326,"end":2361,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":37}},"declarations":[{"type":"VariableDeclarator","start":2332,"end":2361,"loc":{"start":{"line":77,"column":8},"end":{"line":77,"column":37}},"id":{"type":"Identifier","start":2332,"end":2338,"loc":{"start":{"line":77,"column":8},"end":{"line":77,"column":14},"identifierName":"pixels"},"name":"pixels","leadingComments":null},"init":{"type":"MemberExpression","start":2341,"end":2361,"loc":{"start":{"line":77,"column":17},"end":{"line":77,"column":37}},"object":{"type":"Identifier","start":2341,"end":2351,"loc":{"start":{"line":77,"column":17},"end":{"line":77,"column":27},"identifierName":"cellpixels"},"name":"cellpixels"},"property":{"type":"Identifier","start":2353,"end":2359,"loc":{"start":{"line":77,"column":29},"end":{"line":77,"column":35},"identifierName":"cellid"},"name":"cellid"},"computed":true,"trailingComments":null},"leadingComments":null,"trailingComments":null}],"kind":"const","leadingComments":[{"type":"CommentLine","value":"let cellpixels = this.M.getStat( PixelsByCell ) ","start":2271,"end":2321,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":52}}}],"trailingComments":[{"type":"CommentLine","value":" cvec will contain the x, y, (z) coordinate of the centroid.","start":2367,"end":2429,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":64}}},{"type":"CommentLine","value":" Loop over the dimensions to compute each element separately.","start":2432,"end":2495,"loc":{"start":{"line":80,"column":2},"end":{"line":80,"column":65}}}]},{"type":"VariableDeclaration","start":2498,"end":2539,"loc":{"start":{"line":81,"column":2},"end":{"line":81,"column":43}},"declarations":[{"type":"VariableDeclarator","start":2502,"end":2539,"loc":{"start":{"line":81,"column":6},"end":{"line":81,"column":43}},"id":{"type":"Identifier","start":2502,"end":2506,"loc":{"start":{"line":81,"column":6},"end":{"line":81,"column":10},"identifierName":"cvec"},"name":"cvec","leadingComments":null},"init":{"type":"CallExpression","start":2509,"end":2539,"loc":{"start":{"line":81,"column":13},"end":{"line":81,"column":43}},"callee":{"type":"MemberExpression","start":2509,"end":2536,"loc":{"start":{"line":81,"column":13},"end":{"line":81,"column":40}},"object":{"type":"NewExpression","start":2509,"end":2531,"loc":{"start":{"line":81,"column":13},"end":{"line":81,"column":35}},"callee":{"type":"Identifier","start":2513,"end":2518,"loc":{"start":{"line":81,"column":17},"end":{"line":81,"column":22},"identifierName":"Array"},"name":"Array"},"arguments":[{"type":"MemberExpression","start":2519,"end":2530,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":34}},"object":{"type":"MemberExpression","start":2519,"end":2525,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":29}},"object":{"type":"ThisExpression","start":2519,"end":2523,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":27}}},"property":{"type":"Identifier","start":2524,"end":2525,"loc":{"start":{"line":81,"column":28},"end":{"line":81,"column":29},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":2526,"end":2530,"loc":{"start":{"line":81,"column":30},"end":{"line":81,"column":34},"identifierName":"ndim"},"name":"ndim"},"computed":false}]},"property":{"type":"Identifier","start":2532,"end":2536,"loc":{"start":{"line":81,"column":36},"end":{"line":81,"column":40},"identifierName":"fill"},"name":"fill"},"computed":false},"arguments":[{"type":"NumericLiteral","start":2537,"end":2538,"loc":{"start":{"line":81,"column":41},"end":{"line":81,"column":42}},"extra":{"rawValue":0,"raw":"0"},"value":0}]},"leadingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" cvec will contain the x, y, (z) coordinate of the centroid.","start":2367,"end":2429,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":64}}},{"type":"CommentLine","value":" Loop over the dimensions to compute each element separately.","start":2432,"end":2495,"loc":{"start":{"line":80,"column":2},"end":{"line":80,"column":65}}}]},{"type":"ForStatement","start":2542,"end":3333,"loc":{"start":{"line":82,"column":2},"end":{"line":100,"column":3}},"init":{"type":"VariableDeclaration","start":2547,"end":2558,"loc":{"start":{"line":82,"column":7},"end":{"line":82,"column":18}},"declarations":[{"type":"VariableDeclarator","start":2551,"end":2558,"loc":{"start":{"line":82,"column":11},"end":{"line":82,"column":18}},"id":{"type":"Identifier","start":2551,"end":2554,"loc":{"start":{"line":82,"column":11},"end":{"line":82,"column":14},"identifierName":"dim"},"name":"dim"},"init":{"type":"NumericLiteral","start":2557,"end":2558,"loc":{"start":{"line":82,"column":17},"end":{"line":82,"column":18}},"extra":{"rawValue":0,"raw":"0"},"value":0}}],"kind":"let"},"test":{"type":"BinaryExpression","start":2561,"end":2578,"loc":{"start":{"line":82,"column":21},"end":{"line":82,"column":38}},"left":{"type":"Identifier","start":2561,"end":2564,"loc":{"start":{"line":82,"column":21},"end":{"line":82,"column":24},"identifierName":"dim"},"name":"dim"},"operator":"<","right":{"type":"MemberExpression","start":2567,"end":2578,"loc":{"start":{"line":82,"column":27},"end":{"line":82,"column":38}},"object":{"type":"MemberExpression","start":2567,"end":2573,"loc":{"start":{"line":82,"column":27},"end":{"line":82,"column":33}},"object":{"type":"ThisExpression","start":2567,"end":2571,"loc":{"start":{"line":82,"column":27},"end":{"line":82,"column":31}}},"property":{"type":"Identifier","start":2572,"end":2573,"loc":{"start":{"line":82,"column":32},"end":{"line":82,"column":33},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":2574,"end":2578,"loc":{"start":{"line":82,"column":34},"end":{"line":82,"column":38},"identifierName":"ndim"},"name":"ndim"},"computed":false}},"update":{"type":"UpdateExpression","start":2581,"end":2587,"loc":{"start":{"line":82,"column":41},"end":{"line":82,"column":47}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":2581,"end":2584,"loc":{"start":{"line":82,"column":41},"end":{"line":82,"column":44},"identifierName":"dim"},"name":"dim"}},"body":{"type":"BlockStatement","start":2589,"end":3333,"loc":{"start":{"line":82,"column":49},"end":{"line":100,"column":3}},"body":[{"type":"VariableDeclaration","start":2598,"end":2609,"loc":{"start":{"line":84,"column":3},"end":{"line":84,"column":14}},"declarations":[{"type":"VariableDeclarator","start":2602,"end":2609,"loc":{"start":{"line":84,"column":7},"end":{"line":84,"column":14}},"id":{"type":"Identifier","start":2602,"end":2604,"loc":{"start":{"line":84,"column":7},"end":{"line":84,"column":9},"identifierName":"mi"},"name":"mi"},"init":{"type":"NumericLiteral","start":2607,"end":2609,"loc":{"start":{"line":84,"column":12},"end":{"line":84,"column":14}},"extra":{"rawValue":0,"raw":"0."},"value":0,"leadingComments":null,"trailingComments":null},"trailingComments":null}],"kind":"let","trailingComments":[{"type":"CommentLine","value":" Loop over the pixels;","start":2613,"end":2637,"loc":{"start":{"line":85,"column":3},"end":{"line":85,"column":27}}},{"type":"CommentLine","value":" compute mean position per dimension with online algorithm","start":2641,"end":2701,"loc":{"start":{"line":86,"column":3},"end":{"line":86,"column":63}}}]},{"type":"ForStatement","start":2705,"end":3260,"loc":{"start":{"line":87,"column":3},"end":{"line":97,"column":4}},"init":{"type":"VariableDeclaration","start":2710,"end":2719,"loc":{"start":{"line":87,"column":8},"end":{"line":87,"column":17}},"declarations":[{"type":"VariableDeclarator","start":2714,"end":2719,"loc":{"start":{"line":87,"column":12},"end":{"line":87,"column":17}},"id":{"type":"Identifier","start":2714,"end":2715,"loc":{"start":{"line":87,"column":12},"end":{"line":87,"column":13},"identifierName":"j"},"name":"j","leadingComments":null},"init":{"type":"NumericLiteral","start":2718,"end":2719,"loc":{"start":{"line":87,"column":16},"end":{"line":87,"column":17}},"extra":{"rawValue":0,"raw":"0"},"value":0},"leadingComments":null}],"kind":"let","leadingComments":null},"test":{"type":"BinaryExpression","start":2722,"end":2739,"loc":{"start":{"line":87,"column":20},"end":{"line":87,"column":37}},"left":{"type":"Identifier","start":2722,"end":2723,"loc":{"start":{"line":87,"column":20},"end":{"line":87,"column":21},"identifierName":"j"},"name":"j"},"operator":"<","right":{"type":"MemberExpression","start":2726,"end":2739,"loc":{"start":{"line":87,"column":24},"end":{"line":87,"column":37}},"object":{"type":"Identifier","start":2726,"end":2732,"loc":{"start":{"line":87,"column":24},"end":{"line":87,"column":30},"identifierName":"pixels"},"name":"pixels"},"property":{"type":"Identifier","start":2733,"end":2739,"loc":{"start":{"line":87,"column":31},"end":{"line":87,"column":37},"identifierName":"length"},"name":"length"},"computed":false}},"update":{"type":"UpdateExpression","start":2742,"end":2746,"loc":{"start":{"line":87,"column":40},"end":{"line":87,"column":44}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":2742,"end":2743,"loc":{"start":{"line":87,"column":40},"end":{"line":87,"column":41},"identifierName":"j"},"name":"j"}},"body":{"type":"BlockStatement","start":2748,"end":3260,"loc":{"start":{"line":87,"column":46},"end":{"line":97,"column":4}},"body":[{"type":"VariableDeclaration","start":3155,"end":3183,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":32}},"declarations":[{"type":"VariableDeclarator","start":3159,"end":3183,"loc":{"start":{"line":94,"column":8},"end":{"line":94,"column":32}},"id":{"type":"Identifier","start":3159,"end":3161,"loc":{"start":{"line":94,"column":8},"end":{"line":94,"column":10},"identifierName":"dx"},"name":"dx","leadingComments":null},"init":{"type":"BinaryExpression","start":3164,"end":3183,"loc":{"start":{"line":94,"column":13},"end":{"line":94,"column":32}},"left":{"type":"MemberExpression","start":3164,"end":3178,"loc":{"start":{"line":94,"column":13},"end":{"line":94,"column":27}},"object":{"type":"MemberExpression","start":3164,"end":3173,"loc":{"start":{"line":94,"column":13},"end":{"line":94,"column":22}},"object":{"type":"Identifier","start":3164,"end":3170,"loc":{"start":{"line":94,"column":13},"end":{"line":94,"column":19},"identifierName":"pixels"},"name":"pixels"},"property":{"type":"Identifier","start":3171,"end":3172,"loc":{"start":{"line":94,"column":20},"end":{"line":94,"column":21},"identifierName":"j"},"name":"j"},"computed":true},"property":{"type":"Identifier","start":3174,"end":3177,"loc":{"start":{"line":94,"column":23},"end":{"line":94,"column":26},"identifierName":"dim"},"name":"dim"},"computed":true},"operator":"-","right":{"type":"Identifier","start":3181,"end":3183,"loc":{"start":{"line":94,"column":30},"end":{"line":94,"column":32},"identifierName":"mi"},"name":"mi","leadingComments":null,"trailingComments":null},"trailingComments":null},"leadingComments":null,"trailingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" Check distance of current pixel to the accumulated mean in this dim.","start":2754,"end":2825,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":75}}},{"type":"CommentLine","value":" Check if this distance is greater than half the grid size in this","start":2830,"end":2898,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":72}}},{"type":"CommentLine","value":" dimension; if so, this indicates that the cell has moved to the","start":2903,"end":2969,"loc":{"start":{"line":90,"column":4},"end":{"line":90,"column":70}}},{"type":"CommentLine","value":" other end of the grid because of the torus. Note that this only","start":2974,"end":3040,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":70}}},{"type":"CommentLine","value":" holds AFTER the first pixel (so for j > 0), when we actually have","start":3045,"end":3113,"loc":{"start":{"line":92,"column":4},"end":{"line":92,"column":72}}},{"type":"CommentLine","value":" an idea of where the cell is.","start":3118,"end":3150,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":36}}}],"trailingComments":[{"type":"CommentLine","value":" Update the mean with the appropriate weight. ","start":3188,"end":3236,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":52}}}]},{"type":"ExpressionStatement","start":3241,"end":3255,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":18}},"expression":{"type":"AssignmentExpression","start":3241,"end":3255,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":18}},"operator":"+=","left":{"type":"Identifier","start":3241,"end":3243,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":6},"identifierName":"mi"},"name":"mi","leadingComments":null},"right":{"type":"BinaryExpression","start":3247,"end":3255,"loc":{"start":{"line":96,"column":10},"end":{"line":96,"column":18}},"left":{"type":"Identifier","start":3247,"end":3249,"loc":{"start":{"line":96,"column":10},"end":{"line":96,"column":12},"identifierName":"dx"},"name":"dx"},"operator":"/","right":{"type":"BinaryExpression","start":3251,"end":3254,"loc":{"start":{"line":96,"column":14},"end":{"line":96,"column":17}},"left":{"type":"Identifier","start":3251,"end":3252,"loc":{"start":{"line":96,"column":14},"end":{"line":96,"column":15},"identifierName":"j"},"name":"j"},"operator":"+","right":{"type":"NumericLiteral","start":3253,"end":3254,"loc":{"start":{"line":96,"column":16},"end":{"line":96,"column":17}},"extra":{"rawValue":1,"raw":"1"},"value":1},"extra":{"parenthesized":true,"parenStart":3250}}},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" Update the mean with the appropriate weight. ","start":3188,"end":3236,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":52}}}]}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentLine","value":" Loop over the pixels;","start":2613,"end":2637,"loc":{"start":{"line":85,"column":3},"end":{"line":85,"column":27}}},{"type":"CommentLine","value":" compute mean position per dimension with online algorithm","start":2641,"end":2701,"loc":{"start":{"line":86,"column":3},"end":{"line":86,"column":63}}}],"trailingComments":[{"type":"CommentLine","value":" Set the mean position in the cvec vector.","start":3267,"end":3311,"loc":{"start":{"line":98,"column":3},"end":{"line":98,"column":47}}}]},{"type":"ExpressionStatement","start":3315,"end":3329,"loc":{"start":{"line":99,"column":3},"end":{"line":99,"column":17}},"expression":{"type":"AssignmentExpression","start":3315,"end":3329,"loc":{"start":{"line":99,"column":3},"end":{"line":99,"column":17}},"operator":"=","left":{"type":"MemberExpression","start":3315,"end":3324,"loc":{"start":{"line":99,"column":3},"end":{"line":99,"column":12}},"object":{"type":"Identifier","start":3315,"end":3319,"loc":{"start":{"line":99,"column":3},"end":{"line":99,"column":7},"identifierName":"cvec"},"name":"cvec","leadingComments":null},"property":{"type":"Identifier","start":3320,"end":3323,"loc":{"start":{"line":99,"column":8},"end":{"line":99,"column":11},"identifierName":"dim"},"name":"dim"},"computed":true,"leadingComments":null},"right":{"type":"Identifier","start":3327,"end":3329,"loc":{"start":{"line":99,"column":15},"end":{"line":99,"column":17},"identifierName":"mi"},"name":"mi"},"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":" Set the mean position in the cvec vector.","start":3267,"end":3311,"loc":{"start":{"line":98,"column":3},"end":{"line":98,"column":47}}}]}],"directives":[]}},{"type":"ReturnStatement","start":3336,"end":3347,"loc":{"start":{"line":101,"column":2},"end":{"line":101,"column":13}},"argument":{"type":"Identifier","start":3343,"end":3347,"loc":{"start":{"line":101,"column":9},"end":{"line":101,"column":13},"identifierName":"cvec"},"name":"cvec"}}],"directives":[],"trailingComments":null},"leadingComments":[{"type":"CommentBlock","value":"* This method computes the centroid of a specific cell. \n\t\t@param {CellId} cellid the unique cell id of the cell to get centroid of.\n\t\t@param {CellArrayObject} cellpixels object produced by {@link PixelsByCell}, \n\t\twith keys for each cellid\n\t\tand as corresponding value the pixel coordinates of their pixels.\n\t\t@returns {ArrayCoordinate} coordinate of the centroid.\n\t","start":1848,"end":2219,"loc":{"start":{"line":66,"column":1},"end":{"line":72,"column":3}}}],"trailingComments":[{"type":"CommentBlock","value":"* Compute centroids for all cells on the grid. \n\t@return {CellObject} with an {@link ArrayCoordinate} of the centroid for each cell\n\t on the grid (see {@link computeCentroidOfCell}). ","start":3358,"end":3545,"loc":{"start":{"line":105,"column":1},"end":{"line":107,"column":53}}}]},{"type":"ClassMethod","start":3547,"end":3951,"loc":{"start":{"line":108,"column":1},"end":{"line":119,"column":2}},"static":false,"computed":false,"key":{"type":"Identifier","start":3547,"end":3554,"loc":{"start":{"line":108,"column":1},"end":{"line":108,"column":8},"identifierName":"compute"},"name":"compute","leadingComments":null},"kind":"method","id":null,"generator":false,"expression":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3556,"end":3951,"loc":{"start":{"line":108,"column":10},"end":{"line":119,"column":2}},"body":[{"type":"VariableDeclaration","start":3670,"end":3717,"loc":{"start":{"line":111,"column":2},"end":{"line":111,"column":49}},"declarations":[{"type":"VariableDeclarator","start":3674,"end":3717,"loc":{"start":{"line":111,"column":6},"end":{"line":111,"column":49}},"id":{"type":"Identifier","start":3674,"end":3684,"loc":{"start":{"line":111,"column":6},"end":{"line":111,"column":16},"identifierName":"cellpixels"},"name":"cellpixels","leadingComments":null},"init":{"type":"CallExpression","start":3687,"end":3717,"loc":{"start":{"line":111,"column":19},"end":{"line":111,"column":49}},"callee":{"type":"MemberExpression","start":3687,"end":3701,"loc":{"start":{"line":111,"column":19},"end":{"line":111,"column":33}},"object":{"type":"MemberExpression","start":3687,"end":3693,"loc":{"start":{"line":111,"column":19},"end":{"line":111,"column":25}},"object":{"type":"ThisExpression","start":3687,"end":3691,"loc":{"start":{"line":111,"column":19},"end":{"line":111,"column":23}}},"property":{"type":"Identifier","start":3692,"end":3693,"loc":{"start":{"line":111,"column":24},"end":{"line":111,"column":25},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":3694,"end":3701,"loc":{"start":{"line":111,"column":26},"end":{"line":111,"column":33},"identifierName":"getStat"},"name":"getStat"},"computed":false},"arguments":[{"type":"Identifier","start":3703,"end":3715,"loc":{"start":{"line":111,"column":35},"end":{"line":111,"column":47},"identifierName":"PixelsByCell"},"name":"PixelsByCell"}],"trailingComments":null},"leadingComments":null,"trailingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" Get object with arrays of pixels for each cell on the grid, and get","start":3560,"end":3630,"loc":{"start":{"line":109,"column":2},"end":{"line":109,"column":72}}},{"type":"CommentLine","value":" the array for the current cell.","start":3633,"end":3667,"loc":{"start":{"line":110,"column":2},"end":{"line":110,"column":36}}}],"trailingComments":[{"type":"CommentLine","value":" Create an object for the centroids. Add the centroid array for each cell.","start":3724,"end":3800,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":78}}}]},{"type":"VariableDeclaration","start":3803,"end":3821,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":20}},"declarations":[{"type":"VariableDeclarator","start":3807,"end":3821,"loc":{"start":{"line":114,"column":6},"end":{"line":114,"column":20}},"id":{"type":"Identifier","start":3807,"end":3816,"loc":{"start":{"line":114,"column":6},"end":{"line":114,"column":15},"identifierName":"centroids"},"name":"centroids","leadingComments":null},"init":{"type":"ObjectExpression","start":3819,"end":3821,"loc":{"start":{"line":114,"column":18},"end":{"line":114,"column":20}},"properties":[]},"leadingComments":null}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" Create an object for the centroids. Add the centroid array for each cell.","start":3724,"end":3800,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":78}}}]},{"type":"ForOfStatement","start":3824,"end":3929,"loc":{"start":{"line":115,"column":2},"end":{"line":117,"column":3}},"left":{"type":"VariableDeclaration","start":3829,"end":3836,"loc":{"start":{"line":115,"column":7},"end":{"line":115,"column":14}},"declarations":[{"type":"VariableDeclarator","start":3833,"end":3836,"loc":{"start":{"line":115,"column":11},"end":{"line":115,"column":14}},"id":{"type":"Identifier","start":3833,"end":3836,"loc":{"start":{"line":115,"column":11},"end":{"line":115,"column":14},"identifierName":"cid"},"name":"cid"},"init":null}],"kind":"let"},"right":{"type":"CallExpression","start":3840,"end":3856,"loc":{"start":{"line":115,"column":18},"end":{"line":115,"column":34}},"callee":{"type":"MemberExpression","start":3840,"end":3854,"loc":{"start":{"line":115,"column":18},"end":{"line":115,"column":32}},"object":{"type":"MemberExpression","start":3840,"end":3846,"loc":{"start":{"line":115,"column":18},"end":{"line":115,"column":24}},"object":{"type":"ThisExpression","start":3840,"end":3844,"loc":{"start":{"line":115,"column":18},"end":{"line":115,"column":22}}},"property":{"type":"Identifier","start":3845,"end":3846,"loc":{"start":{"line":115,"column":23},"end":{"line":115,"column":24},"identifierName":"M"},"name":"M"},"computed":false},"property":{"type":"Identifier","start":3847,"end":3854,"loc":{"start":{"line":115,"column":25},"end":{"line":115,"column":32},"identifierName":"cellIDs"},"name":"cellIDs"},"computed":false},"arguments":[]},"body":{"type":"BlockStatement","start":3858,"end":3929,"loc":{"start":{"line":115,"column":36},"end":{"line":117,"column":3}},"body":[{"type":"ExpressionStatement","start":3863,"end":3925,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":65}},"expression":{"type":"AssignmentExpression","start":3863,"end":3925,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":65}},"operator":"=","left":{"type":"MemberExpression","start":3863,"end":3877,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":17}},"object":{"type":"Identifier","start":3863,"end":3872,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":12},"identifierName":"centroids"},"name":"centroids"},"property":{"type":"Identifier","start":3873,"end":3876,"loc":{"start":{"line":116,"column":13},"end":{"line":116,"column":16},"identifierName":"cid"},"name":"cid"},"computed":true},"right":{"type":"CallExpression","start":3880,"end":3925,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":65}},"callee":{"type":"MemberExpression","start":3880,"end":3906,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":46}},"object":{"type":"ThisExpression","start":3880,"end":3884,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":24}}},"property":{"type":"Identifier","start":3885,"end":3906,"loc":{"start":{"line":116,"column":25},"end":{"line":116,"column":46},"identifierName":"computeCentroidOfCell"},"name":"computeCentroidOfCell"},"computed":false},"arguments":[{"type":"Identifier","start":3908,"end":3911,"loc":{"start":{"line":116,"column":48},"end":{"line":116,"column":51},"identifierName":"cid"},"name":"cid"},{"type":"Identifier","start":3913,"end":3923,"loc":{"start":{"line":116,"column":53},"end":{"line":116,"column":63},"identifierName":"cellpixels"},"name":"cellpixels"}]}}}],"directives":[]}},{"type":"ReturnStatement","start":3932,"end":3948,"loc":{"start":{"line":118,"column":2},"end":{"line":118,"column":18}},"argument":{"type":"Identifier","start":3939,"end":3948,"loc":{"start":{"line":118,"column":9},"end":{"line":118,"column":18},"identifierName":"centroids"},"name":"centroids"}}],"directives":[]},"leadingComments":[{"type":"CommentBlock","value":"* Compute centroids for all cells on the grid. \n\t@return {CellObject} with an {@link ArrayCoordinate} of the centroid for each cell\n\t on the grid (see {@link computeCentroidOfCell}). ","start":3358,"end":3545,"loc":{"start":{"line":105,"column":1},"end":{"line":107,"column":53}}}]}]},"leadingComments":[{"type":"CommentBlock","value":"*\tThis Stat computes the centroid of a cell. When the cell resides on a torus, the\n\tcentroid may be well outside the cell, and other stats may be preferable (e.g.\n\t{@link CentroidsWithTorusCorrection}).\n\t\n\t@example\n\t* let CPM = require( \"path/to/build\" )\n\t*\n\t* // Make a CPM, seed two cells, run a little, and get their centroids\n\t* let C = new CPM.CPM( [100,100], { \n\t* \tT:20,\n\t*\ttorus:[false,false],\n\t* \tJ:[[0,20],[20,10]],\n\t* \tV:[0,200],\n\t* \tLAMBDA_V:[0,2]\n\t* } )\n\t* let gm = new CPM.GridManipulator( C )\n\t* gm.seedCell(1)\n\t* gm.seedCell(1)\n\t* for( let t = 0; t < 100; t++ ){ C.timeStep() }\n\t*\n\t* C.getStat( CPM.Centroids ) \n","start":77,"end":709,"loc":{"start":{"line":6,"column":0},"end":{"line":27,"column":2}}}],"__PseudoExport__":false,"trailingComments":[]},"leadingComments":null}],"directives":[]},"comments":[{"type":"CommentBlock","value":"*\tThis Stat computes the centroid of a cell. When the cell resides on a torus, the\n\tcentroid may be well outside the cell, and other stats may be preferable (e.g.\n\t{@link CentroidsWithTorusCorrection}).\n\t\n\t@example\n\t* let CPM = require( \"path/to/build\" )\n\t*\n\t* // Make a CPM, seed two cells, run a little, and get their centroids\n\t* let C = new CPM.CPM( [100,100], { \n\t* \tT:20,\n\t*\ttorus:[false,false],\n\t* \tJ:[[0,20],[20,10]],\n\t* \tV:[0,200],\n\t* \tLAMBDA_V:[0,2]\n\t* } )\n\t* let gm = new CPM.GridManipulator( C )\n\t* gm.seedCell(1)\n\t* gm.seedCell(1)\n\t* for( let t = 0; t < 100; t++ ){ C.timeStep() }\n\t*\n\t* C.getStat( CPM.Centroids ) \n","start":77,"end":709,"loc":{"start":{"line":6,"column":0},"end":{"line":27,"column":2}}},{"type":"CommentBlock","value":"* The set model method of class CentroidsWithTorusCorrection.\n\t@param {GridBasedModel} M - the model to compute centroids on. ","start":743,"end":873,"loc":{"start":{"line":30,"column":1},"end":{"line":31,"column":66}}},{"type":"CommentBlock","value":"* The model to compute centroids on. \n\t\t@type {GridBasedModel}","start":895,"end":961,"loc":{"start":{"line":34,"column":2},"end":{"line":35,"column":26}}},{"type":"CommentBlock","value":" Check if the grid has a torus; if so, warn that this method may not be\n\t\tappropriate. ","start":980,"end":1071,"loc":{"start":{"line":38,"column":2},"end":{"line":39,"column":17}}},{"type":"CommentLine","value":" eslint-disable-next-line no-console","start":1220,"end":1258,"loc":{"start":{"line":49,"column":3},"end":{"line":49,"column":41}}},{"type":"CommentLine","value":" Half the grid dimensions; if pixels with the same cellid are further apart,","start":1428,"end":1506,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":80}}},{"type":"CommentLine","value":" we assume they are on the border of the grid and that we need to correct","start":1509,"end":1584,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":77}}},{"type":"CommentLine","value":" their positions to compute the centroid.","start":1587,"end":1630,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":45}}},{"type":"CommentBlock","value":"* @ignore ","start":1633,"end":1647,"loc":{"start":{"line":56,"column":2},"end":{"line":56,"column":16}}},{"type":"CommentBlock","value":"* @ignore ","start":1793,"end":1807,"loc":{"start":{"line":62,"column":1},"end":{"line":62,"column":15}}},{"type":"CommentBlock","value":"* This method computes the centroid of a specific cell. \n\t\t@param {CellId} cellid the unique cell id of the cell to get centroid of.\n\t\t@param {CellArrayObject} cellpixels object produced by {@link PixelsByCell}, \n\t\twith keys for each cellid\n\t\tand as corresponding value the pixel coordinates of their pixels.\n\t\t@returns {ArrayCoordinate} coordinate of the centroid.\n\t","start":1848,"end":2219,"loc":{"start":{"line":66,"column":1},"end":{"line":72,"column":3}}},{"type":"CommentLine","value":"let cellpixels = this.M.getStat( PixelsByCell ) ","start":2271,"end":2321,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":52}}},{"type":"CommentLine","value":" cvec will contain the x, y, (z) coordinate of the centroid.","start":2367,"end":2429,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":64}}},{"type":"CommentLine","value":" Loop over the dimensions to compute each element separately.","start":2432,"end":2495,"loc":{"start":{"line":80,"column":2},"end":{"line":80,"column":65}}},{"type":"CommentLine","value":" Loop over the pixels;","start":2613,"end":2637,"loc":{"start":{"line":85,"column":3},"end":{"line":85,"column":27}}},{"type":"CommentLine","value":" compute mean position per dimension with online algorithm","start":2641,"end":2701,"loc":{"start":{"line":86,"column":3},"end":{"line":86,"column":63}}},{"type":"CommentLine","value":" Check distance of current pixel to the accumulated mean in this dim.","start":2754,"end":2825,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":75}}},{"type":"CommentLine","value":" Check if this distance is greater than half the grid size in this","start":2830,"end":2898,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":72}}},{"type":"CommentLine","value":" dimension; if so, this indicates that the cell has moved to the","start":2903,"end":2969,"loc":{"start":{"line":90,"column":4},"end":{"line":90,"column":70}}},{"type":"CommentLine","value":" other end of the grid because of the torus. Note that this only","start":2974,"end":3040,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":70}}},{"type":"CommentLine","value":" holds AFTER the first pixel (so for j > 0), when we actually have","start":3045,"end":3113,"loc":{"start":{"line":92,"column":4},"end":{"line":92,"column":72}}},{"type":"CommentLine","value":" an idea of where the cell is.","start":3118,"end":3150,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":36}}},{"type":"CommentLine","value":" Update the mean with the appropriate weight. ","start":3188,"end":3236,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":52}}},{"type":"CommentLine","value":" Set the mean position in the cvec vector.","start":3267,"end":3311,"loc":{"start":{"line":98,"column":3},"end":{"line":98,"column":47}}},{"type":"CommentBlock","value":"* Compute centroids for all cells on the grid. \n\t@return {CellObject} with an {@link ArrayCoordinate} of the centroid for each cell\n\t on the grid (see {@link computeCentroidOfCell}). ","start":3358,"end":3545,"loc":{"start":{"line":105,"column":1},"end":{"line":107,"column":53}}},{"type":"CommentLine","value":" Get object with arrays of pixels for each cell on the grid, and get","start":3560,"end":3630,"loc":{"start":{"line":109,"column":2},"end":{"line":109,"column":72}}},{"type":"CommentLine","value":" the array for the current cell.","start":3633,"end":3667,"loc":{"start":{"line":110,"column":2},"end":{"line":110,"column":36}}},{"type":"CommentLine","value":" Create an object for the centroids. Add the centroid array for each cell.","start":3724,"end":3800,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":78}}}],"tokens":[{"type":{"label":"import","keyword":"import","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"import","start":2,"end":8,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":6}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"Stat","start":9,"end":13,"loc":{"start":{"line":3,"column":7},"end":{"line":3,"column":11}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"from","start":14,"end":18,"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":16}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"./Stat.js","start":19,"end":30,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":28}}},{"type":{"label":"import","keyword":"import","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"import","start":31,"end":37,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":6}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"PixelsByCell","start":38,"end":50,"loc":{"start":{"line":4,"column":7},"end":{"line":4,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"from","start":51,"end":55,"loc":{"start":{"line":4,"column":20},"end":{"line":4,"column":24}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"./PixelsByCell.js","start":56,"end":75,"loc":{"start":{"line":4,"column":25},"end":{"line":4,"column":44}}},{"type":"CommentBlock","value":"*\tThis Stat computes the centroid of a cell. When the cell resides on a torus, the\n\tcentroid may be well outside the cell, and other stats may be preferable (e.g.\n\t{@link CentroidsWithTorusCorrection}).\n\t\n\t@example\n\t* let CPM = require( \"path/to/build\" )\n\t*\n\t* // Make a CPM, seed two cells, run a little, and get their centroids\n\t* let C = new CPM.CPM( [100,100], { \n\t* \tT:20,\n\t*\ttorus:[false,false],\n\t* \tJ:[[0,20],[20,10]],\n\t* \tV:[0,200],\n\t* \tLAMBDA_V:[0,2]\n\t* } )\n\t* let gm = new CPM.GridManipulator( C )\n\t* gm.seedCell(1)\n\t* gm.seedCell(1)\n\t* for( let t = 0; t < 100; t++ ){ C.timeStep() }\n\t*\n\t* C.getStat( CPM.Centroids ) \n","start":77,"end":709,"loc":{"start":{"line":6,"column":0},"end":{"line":27,"column":2}}},{"type":{"label":"class","keyword":"class","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"class","start":710,"end":715,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"Centroids","start":716,"end":725,"loc":{"start":{"line":28,"column":6},"end":{"line":28,"column":15}}},{"type":{"label":"extends","keyword":"extends","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"extends","start":726,"end":733,"loc":{"start":{"line":28,"column":16},"end":{"line":28,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"Stat","start":734,"end":738,"loc":{"start":{"line":28,"column":24},"end":{"line":28,"column":28}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":739,"end":740,"loc":{"start":{"line":28,"column":29},"end":{"line":28,"column":30}}},{"type":"CommentBlock","value":"* The set model method of class CentroidsWithTorusCorrection.\n\t@param {GridBasedModel} M - the model to compute centroids on. ","start":743,"end":873,"loc":{"start":{"line":30,"column":1},"end":{"line":31,"column":66}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"set","start":875,"end":878,"loc":{"start":{"line":32,"column":1},"end":{"line":32,"column":4}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"model","start":879,"end":884,"loc":{"start":{"line":32,"column":5},"end":{"line":32,"column":10}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":884,"end":885,"loc":{"start":{"line":32,"column":10},"end":{"line":32,"column":11}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"M","start":886,"end":887,"loc":{"start":{"line":32,"column":12},"end":{"line":32,"column":13}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":888,"end":889,"loc":{"start":{"line":32,"column":14},"end":{"line":32,"column":15}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":889,"end":890,"loc":{"start":{"line":32,"column":15},"end":{"line":32,"column":16}}},{"type":"CommentBlock","value":"* The model to compute centroids on. \n\t\t@type {GridBasedModel}","start":895,"end":961,"loc":{"start":{"line":34,"column":2},"end":{"line":35,"column":26}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":964,"end":968,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":6}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":968,"end":969,"loc":{"start":{"line":36,"column":6},"end":{"line":36,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"M","start":969,"end":970,"loc":{"start":{"line":36,"column":7},"end":{"line":36,"column":8}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":971,"end":972,"loc":{"start":{"line":36,"column":9},"end":{"line":36,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"M","start":973,"end":974,"loc":{"start":{"line":36,"column":11},"end":{"line":36,"column":12}}},{"type":"CommentBlock","value":" Check if the grid has a torus; if so, warn that this method may not be\n\t\tappropriate. ","start":980,"end":1071,"loc":{"start":{"line":38,"column":2},"end":{"line":39,"column":17}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":1074,"end":1077,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"torus","start":1078,"end":1083,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":11}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":1084,"end":1085,"loc":{"start":{"line":40,"column":12},"end":{"line":40,"column":13}}},{"type":{"label":"false","keyword":"false","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"false","start":1086,"end":1091,"loc":{"start":{"line":40,"column":14},"end":{"line":40,"column":19}}},{"type":{"label":"for","keyword":"for","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":true,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"for","start":1094,"end":1097,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1097,"end":1098,"loc":{"start":{"line":41,"column":5},"end":{"line":41,"column":6}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":1099,"end":1102,"loc":{"start":{"line":41,"column":7},"end":{"line":41,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"d","start":1103,"end":1104,"loc":{"start":{"line":41,"column":11},"end":{"line":41,"column":12}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":1105,"end":1106,"loc":{"start":{"line":41,"column":13},"end":{"line":41,"column":14}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":1107,"end":1108,"loc":{"start":{"line":41,"column":15},"end":{"line":41,"column":16}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1108,"end":1109,"loc":{"start":{"line":41,"column":16},"end":{"line":41,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"d","start":1110,"end":1111,"loc":{"start":{"line":41,"column":18},"end":{"line":41,"column":19}}},{"type":{"label":"</>","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"<","start":1112,"end":1113,"loc":{"start":{"line":41,"column":20},"end":{"line":41,"column":21}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":1114,"end":1118,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":26}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1118,"end":1119,"loc":{"start":{"line":41,"column":26},"end":{"line":41,"column":27}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"M","start":1119,"end":1120,"loc":{"start":{"line":41,"column":27},"end":{"line":41,"column":28}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1120,"end":1121,"loc":{"start":{"line":41,"column":28},"end":{"line":41,"column":29}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"ndim","start":1121,"end":1125,"loc":{"start":{"line":41,"column":29},"end":{"line":41,"column":33}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1125,"end":1126,"loc":{"start":{"line":41,"column":33},"end":{"line":41,"column":34}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"d","start":1127,"end":1128,"loc":{"start":{"line":41,"column":35},"end":{"line":41,"column":36}}},{"type":{"label":"++/--","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":true,"binop":null},"value":"++","start":1128,"end":1130,"loc":{"start":{"line":41,"column":36},"end":{"line":41,"column":38}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1131,"end":1132,"loc":{"start":{"line":41,"column":39},"end":{"line":41,"column":40}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1132,"end":1133,"loc":{"start":{"line":41,"column":40},"end":{"line":41,"column":41}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":1137,"end":1139,"loc":{"start":{"line":42,"column":3},"end":{"line":42,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1139,"end":1140,"loc":{"start":{"line":42,"column":5},"end":{"line":42,"column":6}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":1141,"end":1145,"loc":{"start":{"line":42,"column":7},"end":{"line":42,"column":11}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1145,"end":1146,"loc":{"start":{"line":42,"column":11},"end":{"line":42,"column":12}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"M","start":1146,"end":1147,"loc":{"start":{"line":42,"column":12},"end":{"line":42,"column":13}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1147,"end":1148,"loc":{"start":{"line":42,"column":13},"end":{"line":42,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"grid","start":1148,"end":1152,"loc":{"start":{"line":42,"column":14},"end":{"line":42,"column":18}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1152,"end":1153,"loc":{"start":{"line":42,"column":18},"end":{"line":42,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"torus","start":1153,"end":1158,"loc":{"start":{"line":42,"column":19},"end":{"line":42,"column":24}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1158,"end":1159,"loc":{"start":{"line":42,"column":24},"end":{"line":42,"column":25}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"d","start":1159,"end":1160,"loc":{"start":{"line":42,"column":25},"end":{"line":42,"column":26}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1160,"end":1161,"loc":{"start":{"line":42,"column":26},"end":{"line":42,"column":27}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1162,"end":1163,"loc":{"start":{"line":42,"column":28},"end":{"line":42,"column":29}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1163,"end":1164,"loc":{"start":{"line":42,"column":29},"end":{"line":42,"column":30}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"torus","start":1169,"end":1174,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":9}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":1175,"end":1176,"loc":{"start":{"line":43,"column":10},"end":{"line":43,"column":11}}},{"type":{"label":"true","keyword":"true","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"true","start":1177,"end":1181,"loc":{"start":{"line":43,"column":12},"end":{"line":43,"column":16}}},{"type":{"label":"break","keyword":"break","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"break","start":1186,"end":1191,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":9}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1195,"end":1196,"loc":{"start":{"line":45,"column":3},"end":{"line":45,"column":4}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1199,"end":1200,"loc":{"start":{"line":46,"column":2},"end":{"line":46,"column":3}}},{"type":{"label":"if","keyword":"if","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"if","start":1206,"end":1208,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":4}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1208,"end":1209,"loc":{"start":{"line":48,"column":4},"end":{"line":48,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"torus","start":1209,"end":1214,"loc":{"start":{"line":48,"column":5},"end":{"line":48,"column":10}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1214,"end":1215,"loc":{"start":{"line":48,"column":10},"end":{"line":48,"column":11}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1215,"end":1216,"loc":{"start":{"line":48,"column":11},"end":{"line":48,"column":12}}},{"type":"CommentLine","value":" eslint-disable-next-line no-console","start":1220,"end":1258,"loc":{"start":{"line":49,"column":3},"end":{"line":49,"column":41}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"console","start":1262,"end":1269,"loc":{"start":{"line":50,"column":3},"end":{"line":50,"column":10}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1269,"end":1270,"loc":{"start":{"line":50,"column":10},"end":{"line":50,"column":11}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"warn","start":1270,"end":1274,"loc":{"start":{"line":50,"column":11},"end":{"line":50,"column":15}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1274,"end":1275,"loc":{"start":{"line":50,"column":15},"end":{"line":50,"column":16}}},{"type":{"label":"string","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"Your model grid has a torus, and the 'Centroids' stat is not compatible with torus! Consider using 'CentroidsWithTorusCorrection' instead.","start":1276,"end":1416,"loc":{"start":{"line":50,"column":17},"end":{"line":50,"column":157}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1417,"end":1418,"loc":{"start":{"line":50,"column":158},"end":{"line":50,"column":159}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1421,"end":1422,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":3}}},{"type":"CommentLine","value":" Half the grid dimensions; if pixels with the same cellid are further apart,","start":1428,"end":1506,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":80}}},{"type":"CommentLine","value":" we assume they are on the border of the grid and that we need to correct","start":1509,"end":1584,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":77}}},{"type":"CommentLine","value":" their positions to compute the centroid.","start":1587,"end":1630,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":45}}},{"type":"CommentBlock","value":"* @ignore ","start":1633,"end":1647,"loc":{"start":{"line":56,"column":2},"end":{"line":56,"column":16}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":1650,"end":1654,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":6}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1654,"end":1655,"loc":{"start":{"line":57,"column":6},"end":{"line":57,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"halfsize","start":1655,"end":1663,"loc":{"start":{"line":57,"column":7},"end":{"line":57,"column":15}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":1664,"end":1665,"loc":{"start":{"line":57,"column":16},"end":{"line":57,"column":17}}},{"type":{"label":"new","keyword":"new","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"new","start":1666,"end":1669,"loc":{"start":{"line":57,"column":18},"end":{"line":57,"column":21}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"Array","start":1670,"end":1675,"loc":{"start":{"line":57,"column":22},"end":{"line":57,"column":27}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1675,"end":1676,"loc":{"start":{"line":57,"column":27},"end":{"line":57,"column":28}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":1677,"end":1681,"loc":{"start":{"line":57,"column":29},"end":{"line":57,"column":33}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1681,"end":1682,"loc":{"start":{"line":57,"column":33},"end":{"line":57,"column":34}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"M","start":1682,"end":1683,"loc":{"start":{"line":57,"column":34},"end":{"line":57,"column":35}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1683,"end":1684,"loc":{"start":{"line":57,"column":35},"end":{"line":57,"column":36}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"ndim","start":1684,"end":1688,"loc":{"start":{"line":57,"column":36},"end":{"line":57,"column":40}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1688,"end":1689,"loc":{"start":{"line":57,"column":40},"end":{"line":57,"column":41}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1689,"end":1690,"loc":{"start":{"line":57,"column":41},"end":{"line":57,"column":42}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"fill","start":1690,"end":1694,"loc":{"start":{"line":57,"column":42},"end":{"line":57,"column":46}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1694,"end":1695,"loc":{"start":{"line":57,"column":46},"end":{"line":57,"column":47}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":1695,"end":1696,"loc":{"start":{"line":57,"column":47},"end":{"line":57,"column":48}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1696,"end":1697,"loc":{"start":{"line":57,"column":48},"end":{"line":57,"column":49}}},{"type":{"label":"for","keyword":"for","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":true,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"for","start":1700,"end":1703,"loc":{"start":{"line":58,"column":2},"end":{"line":58,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1703,"end":1704,"loc":{"start":{"line":58,"column":5},"end":{"line":58,"column":6}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":1705,"end":1708,"loc":{"start":{"line":58,"column":7},"end":{"line":58,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":1709,"end":1710,"loc":{"start":{"line":58,"column":11},"end":{"line":58,"column":12}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":1711,"end":1712,"loc":{"start":{"line":58,"column":13},"end":{"line":58,"column":14}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":1713,"end":1714,"loc":{"start":{"line":58,"column":15},"end":{"line":58,"column":16}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1715,"end":1716,"loc":{"start":{"line":58,"column":17},"end":{"line":58,"column":18}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":1717,"end":1718,"loc":{"start":{"line":58,"column":19},"end":{"line":58,"column":20}}},{"type":{"label":"</>","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"<","start":1719,"end":1720,"loc":{"start":{"line":58,"column":21},"end":{"line":58,"column":22}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":1721,"end":1725,"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":27}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1725,"end":1726,"loc":{"start":{"line":58,"column":27},"end":{"line":58,"column":28}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"M","start":1726,"end":1727,"loc":{"start":{"line":58,"column":28},"end":{"line":58,"column":29}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1727,"end":1728,"loc":{"start":{"line":58,"column":29},"end":{"line":58,"column":30}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"ndim","start":1728,"end":1732,"loc":{"start":{"line":58,"column":30},"end":{"line":58,"column":34}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1733,"end":1734,"loc":{"start":{"line":58,"column":35},"end":{"line":58,"column":36}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":1735,"end":1736,"loc":{"start":{"line":58,"column":37},"end":{"line":58,"column":38}}},{"type":{"label":"++/--","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":true,"binop":null},"value":"++","start":1737,"end":1739,"loc":{"start":{"line":58,"column":39},"end":{"line":58,"column":41}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1740,"end":1741,"loc":{"start":{"line":58,"column":42},"end":{"line":58,"column":43}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1741,"end":1742,"loc":{"start":{"line":58,"column":43},"end":{"line":58,"column":44}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":1746,"end":1750,"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":7}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1750,"end":1751,"loc":{"start":{"line":59,"column":7},"end":{"line":59,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"halfsize","start":1751,"end":1759,"loc":{"start":{"line":59,"column":8},"end":{"line":59,"column":16}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1759,"end":1760,"loc":{"start":{"line":59,"column":16},"end":{"line":59,"column":17}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":1760,"end":1761,"loc":{"start":{"line":59,"column":17},"end":{"line":59,"column":18}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1761,"end":1762,"loc":{"start":{"line":59,"column":18},"end":{"line":59,"column":19}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":1763,"end":1764,"loc":{"start":{"line":59,"column":20},"end":{"line":59,"column":21}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":1765,"end":1769,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":26}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1769,"end":1770,"loc":{"start":{"line":59,"column":26},"end":{"line":59,"column":27}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"M","start":1770,"end":1771,"loc":{"start":{"line":59,"column":27},"end":{"line":59,"column":28}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1771,"end":1772,"loc":{"start":{"line":59,"column":28},"end":{"line":59,"column":29}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"extents","start":1772,"end":1779,"loc":{"start":{"line":59,"column":29},"end":{"line":59,"column":36}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1779,"end":1780,"loc":{"start":{"line":59,"column":36},"end":{"line":59,"column":37}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"i","start":1780,"end":1781,"loc":{"start":{"line":59,"column":37},"end":{"line":59,"column":38}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":1781,"end":1782,"loc":{"start":{"line":59,"column":38},"end":{"line":59,"column":39}}},{"type":{"label":"/","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":10,"updateContext":null},"value":"/","start":1782,"end":1783,"loc":{"start":{"line":59,"column":39},"end":{"line":59,"column":40}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":2,"start":1783,"end":1784,"loc":{"start":{"line":59,"column":40},"end":{"line":59,"column":41}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1787,"end":1788,"loc":{"start":{"line":60,"column":2},"end":{"line":60,"column":3}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1790,"end":1791,"loc":{"start":{"line":61,"column":1},"end":{"line":61,"column":2}}},{"type":"CommentBlock","value":"* @ignore ","start":1793,"end":1807,"loc":{"start":{"line":62,"column":1},"end":{"line":62,"column":15}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"constructor","start":1809,"end":1820,"loc":{"start":{"line":63,"column":1},"end":{"line":63,"column":12}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1820,"end":1821,"loc":{"start":{"line":63,"column":12},"end":{"line":63,"column":13}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"conf","start":1822,"end":1826,"loc":{"start":{"line":63,"column":14},"end":{"line":63,"column":18}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1827,"end":1828,"loc":{"start":{"line":63,"column":19},"end":{"line":63,"column":20}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1828,"end":1829,"loc":{"start":{"line":63,"column":20},"end":{"line":63,"column":21}}},{"type":{"label":"super","keyword":"super","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"super","start":1832,"end":1837,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":7}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1837,"end":1838,"loc":{"start":{"line":64,"column":7},"end":{"line":64,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"conf","start":1838,"end":1842,"loc":{"start":{"line":64,"column":8},"end":{"line":64,"column":12}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1842,"end":1843,"loc":{"start":{"line":64,"column":12},"end":{"line":64,"column":13}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":1845,"end":1846,"loc":{"start":{"line":65,"column":1},"end":{"line":65,"column":2}}},{"type":"CommentBlock","value":"* This method computes the centroid of a specific cell. \n\t\t@param {CellId} cellid the unique cell id of the cell to get centroid of.\n\t\t@param {CellArrayObject} cellpixels object produced by {@link PixelsByCell}, \n\t\twith keys for each cellid\n\t\tand as corresponding value the pixel coordinates of their pixels.\n\t\t@returns {ArrayCoordinate} coordinate of the centroid.\n\t","start":1848,"end":2219,"loc":{"start":{"line":66,"column":1},"end":{"line":72,"column":3}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"computeCentroidOfCell","start":2221,"end":2242,"loc":{"start":{"line":73,"column":1},"end":{"line":73,"column":22}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2242,"end":2243,"loc":{"start":{"line":73,"column":22},"end":{"line":73,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellid","start":2244,"end":2250,"loc":{"start":{"line":73,"column":24},"end":{"line":73,"column":30}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2250,"end":2251,"loc":{"start":{"line":73,"column":30},"end":{"line":73,"column":31}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellpixels","start":2252,"end":2262,"loc":{"start":{"line":73,"column":32},"end":{"line":73,"column":42}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2264,"end":2265,"loc":{"start":{"line":73,"column":44},"end":{"line":73,"column":45}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2265,"end":2266,"loc":{"start":{"line":73,"column":45},"end":{"line":73,"column":46}}},{"type":"CommentLine","value":"let cellpixels = this.M.getStat( PixelsByCell ) ","start":2271,"end":2321,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":52}}},{"type":{"label":"const","keyword":"const","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"const","start":2326,"end":2331,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pixels","start":2332,"end":2338,"loc":{"start":{"line":77,"column":8},"end":{"line":77,"column":14}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2339,"end":2340,"loc":{"start":{"line":77,"column":15},"end":{"line":77,"column":16}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellpixels","start":2341,"end":2351,"loc":{"start":{"line":77,"column":17},"end":{"line":77,"column":27}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2351,"end":2352,"loc":{"start":{"line":77,"column":27},"end":{"line":77,"column":28}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellid","start":2353,"end":2359,"loc":{"start":{"line":77,"column":29},"end":{"line":77,"column":35}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2360,"end":2361,"loc":{"start":{"line":77,"column":36},"end":{"line":77,"column":37}}},{"type":"CommentLine","value":" cvec will contain the x, y, (z) coordinate of the centroid.","start":2367,"end":2429,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":64}}},{"type":"CommentLine","value":" Loop over the dimensions to compute each element separately.","start":2432,"end":2495,"loc":{"start":{"line":80,"column":2},"end":{"line":80,"column":65}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":2498,"end":2501,"loc":{"start":{"line":81,"column":2},"end":{"line":81,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cvec","start":2502,"end":2506,"loc":{"start":{"line":81,"column":6},"end":{"line":81,"column":10}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2507,"end":2508,"loc":{"start":{"line":81,"column":11},"end":{"line":81,"column":12}}},{"type":{"label":"new","keyword":"new","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"new","start":2509,"end":2512,"loc":{"start":{"line":81,"column":13},"end":{"line":81,"column":16}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"Array","start":2513,"end":2518,"loc":{"start":{"line":81,"column":17},"end":{"line":81,"column":22}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2518,"end":2519,"loc":{"start":{"line":81,"column":22},"end":{"line":81,"column":23}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2519,"end":2523,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":27}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2523,"end":2524,"loc":{"start":{"line":81,"column":27},"end":{"line":81,"column":28}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"M","start":2524,"end":2525,"loc":{"start":{"line":81,"column":28},"end":{"line":81,"column":29}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2525,"end":2526,"loc":{"start":{"line":81,"column":29},"end":{"line":81,"column":30}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"ndim","start":2526,"end":2530,"loc":{"start":{"line":81,"column":30},"end":{"line":81,"column":34}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2530,"end":2531,"loc":{"start":{"line":81,"column":34},"end":{"line":81,"column":35}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2531,"end":2532,"loc":{"start":{"line":81,"column":35},"end":{"line":81,"column":36}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"fill","start":2532,"end":2536,"loc":{"start":{"line":81,"column":36},"end":{"line":81,"column":40}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2536,"end":2537,"loc":{"start":{"line":81,"column":40},"end":{"line":81,"column":41}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":2537,"end":2538,"loc":{"start":{"line":81,"column":41},"end":{"line":81,"column":42}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2538,"end":2539,"loc":{"start":{"line":81,"column":42},"end":{"line":81,"column":43}}},{"type":{"label":"for","keyword":"for","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":true,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"for","start":2542,"end":2545,"loc":{"start":{"line":82,"column":2},"end":{"line":82,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2545,"end":2546,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":6}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":2547,"end":2550,"loc":{"start":{"line":82,"column":7},"end":{"line":82,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dim","start":2551,"end":2554,"loc":{"start":{"line":82,"column":11},"end":{"line":82,"column":14}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2555,"end":2556,"loc":{"start":{"line":82,"column":15},"end":{"line":82,"column":16}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":2557,"end":2558,"loc":{"start":{"line":82,"column":17},"end":{"line":82,"column":18}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2559,"end":2560,"loc":{"start":{"line":82,"column":19},"end":{"line":82,"column":20}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dim","start":2561,"end":2564,"loc":{"start":{"line":82,"column":21},"end":{"line":82,"column":24}}},{"type":{"label":"</>","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"<","start":2565,"end":2566,"loc":{"start":{"line":82,"column":25},"end":{"line":82,"column":26}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":2567,"end":2571,"loc":{"start":{"line":82,"column":27},"end":{"line":82,"column":31}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2571,"end":2572,"loc":{"start":{"line":82,"column":31},"end":{"line":82,"column":32}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"M","start":2572,"end":2573,"loc":{"start":{"line":82,"column":32},"end":{"line":82,"column":33}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2573,"end":2574,"loc":{"start":{"line":82,"column":33},"end":{"line":82,"column":34}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"ndim","start":2574,"end":2578,"loc":{"start":{"line":82,"column":34},"end":{"line":82,"column":38}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2579,"end":2580,"loc":{"start":{"line":82,"column":39},"end":{"line":82,"column":40}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dim","start":2581,"end":2584,"loc":{"start":{"line":82,"column":41},"end":{"line":82,"column":44}}},{"type":{"label":"++/--","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":true,"binop":null},"value":"++","start":2585,"end":2587,"loc":{"start":{"line":82,"column":45},"end":{"line":82,"column":47}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2588,"end":2589,"loc":{"start":{"line":82,"column":48},"end":{"line":82,"column":49}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2589,"end":2590,"loc":{"start":{"line":82,"column":49},"end":{"line":82,"column":50}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":2598,"end":2601,"loc":{"start":{"line":84,"column":3},"end":{"line":84,"column":6}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"mi","start":2602,"end":2604,"loc":{"start":{"line":84,"column":7},"end":{"line":84,"column":9}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2605,"end":2606,"loc":{"start":{"line":84,"column":10},"end":{"line":84,"column":11}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":2607,"end":2609,"loc":{"start":{"line":84,"column":12},"end":{"line":84,"column":14}}},{"type":"CommentLine","value":" Loop over the pixels;","start":2613,"end":2637,"loc":{"start":{"line":85,"column":3},"end":{"line":85,"column":27}}},{"type":"CommentLine","value":" compute mean position per dimension with online algorithm","start":2641,"end":2701,"loc":{"start":{"line":86,"column":3},"end":{"line":86,"column":63}}},{"type":{"label":"for","keyword":"for","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":true,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"for","start":2705,"end":2708,"loc":{"start":{"line":87,"column":3},"end":{"line":87,"column":6}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2708,"end":2709,"loc":{"start":{"line":87,"column":6},"end":{"line":87,"column":7}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":2710,"end":2713,"loc":{"start":{"line":87,"column":8},"end":{"line":87,"column":11}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":2714,"end":2715,"loc":{"start":{"line":87,"column":12},"end":{"line":87,"column":13}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":2716,"end":2717,"loc":{"start":{"line":87,"column":14},"end":{"line":87,"column":15}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":0,"start":2718,"end":2719,"loc":{"start":{"line":87,"column":16},"end":{"line":87,"column":17}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2720,"end":2721,"loc":{"start":{"line":87,"column":18},"end":{"line":87,"column":19}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":2722,"end":2723,"loc":{"start":{"line":87,"column":20},"end":{"line":87,"column":21}}},{"type":{"label":"</>","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":7,"updateContext":null},"value":"<","start":2724,"end":2725,"loc":{"start":{"line":87,"column":22},"end":{"line":87,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pixels","start":2726,"end":2732,"loc":{"start":{"line":87,"column":24},"end":{"line":87,"column":30}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2732,"end":2733,"loc":{"start":{"line":87,"column":30},"end":{"line":87,"column":31}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"length","start":2733,"end":2739,"loc":{"start":{"line":87,"column":31},"end":{"line":87,"column":37}}},{"type":{"label":";","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":2740,"end":2741,"loc":{"start":{"line":87,"column":38},"end":{"line":87,"column":39}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":2742,"end":2743,"loc":{"start":{"line":87,"column":40},"end":{"line":87,"column":41}}},{"type":{"label":"++/--","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":true,"binop":null},"value":"++","start":2744,"end":2746,"loc":{"start":{"line":87,"column":42},"end":{"line":87,"column":44}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2747,"end":2748,"loc":{"start":{"line":87,"column":45},"end":{"line":87,"column":46}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":2748,"end":2749,"loc":{"start":{"line":87,"column":46},"end":{"line":87,"column":47}}},{"type":"CommentLine","value":" Check distance of current pixel to the accumulated mean in this dim.","start":2754,"end":2825,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":75}}},{"type":"CommentLine","value":" Check if this distance is greater than half the grid size in this","start":2830,"end":2898,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":72}}},{"type":"CommentLine","value":" dimension; if so, this indicates that the cell has moved to the","start":2903,"end":2969,"loc":{"start":{"line":90,"column":4},"end":{"line":90,"column":70}}},{"type":"CommentLine","value":" other end of the grid because of the torus. Note that this only","start":2974,"end":3040,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":70}}},{"type":"CommentLine","value":" holds AFTER the first pixel (so for j > 0), when we actually have","start":3045,"end":3113,"loc":{"start":{"line":92,"column":4},"end":{"line":92,"column":72}}},{"type":"CommentLine","value":" an idea of where the cell is.","start":3118,"end":3150,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":36}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":3155,"end":3158,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":7}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dx","start":3159,"end":3161,"loc":{"start":{"line":94,"column":8},"end":{"line":94,"column":10}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":3162,"end":3163,"loc":{"start":{"line":94,"column":11},"end":{"line":94,"column":12}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"pixels","start":3164,"end":3170,"loc":{"start":{"line":94,"column":13},"end":{"line":94,"column":19}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3170,"end":3171,"loc":{"start":{"line":94,"column":19},"end":{"line":94,"column":20}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":3171,"end":3172,"loc":{"start":{"line":94,"column":20},"end":{"line":94,"column":21}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3172,"end":3173,"loc":{"start":{"line":94,"column":21},"end":{"line":94,"column":22}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3173,"end":3174,"loc":{"start":{"line":94,"column":22},"end":{"line":94,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dim","start":3174,"end":3177,"loc":{"start":{"line":94,"column":23},"end":{"line":94,"column":26}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3177,"end":3178,"loc":{"start":{"line":94,"column":26},"end":{"line":94,"column":27}}},{"type":{"label":"+/-","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":false,"binop":9,"updateContext":null},"value":"-","start":3179,"end":3180,"loc":{"start":{"line":94,"column":28},"end":{"line":94,"column":29}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"mi","start":3181,"end":3183,"loc":{"start":{"line":94,"column":30},"end":{"line":94,"column":32}}},{"type":"CommentLine","value":" Update the mean with the appropriate weight. ","start":3188,"end":3236,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":52}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"mi","start":3241,"end":3243,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":6}}},{"type":{"label":"_=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"+=","start":3244,"end":3246,"loc":{"start":{"line":96,"column":7},"end":{"line":96,"column":9}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dx","start":3247,"end":3249,"loc":{"start":{"line":96,"column":10},"end":{"line":96,"column":12}}},{"type":{"label":"/","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":10,"updateContext":null},"value":"/","start":3249,"end":3250,"loc":{"start":{"line":96,"column":12},"end":{"line":96,"column":13}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3250,"end":3251,"loc":{"start":{"line":96,"column":13},"end":{"line":96,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"j","start":3251,"end":3252,"loc":{"start":{"line":96,"column":14},"end":{"line":96,"column":15}}},{"type":{"label":"+/-","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":true,"postfix":false,"binop":9,"updateContext":null},"value":"+","start":3252,"end":3253,"loc":{"start":{"line":96,"column":15},"end":{"line":96,"column":16}}},{"type":{"label":"num","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":1,"start":3253,"end":3254,"loc":{"start":{"line":96,"column":16},"end":{"line":96,"column":17}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3254,"end":3255,"loc":{"start":{"line":96,"column":17},"end":{"line":96,"column":18}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3259,"end":3260,"loc":{"start":{"line":97,"column":3},"end":{"line":97,"column":4}}},{"type":"CommentLine","value":" Set the mean position in the cvec vector.","start":3267,"end":3311,"loc":{"start":{"line":98,"column":3},"end":{"line":98,"column":47}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cvec","start":3315,"end":3319,"loc":{"start":{"line":99,"column":3},"end":{"line":99,"column":7}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3319,"end":3320,"loc":{"start":{"line":99,"column":7},"end":{"line":99,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"dim","start":3320,"end":3323,"loc":{"start":{"line":99,"column":8},"end":{"line":99,"column":11}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3323,"end":3324,"loc":{"start":{"line":99,"column":11},"end":{"line":99,"column":12}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":3325,"end":3326,"loc":{"start":{"line":99,"column":13},"end":{"line":99,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"mi","start":3327,"end":3329,"loc":{"start":{"line":99,"column":15},"end":{"line":99,"column":17}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3332,"end":3333,"loc":{"start":{"line":100,"column":2},"end":{"line":100,"column":3}}},{"type":{"label":"return","keyword":"return","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"return","start":3336,"end":3342,"loc":{"start":{"line":101,"column":2},"end":{"line":101,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cvec","start":3343,"end":3347,"loc":{"start":{"line":101,"column":9},"end":{"line":101,"column":13}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3352,"end":3353,"loc":{"start":{"line":103,"column":1},"end":{"line":103,"column":2}}},{"type":"CommentBlock","value":"* Compute centroids for all cells on the grid. \n\t@return {CellObject} with an {@link ArrayCoordinate} of the centroid for each cell\n\t on the grid (see {@link computeCentroidOfCell}). ","start":3358,"end":3545,"loc":{"start":{"line":105,"column":1},"end":{"line":107,"column":53}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"compute","start":3547,"end":3554,"loc":{"start":{"line":108,"column":1},"end":{"line":108,"column":8}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3554,"end":3555,"loc":{"start":{"line":108,"column":8},"end":{"line":108,"column":9}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3555,"end":3556,"loc":{"start":{"line":108,"column":9},"end":{"line":108,"column":10}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3556,"end":3557,"loc":{"start":{"line":108,"column":10},"end":{"line":108,"column":11}}},{"type":"CommentLine","value":" Get object with arrays of pixels for each cell on the grid, and get","start":3560,"end":3630,"loc":{"start":{"line":109,"column":2},"end":{"line":109,"column":72}}},{"type":"CommentLine","value":" the array for the current cell.","start":3633,"end":3667,"loc":{"start":{"line":110,"column":2},"end":{"line":110,"column":36}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":3670,"end":3673,"loc":{"start":{"line":111,"column":2},"end":{"line":111,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellpixels","start":3674,"end":3684,"loc":{"start":{"line":111,"column":6},"end":{"line":111,"column":16}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":3685,"end":3686,"loc":{"start":{"line":111,"column":17},"end":{"line":111,"column":18}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":3687,"end":3691,"loc":{"start":{"line":111,"column":19},"end":{"line":111,"column":23}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3691,"end":3692,"loc":{"start":{"line":111,"column":23},"end":{"line":111,"column":24}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"M","start":3692,"end":3693,"loc":{"start":{"line":111,"column":24},"end":{"line":111,"column":25}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3693,"end":3694,"loc":{"start":{"line":111,"column":25},"end":{"line":111,"column":26}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"getStat","start":3694,"end":3701,"loc":{"start":{"line":111,"column":26},"end":{"line":111,"column":33}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3701,"end":3702,"loc":{"start":{"line":111,"column":33},"end":{"line":111,"column":34}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"PixelsByCell","start":3703,"end":3715,"loc":{"start":{"line":111,"column":35},"end":{"line":111,"column":47}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3716,"end":3717,"loc":{"start":{"line":111,"column":48},"end":{"line":111,"column":49}}},{"type":"CommentLine","value":" Create an object for the centroids. Add the centroid array for each cell.","start":3724,"end":3800,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":78}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":3803,"end":3806,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":5}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"centroids","start":3807,"end":3816,"loc":{"start":{"line":114,"column":6},"end":{"line":114,"column":15}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":3817,"end":3818,"loc":{"start":{"line":114,"column":16},"end":{"line":114,"column":17}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3819,"end":3820,"loc":{"start":{"line":114,"column":18},"end":{"line":114,"column":19}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3820,"end":3821,"loc":{"start":{"line":114,"column":19},"end":{"line":114,"column":20}}},{"type":{"label":"for","keyword":"for","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":true,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"for","start":3824,"end":3827,"loc":{"start":{"line":115,"column":2},"end":{"line":115,"column":5}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3827,"end":3828,"loc":{"start":{"line":115,"column":5},"end":{"line":115,"column":6}}},{"type":{"label":"let","keyword":"let","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"let","start":3829,"end":3832,"loc":{"start":{"line":115,"column":7},"end":{"line":115,"column":10}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cid","start":3833,"end":3836,"loc":{"start":{"line":115,"column":11},"end":{"line":115,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"of","start":3837,"end":3839,"loc":{"start":{"line":115,"column":15},"end":{"line":115,"column":17}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":3840,"end":3844,"loc":{"start":{"line":115,"column":18},"end":{"line":115,"column":22}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3844,"end":3845,"loc":{"start":{"line":115,"column":22},"end":{"line":115,"column":23}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"M","start":3845,"end":3846,"loc":{"start":{"line":115,"column":23},"end":{"line":115,"column":24}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3846,"end":3847,"loc":{"start":{"line":115,"column":24},"end":{"line":115,"column":25}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellIDs","start":3847,"end":3854,"loc":{"start":{"line":115,"column":25},"end":{"line":115,"column":32}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3854,"end":3855,"loc":{"start":{"line":115,"column":32},"end":{"line":115,"column":33}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3855,"end":3856,"loc":{"start":{"line":115,"column":33},"end":{"line":115,"column":34}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3857,"end":3858,"loc":{"start":{"line":115,"column":35},"end":{"line":115,"column":36}}},{"type":{"label":"{","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3858,"end":3859,"loc":{"start":{"line":115,"column":36},"end":{"line":115,"column":37}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"centroids","start":3863,"end":3872,"loc":{"start":{"line":116,"column":3},"end":{"line":116,"column":12}}},{"type":{"label":"[","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3872,"end":3873,"loc":{"start":{"line":116,"column":12},"end":{"line":116,"column":13}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cid","start":3873,"end":3876,"loc":{"start":{"line":116,"column":13},"end":{"line":116,"column":16}}},{"type":{"label":"]","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3876,"end":3877,"loc":{"start":{"line":116,"column":16},"end":{"line":116,"column":17}}},{"type":{"label":"=","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":true,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"=","start":3878,"end":3879,"loc":{"start":{"line":116,"column":18},"end":{"line":116,"column":19}}},{"type":{"label":"this","keyword":"this","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"this","start":3880,"end":3884,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":24}}},{"type":{"label":".","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3884,"end":3885,"loc":{"start":{"line":116,"column":24},"end":{"line":116,"column":25}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"computeCentroidOfCell","start":3885,"end":3906,"loc":{"start":{"line":116,"column":25},"end":{"line":116,"column":46}}},{"type":{"label":"(","beforeExpr":true,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3906,"end":3907,"loc":{"start":{"line":116,"column":46},"end":{"line":116,"column":47}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cid","start":3908,"end":3911,"loc":{"start":{"line":116,"column":48},"end":{"line":116,"column":51}}},{"type":{"label":",","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3911,"end":3912,"loc":{"start":{"line":116,"column":51},"end":{"line":116,"column":52}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"cellpixels","start":3913,"end":3923,"loc":{"start":{"line":116,"column":53},"end":{"line":116,"column":63}}},{"type":{"label":")","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3924,"end":3925,"loc":{"start":{"line":116,"column":64},"end":{"line":116,"column":65}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3928,"end":3929,"loc":{"start":{"line":117,"column":2},"end":{"line":117,"column":3}}},{"type":{"label":"return","keyword":"return","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"return","start":3932,"end":3938,"loc":{"start":{"line":118,"column":2},"end":{"line":118,"column":8}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"centroids","start":3939,"end":3948,"loc":{"start":{"line":118,"column":9},"end":{"line":118,"column":18}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3950,"end":3951,"loc":{"start":{"line":119,"column":1},"end":{"line":119,"column":2}}},{"type":{"label":"}","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"start":3952,"end":3953,"loc":{"start":{"line":120,"column":0},"end":{"line":120,"column":1}}},{"type":{"label":"export","keyword":"export","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"export","start":3955,"end":3961,"loc":{"start":{"line":122,"column":0},"end":{"line":122,"column":6}}},{"type":{"label":"default","keyword":"default","beforeExpr":true,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"value":"default","start":3962,"end":3969,"loc":{"start":{"line":122,"column":7},"end":{"line":122,"column":14}}},{"type":{"label":"name","beforeExpr":false,"startsExpr":true,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null},"value":"Centroids","start":3970,"end":3979,"loc":{"start":{"line":122,"column":15},"end":{"line":122,"column":24}}},{"type":{"label":"eof","beforeExpr":false,"startsExpr":false,"rightAssociative":false,"isLoop":false,"isAssign":false,"prefix":false,"postfix":false,"binop":null,"updateContext":null},"start":3980,"end":3980,"loc":{"start":{"line":123,"column":0},"end":{"line":123,"column":0}}}]}