<!DOCTYPE html>
<html lang="en">

<head>
	<title>Artistoo | Artistoo</title>
      	<meta charset="utf-8">
      	<!-- width=devide-width, name - viewport, user-scalable=no required so that position:fixed
      	for the sidenav still works on mobile devices. -->
      	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
      	<base data-ice="baseUrl" href="../../../">
      	  
      	
      	<script src="script/prettify/prettify.js?v1.2.0"></script>

      	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css">
    	<link href="https://fonts.googleapis.com/css?family=Advent Pro" rel="stylesheet">
    	<link href="https://fonts.googleapis.com/css?family=Amatic SC" rel="stylesheet">
    	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    	
    	<link type="text/css" rel="stylesheet" href="css/style.css?v1.2.0">     		
        <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css?v1.2.0">		
        		
    	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    	
    	<!-- mathjax -->
    	<script>
    	MathJax = {
    		tex: {
    			inlineMath: [['$', '$']]
    		}
    	};
    	</script>
    	<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

      	
    <style>
    	/*.li {
    		list-style-type: none!important;
    	}*/

    	.navbar{
    	padding-left:10px;
    	padding-right:10px;
    	
    	}
    	
    	.nav-item {
    		line-height: 2;
    	}
    	
    	.nav-link span {
    	 font-family: 'Advent Pro';
    	 font-size:120%;
    	}
    	
    	.mainimg {
    		min-height: 21em;
    		background-color: #666;
    		margin:0px 0px!important; padding:0px!important;
    		padding-bottom:10px;
    		background-position: center;
    		background-image:linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.9)), 
    		url('./image/general/cpm-01.jpg');
    	}
    	.mainimg h1 {
    	  margin-bottom: 10px;
    	  font-size: 34px;
    	  font-weight: 300;
    	  border-bottom: solid 0px #ddd;
    	  text-align: center;
    	  font-size: 500%;
    	  font-family: 'Amatic SC';
    	}

    	.mainimg h2 {
    		text-align: center;
    		font-size:200%;
    		border-bottom: solid 0px;
    	}

    	.front-page h1 {
    		border-bottom: solid 0px;
    		margin-top:30px;
    		margin-bottom:20px;
    	}

    	.front-page h2 {
    		border-bottom: solid 0px;
    		margin-top:30px;
    		font-size:170%!important;
    	}


    	.bottom {
    	  display: block;
    	  position: absolute;
    	   bottom: 0;
    	}
    </style>
</head>


<body class="layout-container" data-ice="rootContainer">


<nav class="navbar navbar-toggleable navbar-expand-lg fixed-top navbar-light bg-light" id="navbar-main">
    <div class="container" style="margin-left:0px;max-width:100%">
        <a class="navbar-brand" href="index.html">Home</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    		<span class="navbar-toggler-icon"></span>
  		</button>
    	<div class="collapse navbar-collapse" id="navbarNav">
		  	<ul class="navbar-nav mr-auto">
				<li class="nav-item" style="list-style-type: none!important;">
				  <a class="nav-link" href="examples.html"><span>Examples</span></a>
				</li>
				<li class="nav-item" style="list-style-type: none!important;">
				  <a class="nav-link" href="explorables.html"><span>Explorables</span></a>
				</li>
				<li class="nav-item">
				  <a class="nav-link" href="manual/index.html"><span>Manual</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="converter.html"><span>Converter</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="identifiers.html"><span>Docs</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="source.html"><span>Src</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="test.html"><span>Tests</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="https://github.com/ingewortel/artistoo">
						<i class="fa" style="font-size:200%">&#xF09B;</i></a>
				</li>
			</ul>
			<div class="search-box">
				  <span>
					<i class="fa fa-search" style="font-size:200%; color:rgba(0,0,0,.5);"></i>
					<span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
				  </span>
					<ul class="search-result"></ul>
				  </div>
			</div>
			  
    	</div>
    
</nav>


<!--<div class="container mb-5">
&nbsp;
</div>-->


<nav class="navigation" data-ice="nav" id="mySidepanel"><div>
  <ul>
    
  <li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/Canvas.js~Canvas.html">Canvas</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/DiceSet.js~DiceSet.html">DiceSet</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-CanvasRenderingContext2D">CanvasRenderingContext2D</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-HexColor">HexColor</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-MersenneTwister">MersenneTwister</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-uniqueID">uniqueID</a></span></div>
    </li>
<li data-ice="doc">
    	<a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#cells">cells</a>
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/cells/Cell.js~Cell.html">Cell</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/cells/Divider.js~Divider.html">Divider</a></span></div>
    </li>
<li data-ice="doc">
    	<a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#converter">converter</a>
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/converter/ArtistooImport.js~ArtistooImport.html">ArtistooImport</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/converter/ArtistooWriter.js~ArtistooWriter.html">ArtistooWriter</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/converter/ModelDescription.js~ModelDescription.html">ModelDescription</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/converter/MorpheusImport.js~MorpheusImport.html">MorpheusImport</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/converter/MorpheusWriter.js~MorpheusWriter.html">MorpheusWriter</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/converter/Writer.js~Writer.html">Writer</a></span></div>
    </li>
<li data-ice="doc">
    	<a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#grid">grid</a>
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/grid/CoarseGrid.js~CoarseGrid.html">CoarseGrid</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/grid/Grid.js~Grid.html">Grid</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/grid/Grid2D.js~Grid2D.html">Grid2D</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/grid/Grid3D.js~Grid3D.html">Grid3D</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/grid/GridManipulator.js~GridManipulator.html">GridManipulator</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-Pixel">Pixel</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-updatePixelFunction">updatePixelFunction</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-ArrayCoordinate">ArrayCoordinate</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-GridSize">GridSize</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-IndexCoordinate">IndexCoordinate</a></span></div>
    </li>
<li data-ice="doc">
    	<a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#hamiltonian">hamiltonian</a>
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/ActivityConstraint.js~ActivityConstraint.html">ActivityConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/ActivityMultiBackground.js~ActivityMultiBackground.html">ActivityMultiBackground</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/Adhesion.js~Adhesion.html">Adhesion</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/AttractionPointConstraint.js~AttractionPointConstraint.html">AttractionPointConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/BarrierConstraint.js~BarrierConstraint.html">BarrierConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/BorderConstraint.js~BorderConstraint.html">BorderConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/ChemotaxisConstraint.js~ChemotaxisConstraint.html">ChemotaxisConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/ConnectivityConstraint.js~ConnectivityConstraint.html">ConnectivityConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/Constraint.js~Constraint.html">Constraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/HardConstraint.js~HardConstraint.html">HardConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/HardVolumeRangeConstraint.js~HardVolumeRangeConstraint.html">HardVolumeRangeConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/LocalConnectivityConstraint.js~LocalConnectivityConstraint.html">LocalConnectivityConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/ParameterChecker.js~ParameterChecker.html">ParameterChecker</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/PerimeterConstraint.js~PerimeterConstraint.html">PerimeterConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/PersistenceConstraint.js~PersistenceConstraint.html">PersistenceConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/PreferredDirectionConstraint.js~PreferredDirectionConstraint.html">PreferredDirectionConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/SoftConnectivityConstraint.js~SoftConnectivityConstraint.html">SoftConnectivityConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/SoftConstraint.js~SoftConstraint.html">SoftConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/SoftLocalConnectivityConstraint.js~SoftLocalConnectivityConstraint.html">SoftLocalConnectivityConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/hamiltonian/VolumeConstraint.js~VolumeConstraint.html">VolumeConstraint</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-variable">V</div>
    	<div class="nav-classname" data-ice="name"><span><a href="variable/index.html#static-variable-AutoAdderConfig">AutoAdderConfig</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-KindArray">KindArray</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-KindMatrix">KindMatrix</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-SingleValue">SingleValue</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-CellKindInteractionMatrix">CellKindInteractionMatrix</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-PerKindArray">PerKindArray</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-PerKindBoolean">PerKindBoolean</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-PerKindNonNegative">PerKindNonNegative</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-PerKindProb">PerKindProb</a></span></div>
    </li>
<li data-ice="doc">
    	<a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#models">models</a>
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/models/CA.js~CA.html">CA</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/models/CPM.js~CPM.html">CPM</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/models/CPMEvol.js~CPMEvol.html">CPMEvol</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/models/GridBasedModel.js~GridBasedModel.html">GridBasedModel</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-CellId">CellId</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-CellKind">CellKind</a></span></div>
    </li>
<li data-ice="doc">
    	<a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#simulation">simulation</a>
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/simulation/Simulation.js~Simulation.html">Simulation</a></span></div>
    </li>
<li data-ice="doc">
    	<a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#stats">stats</a>
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/stats/BorderPixelsByCell.js~BorderPixelsByCell.html">BorderPixelsByCell</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/stats/CellNeighborList.js~CellNeighborList.html">CellNeighborList</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/stats/Centroids.js~Centroids.html">Centroids</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/stats/CentroidsWithTorusCorrection.js~CentroidsWithTorusCorrection.html">CentroidsWithTorusCorrection</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/stats/ConnectedComponentsByCell.js~ConnectedComponentsByCell.html">ConnectedComponentsByCell</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/stats/ConnectedComponentsByCellBorder.js~ConnectedComponentsByCellBorder.html">ConnectedComponentsByCellBorder</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/stats/Connectedness.js~Connectedness.html">Connectedness</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/stats/PixelsByCell.js~PixelsByCell.html">PixelsByCell</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-class">C</div>
    	<div class="nav-classname" data-ice="name"><span><a href="class/src/stats/Stat.js~Stat.html">Stat</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-CellArrayObject">CellArrayObject</a></span></div>
    </li>
<li data-ice="doc">
    	
    	<div data-ice="kind" class="kind-typedef">T</div>
    	<div class="nav-classname" data-ice="name"><span><a href="typedef/index.html#static-typedef-CellObject">CellObject</a></span></div>
    </li>
</ul>
</div>
</nav>

<div class="content" data-ice="content" id="mainContent"><button type="button" id="sidebarToggle" class="btn btn-side-toggle">
		<span id="sideButtonIcon" class="fa fa-chevron-left"></span>
	</button>
	<div class="swipe-area"></div>

<h1 data-ice="title">src/hamiltonian/SoftConnectivityConstraint.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">

import SoftConstraint from &quot;./SoftConstraint.js&quot;
import ParameterChecker from &quot;./ParameterChecker.js&quot;

/** This constraint encourages that cells stay &apos;connected&apos; throughout any copy attempts.
In contrast to the hard version of the {@link ConnectivityConstraint}, this version does
not completely forbid copy attempts that break the cell connectivity, but punishes them
through a positive term in the Hamiltonian. 
@experimental
*/
class SoftConnectivityConstraint extends SoftConstraint {

	/** The constructor of the ConnectivityConstraint requires a conf object with one parameter.
	@param {object} conf - parameter object for this constraint.
	@param {PerKindBoolean} conf.LAMBDA_CONNECTIVITY - should the cellkind be connected or not?
	*/
	constructor( conf ){
		super(conf)
		
		/** Object tracking the borderpixels of each cell. This is kept up to date after
		every copy attempt.
		@type {CellObject}*/
		this.borderpixelsbycell = {}
		
		this.components = []
	}
	
	/** The set CPM method attaches the CPM to the constraint. */
	set CPM(C){
		super.CPM = C
		
		/** Private property used by {@link updateBorderPixels} to track borders. 
		@private
		@type {Uint16Array} */
		this._neighbours = new Uint16Array(this.C.grid.p2i(this.C.extents))
	}
	
	/** This method checks that all required parameters are present in the object supplied to
	the constructor, and that they are of the right format. It throws an error when this
	is not the case.*/
	confChecker(){
		let checker = new ParameterChecker( this.conf, this.C )
		checker.confCheckParameter( &quot;LAMBDA_CONNECTIVITY&quot;, &quot;KindArray&quot;, &quot;NonNegative&quot; )
	}
	
	/** Update the borderpixels when pixel i changes from t_old into t_new.
	@param {IndexCoordinate} i - the pixel to change
	@param {CellId} t_old - the cell the pixel belonged to previously
	@param {CellId} t_new - the cell the pixel belongs to now. */
	updateBorderPixels( i, t_old, t_new  ){
		if( t_old == t_new ) return
		if( !(t_new in this.borderpixelsbycell) ){
			this.borderpixelsbycell[t_new] = {}
		}
		const Ni = this.C.grid.neighi( i )
		const wasborder = this._neighbours[i] &gt; 0
		// current neighbors of pixel i, set counter to zero and loop over nbh.
		this._neighbours[i] = 0
		for( let ni of Ni  ){
			// type of the neighbor.
			const nt = this.C.grid.pixti(ni)
			
			// If type is not the t_new of pixel i, nbi++ because the neighbor belongs
			// to a different cell. 
			if( nt != t_new ){
				this._neighbours[i] ++ 
			}
			
			// If neighbor type is t_old, the border of t_old may have to be adjusted. 
			// It gets an extra neighbor because the current pixel becomes t_new.
			if( nt == t_old ){
				// If this wasn&apos;t a borderpixel of t_old, it now becomes one because
				// it has a neighbor belonging to t_new
				if( this._neighbours[ni] ++ == 0 ){
					if( !(t_old in this.borderpixelsbycell) ){
						this.borderpixelsbycell[t_old] = {}
					}
					this.borderpixelsbycell[t_old][ni] = true
				}

			}
			// If type is t_new, the neighbor may no longer be a borderpixel
			if( nt == t_new ){
				if( --this._neighbours[ni] == 0 &amp;&amp; ( ni in this.borderpixelsbycell[t_new] ) ){
					delete this.borderpixelsbycell[t_new][ni]
				}
			}
		}
		// Case 1: 
		// If current pixel is a borderpixel, add it to those of the current cell.
		if( this._neighbours[i] &gt; 0 ){
			this.borderpixelsbycell[t_new][i]=true
		}
		
		// Case 2:
		// Current pixel was a borderpixel. Remove from the old cell. 
		if( wasborder ){
			// It was a borderpixel from the old cell, but no longer belongs to that cell.
			if( i in this.borderpixelsbycell[t_old] ){ 
				delete this.borderpixelsbycell[t_old][i]
			}
		}
		
	}
	
	/** Get the connected components of the borderpixels of the current cell.
	@param {CellId} cellid - cell to check the connected components of.
	@return {object} an array with an element for every connected component, which is in
	turn an array of the {@link ArrayCoordinate}s of the pixels belonging to that component.  */
	connectedComponentsOfCellBorder( cellid ){
	
		/* Note that to get number of connected components, we only need to look at cellborderpixels. */
		if( !( cellid in this.borderpixelsbycell ) ){
			return []
		}
		
		//let cbpi = Object.keys( this.borderpixelsbycell[cellid] ), cbpobject = this.borderpixelsbycell[cellid]
		return this.connectedComponentsOf( this.borderpixelsbycell[cellid] )
	}
	
	/** Get the connected components of a set of pixels.
	@param {object} pixelobject - an object with as keys the {@link IndexCoordinate}s of the pixels to check.
	@return {object} an array with an element for every connected component, which is in
	turn an array of the {@link ArrayCoordinate}s of the pixels belonging to that component.  */
	connectedComponentsOf( pixelobject ){
	
		let cbpi = Object.keys( pixelobject )
		
		let visited = {}, k=0, pixels = [], C = this.C
		let labelComponent = function(seed, k){
			let q = [seed]
			let cellid = C.pixti(q)
			visited[q[0]] = 1
			pixels[k] = []
			while( q.length &gt; 0 ){
				let e = q.pop()
				pixels[k].push(C.grid.i2p(e) )
				let ne = C.grid.neighi( e )
				for( let i = 0 ; i &lt; ne.length ; i ++ ){
					if( C.pixti( ne[i] ) == cellid &amp;&amp;
						!(ne[i] in visited) &amp;&amp; (ne[i] in pixelobject) ){
						q.push(ne[i])
						visited[ne[i]]=1
					}
				}
			}
		}
		for( let i = 0 ; i &lt; cbpi.length ; i ++ ){
			let pi = parseInt( cbpi[i] )
			if( !(pi in visited) ){
				labelComponent( pi, k )
				k++
			}
		}
		return pixels
	}
		
	/** The postSetpixListener of the ConnectivityConstraint updates the internally
	tracked borderpixels after every copy.
	@param {IndexCoordinate} i - the pixel to change
	@param {CellId} t_old - the cell the pixel belonged to previously
	@param {CellId} t - the cell the pixel belongs to now.	
	*/
	postSetpixListener(  i, t_old, t ){
		this.updateBorderPixels( i, t_old, t )
	}	
	
	
	/** To speed things up: first check if a pixel change disrupts the local connectivity
	in its direct neighborhood. If local connectivity is not disrupted, we don&apos;t have to
	check global connectivity at all. This currently only works in 2D, so it returns 
	false for 3D (ensuring that connectivity is checked globally).
	@param {IndexCoordinate} tgt_i - the pixel to change
	@param {CellId} tgt_type - the cell the pixel belonged to before the copy attempt.
	@return {boolean} does the local neighborhood remain connected if this pixel changes?
	*/
	localConnected( tgt_i, tgt_type ){
	
		// Get neighbors of the target pixel
		let nbh = this.C.grid.neighi( tgt_i )
		
		// object storing the neighbors of tgt_type
		let nbhobj = {}
		
		for( let n of nbh ){
		
			// add it and its neighbors to the neighborhood object
			if( this.C.pixti(n) == tgt_type ){
				nbhobj[n] = true
			}
		}
		
		// Get connected components.
		let conn = this.connectedComponentsOf( nbhobj )
		this.components = conn
		//console.log(conn.length)
		
		let connected = ( conn.length == 1 )
		//console.log(connected)
		return connected
		
	}
	
	/** Compute the &apos;connectivity&apos; of a cell; a number between 0 and 1. If the cell
	is completely connected, this returns 1. A cell split into many parts gets a 
	connectivity approaching zero. It also matters how the cell is split: splitting
	the cell in two near-equal parts results in a lower connectivity than separating
	one pixel from the rest of the cell.
	@param {Array} components - an array of arrays (one array per connected component, 
	in which each entry is the {@link ArrayCoordinate} of a pixel belonging to that component).
	@param {CellId} cellid - the cell these components belong to.
	@return {number} connectivity of this cell.*/
	connectivity( components, cellid ){
		if( components.length &lt;= 1 ){
			return 1
		} else {
			
			let Vtot = Object.keys( this.borderpixelsbycell[cellid] ).length
			let Ci = 0
			for( let c of components ){
				let Vc = c.length
				Ci += (Vc/Vtot)*(Vc/Vtot)
			}
			//console.log( Ci )
			return Ci
			
		}
	}
	
	/** This method checks the difference in connectivity when pixel tgt_i is changed from
	tgt_type to src_type. 
	@param {IndexCoordinate} tgt_i - the pixel to change
	@param {CellId} src_type - the new cell for this pixel.
	@param {CellId} tgt_type - the cell the pixel belonged to previously. 	
	@return {number} conndiff - the difference: connectivity_after - connectivity_before.
	*/
	checkConnected( tgt_i, src_type, tgt_type ){
	
		//return this.localConnected( tgt_i, tgt_type )
		
	
		
		if( this.localConnected( tgt_i, tgt_type ) ){
			return 0
		} 
		
		/*else {
			let conn_new = this.connectivity( this.components, tgt_type )
			
			// current components
			let nbh = this.C.grid.neighi( tgt_i )
			let nbhobj = {}
			nbhobj[tgt_i] = true
		
			for( let n of nbh ){
				if( this.C.pixti(n) == tgt_type ){
					nbhobj[n] = true
				}
			}
			
			this.components = this.connectedComponentsOf( nbhobj )
			let conn_old = this.connectivity( this.components, tgt_type )
			
			let conndiff = conn_old - conn_new
			return conndiff
			
			
			
		}*/
		
		
	
		let comp1 = this.connectedComponentsOfCellBorder( tgt_type )
		let conn1 = Math.pow( (1-this.connectivity( comp1, tgt_type )),2 )
	
		// Update the borderpixels as if the change occurs
		this.updateBorderPixels( tgt_i, tgt_type, src_type )
		let comp = this.connectedComponentsOfCellBorder( tgt_type )
		let conn2 = Math.pow((1-this.connectivity( comp, tgt_type )),2)
		
		
		let conndiff = conn2 - conn1
		/*if( conn2 &gt; conn1 ){
			conndiff = -conndiff
		} */
		
		// Change borderpixels back because the copy attempt hasn&apos;t actually gone through yet.
		this.updateBorderPixels( tgt_i, src_type, tgt_type )
		
		return conndiff
		
	}

	/** Method for hard constraints to compute whether the copy attempt fulfills the rule.
	 @param {IndexCoordinate} src_i - coordinate of the source pixel that tries to copy.
	 @param {IndexCoordinate} tgt_i - coordinate of the target pixel the source is trying
	 to copy into.
	 @param {CellId} src_type - cellid of the source pixel.
	 @param {CellId} tgt_type - cellid of the target pixel. 
	 @return {boolean} whether the copy attempt satisfies the constraint.*/ 
	deltaH( src_i, tgt_i, src_type, tgt_type ){
		// connectedness of src cell cannot change if it was connected in the first place.
		
		let lambda = this.cellParameter(&quot;LAMBDA_CONNECTIVITY&quot;, tgt_type)
		
		// connectedness of tgt cell
		if( tgt_type != 0 &amp;&amp; lambda &gt; 0 ){
			return lambda*this.checkConnected( tgt_i, src_type, tgt_type )
		}
		
		return 0
	}
}

export default SoftConnectivityConstraint
</code></pre>

</div>



<!-- for the pages written by esdoc, this is changed. -->
<footer class="footer" id="autoFooter">
  <p><i>Last updated: <span id="date"></span></i></p>
</footer>

<script src="script/search_index.js?v1.2.0"></script>
<script src="script/search.js?v1.2.0"></script>
<script src="script/pretty-print.js?v1.2.0"></script>
<script src="script/inherited-summary.js?v1.2.0"></script>
<script src="script/test-summary.js?v1.2.0"></script>
<script src="script/inner-link.js?v1.2.0"></script>
<script src="script/patch-for-local.js?v1.2.0"></script>

<!-- https://onextrapixel.com/creating-a-swipeable-side-menu-for-the-web/ -->
<script type="text/javascript" src="script/jquery.touchSwipe.min.js"></script>
<script src="script/swipe-nav.js?v1.2.0"></script>


<script>
document.getElementById("date").innerHTML = Date();
</script>
<script>

	// insert "shy hyphens" in between parts of the camel-cased word; these appear only
	// when the word needs to break. 
	function camelWrap(node) {
	  camelWrapUnicode(node);
	  node.innerHTML = node.innerHTML.replace(/\u200B/g, "&shy;"); // <wbr>
	}
	function camelWrapUnicode(node) {
	  for (node = node.firstChild; node; node = node.nextSibling) {
		if (node.nodeType==Node.TEXT_NODE) {
		  node.nodeValue = node.nodeValue.replace(/[\w:]{18,}/g, function(str) {
			return str.replace(/([a-z])([A-Z])/g, "$1\u00AD$2"); // 
		  });
		} else {
		  camelWrapUnicode(node);
		}
	  }
	}
	
	// insert the shy hyphens for all the class names in the sidenav.
	$(document).ready(function () {
    	
    		camelWrap( document.getElementById("mySidepanel"))
			
	});
	
	document.getElementById( "autoFooter" ).innerHTML = 'Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion"></span><i>Last updated: <span id="date"></span></i></a>'
	document.getElementById("date").innerHTML = Date();
</script>

</body>
</html>
